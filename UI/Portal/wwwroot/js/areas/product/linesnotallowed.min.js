function clientMapper(n){var t=$("#Clients").data("kendoDropDownList").dataSource.data(),i=Enumerable.From(t).Where(t=>t.cardCode===n.value).FirstOrDefault(),r=Enumerable.From(t).IndexOf(i);n.success(r)}function Clean(){$("#Clients").getKendoDropDownList().value("");$("#lines-data").empty();$("#action-filter").removeClass("btn-outline-secondary").addClass("btn-primary");$("#AllClients").prop("checked",!0);$("#action-save").addClass("d-none");loadClientsCombo(!0)}function loadClientsCombo(n){$.get(urlClients,{All:n},function(n){var t=new kendo.data.DataSource({data:n}),i=$("#Clients").getKendoDropDownList();i.setDataSource(t)})}$(function(){$(".card-body").on("click",".linecheck",function(n){n.currentTarget.value=="0"&&$(".linecheck").prop("checked",n.currentTarget.checked)})});$(window).resize(function(){});$("#AllClients").on("change",function(){loadClientsCombo(this.checked)});$("#action-filter").click(function(n){n.preventDefault();var t=$("#Clients").val();t!=""?$.get(urlDetail,{CardCode:t},function(n){if(n.message===""){$("#lines-data").empty();var t=kendo.template($("#lineTemplate").html());$.each(n.items,function(n,i){$("#lines-data").append(t(i))});$("#action-save").removeAttr("disabled").removeClass("d-none")}else showError(n.message),$("#action-save").attr("disabled")}):(Clean(),showInfo("Debe seleccionar un cliente."))});$("#action-clean").click(function(n){n.preventDefault();Clean()});$("#action-save").click(function(n){n.preventDefault();var t=[],i=$("#Clients").val();$(".line :checked").each(function(n,i){$(i).val()!=="0"&&t.push($(i).val())});$.post(urlEdit,{CardCode:i,Codes:t},function(n){n.message===""?showMessage("Se guardaron las Líneas correctamente."):showError("Se ha producido un error al querer guardar las Líneas: <br />"+n.message)})});