function loadData(){$.get(urlFilter,{Year:$("#year").val(),Month:$("#month").val()},function(n){n.message===""?renderGrid(n.items):showError(n.message)})}function renderGrid(n){var i=$("#QuoteContent"),t=$("<div>");i.html(t);t.handsontable({data:n,columns:[{data:"id",readOnly:!0},{data:"subsidiary",readOnly:!0,width:150},{data:"division",readOnly:!0,width:200},{data:"amount",type:"numeric",numericFormat:{pattern:"#,##0.00"},width:150}],rowHeaders:!1,colHeaders:["Id","Sucursal","DivisiÃ³n","Monto"],columnSorting:!0,height:700,className:"htMiddle",hiddenColumns:{columns:[0],indicators:!1},mergeCells:[{row:0,col:1,rowspan:3,colspan:1},{row:3,col:1,rowspan:3,colspan:1},{row:6,col:1,rowspan:3,colspan:1}],licenseKey:"non-commercial-and-evaluation"})}function saveQuote(){var t=$(".handsontable").handsontable("getInstance"),i=t.getData(),n=[];i.forEach(t=>{n.push({Id:t[0],Subsidiary:t[1],Division:t[2],Amount:t[3],Year:$("#year").val(),Month:$("#month").val()})});$.post(urlSave,{Items:n,Year:$("#year").val(),Month:$("#month").val()},function(n){n.message==""?(renderGrid(n.items),showMessage("Se han guardado los presupuestos correctamente")):showError(n.message)})}$(()=>{$("#month").kendoDropDownList({value:currentMonth}),loadData()});$("#action-filter").click(()=>loadData());$("#action-save").click(()=>saveQuote());