!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,s,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isArray:h,extend:i,merge:n}=t;class r extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getRegressionLineParameters(e,t){function s(e,t){return h(e)?e[t]:e}const i=this.options.params.index,n=e.reduce(function(e,t){return t+e},0),r=t.reduce(function(e,t){return s(t,i)+e},0),o=n/e.length,a=r/t.length;let p,c,d,l=0,u=0;for(d=0;d<e.length;d++)p=e[d]-o,c=s(t[d],i)-a,l+=p*c,u+=Math.pow(p,2);var g=u?l/u:0;return{slope:g,intercept:a-g*o}}getEndPointY(e,t){return e.slope*t+e.intercept}transformXData(e,t){const s=e[0];return e.map(function(e){return(e-s)/t})}findClosestDistance(e){let t,s,i;for(i=1;i<e.length-1;i++)0<(t=e[i]-e[i-1])&&(void 0===s||t<s)&&(s=t);return s}getValues(e,t){const s=e.xData,i=e.yData,n=t.period,r={xData:[],yData:[],values:[]},o=this.options.params.xAxisUnit||this.findClosestDistance(s);let a,p,c,d,l,u,g,h,f;for(p=n-1;p<=s.length-1;p++)c=p-n+1,d=p+1,l=s[p],g=s.slice(c,d),h=i.slice(c,d),f=this.transformXData(g,o),a=this.getRegressionLineParameters(f,h),u=this.getEndPointY(a,f[f.length-1]),r.values.push({regressionLineParameters:a,x:l,y:u}),r.xData.push(l),r.yData.push(u);return r}}return r.defaultOptions=n(s.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),i(r.prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",r),r}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:i,merge:n}=t;class r extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getEndPointY(e){return e.slope}}return r.defaultOptions=n(s.defaultOptions),i(r.prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",r),r}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:i,merge:n}=t;class r extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getEndPointY(e){return e.intercept}}return r.defaultOptions=n(s.defaultOptions),i(r.prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",r),r}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:i,merge:n}=t;class r extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}slopeToAngle(e){return Math.atan(e)*(180/Math.PI)}getEndPointY(e){return this.slopeToAngle(e.slope)}}return r.defaultOptions=n(s.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),i(r.prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",r),r}),t(e,"masters/indicators/regressions.src.js",[],function(){})});