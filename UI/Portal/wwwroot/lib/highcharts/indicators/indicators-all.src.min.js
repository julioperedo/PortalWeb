!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,s,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Stock/Indicators/SMA/SMAIndicator.js",[e["Core/Chart/Chart.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(t,e,s){var o=e.seriesTypes["line"];const{addEvent:i,fireEvent:h,error:a,extend:r,isArray:g,merge:n,pick:l,splat:m}=s;class p extends o{constructor(){super(...arguments),this.data=void 0,this.dataEventsToUnbind=void 0,this.linkedParent=void 0,this.options=void 0,this.points=void 0}destroy(){this.dataEventsToUnbind.forEach(function(e){e()}),super.destroy.apply(this,arguments)}getName(){const s=[];let e=this.name;return e||((this.nameComponents||[]).forEach(function(e,t){s.push(this.options.params[e]+l(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+s.join(", ")+")":"")),e}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i.length,r=[],n=[],l=[];let p,d=-1,u=0,c,h=0;if(!(o.length<s)){for(g(i[0])&&(d=t.index||0);u<s-1;)h+=d<0?i[u]:i[u][d],u++;for(p=u;p<a;p++)h+=d<0?i[p]:i[p][d],c=[o[p],h/s],r.push(c),n.push(c[0]),l.push(c[1]),h-=d<0?i[p-u]:i[p-u][d];return{values:r,xData:n,yData:l}}}init(s,e){const o=this;super.init.call(o,s,e);e=i(t,"afterLinkSeries",function({isUpdating:e}){if(!e){e=!!o.dataEventsToUnbind.length;if(!o.linkedParent)return a("Series "+o.options.linkedTo+" not found! Check `linkedTo`.",!1,s);if(e||(o.dataEventsToUnbind.push(i(o.linkedParent,"updatedData",function(){o.recalculateValues()})),o.calculateOn.xAxis&&o.dataEventsToUnbind.push(i(o.linkedParent.xAxis,o.calculateOn.xAxis,function(){o.recalculateValues()}))),"init"===o.calculateOn.chart)o.processedYData||o.recalculateValues();else if(!e){const t=i(o.chart,o.calculateOn.chart,function(){o.recalculateValues(),t()})}}},{order:0});o.dataEventsToUnbind=[],o.eventsToUnbind.push(e)}recalculateValues(){const e=[],t=this,s=t.points||[],o=(t.xData||[]).length,i={values:[],xData:[],yData:[]};let a=!0,r,n,l,p,d,u;const c=t.linkedParent.options&&t.linkedParent.yData&&t.linkedParent.yData.length&&t.getValues(t.linkedParent,t.options.params)||i;if(o&&!t.hasGroupedData&&t.visible&&t.points)if(t.cropped){for(t.xAxis&&(p=t.xAxis.min,d=t.xAxis.max),l=t.cropData(c.xData,c.yData,p,d),u=0;u<l.xData.length;u++)e.push([l.xData[u]].concat(m(l.yData[u])));r=c.xData.indexOf(t.xData[0]),n=c.xData.indexOf(t.xData[t.xData.length-1]),-1===r&&n===c.xData.length-2&&e[0][0]===s[0].x&&e.shift(),t.updateData(e)}else(t.updateAllPoints||c.xData.length!==o-1&&c.xData.length!==o+1)&&(a=!1,t.updateData(c.values));a&&(t.xData=c.xData,t.yData=c.yData,t.options.data=c.values),t.calculateOn.xAxis&&t.processedXData&&(delete t.processedXData,t.isDirty=!0,t.redraw()),t.isDirtyData=!!t.linkedSeries.length,h(t,"updatedData")}processData(){var e=this,t=e.options.compareToMain,s=e.linkedParent;super.processData.apply(e,arguments),e.dataModify&&s&&s.dataModify&&s.dataModify.compareValue&&t&&(e.dataModify.compareValue=s.dataModify.compareValue)}}return p.defaultOptions=n(o.defaultOptions,{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:3,period:14}}),r(p.prototype,{calculateOn:{chart:"init"},hasDerivedData:!0,nameComponents:["period"],nameSuffixes:[],useCommonDataGrouping:!0}),e.registerSeriesType("sma",p),p}),t(e,"Stock/Indicators/EMA/EMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{correctFloat:n,isArray:m,merge:o}=t;class i extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}accumulatePeriodPoints(e,t,s){let o=0,i=0,a;for(;i<e;)a=t<0?s[i]:s[i][t],o+=a,i++;return o}calculateEma(e,t,s,o,i,a,r){e=e[s-1],t=a<0?t[s-1]:t[s-1][a];return[e,void 0===i?r:n(t*o+i*(1-o))]}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=2/(s+1),n=[],l=[],p=[];let d,u,c,h=-1,g;if(!(a<s)){for(m(i[0])&&(h=t.index||0),g=this.accumulatePeriodPoints(s,h,i)/s,c=s;c<a+1;c++)u=this.calculateEma(o,i,c,r,d,h,g),n.push(u),l.push(u[0]),p.push(u[1]),d=u[1];return{values:n,xData:l,yData:p}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:3,period:9}}),e.registerSeriesType("ema",i),i}),t(e,"Stock/Indicators/AD/ADIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{error:m,extend:o,merge:i}=t;class y extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}static populateAverage(e,t,s,o,i){var a=t[o][1],r=t[o][2],t=t[o][3],s=s[o];return[e[o],t===a&&t===r||a===r?0:(2*t-r-a)/(a-r)*s]}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=t.volumeSeriesID,r=e.chart.get(a),n=r&&r.yData,l=i?i.length:0,p=[],d=[],u=[];let c,h,g;if(!(o.length<=s&&l&&4!==i[0].length)){if(r){for(h=s;h<l;h++)c=p.length,g=y.populateAverage(o,i,n,h,s),0<c&&(g[1]+=p[c-1][1]),p.push(g),d.push(g[0]),u.push(g[1]);return{values:p,xData:d,yData:u}}m("Series "+a+" not found! Check `volumeSeriesID`.",!0,e.chart)}}}return y.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),o(y.prototype,{nameComponents:!1,nameBase:"Accumulation/Distribution"}),e.registerSeriesType("ad",y),y}),t(e,"Stock/Indicators/AO/AOIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){var e=e["noop"],{column:{prototype:o},sma:i}=t.seriesTypes;const{extend:a,merge:r,correctFloat:v,isArray:f}=s;class n extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}drawGraph(){const e=this.options,t=this.points,s=this.userOptions.color,o=e.greaterBarColor,i=e.lowerBarColor,a=t[0];let r;if(!s&&a)for(a.color=o,r=1;r<t.length;r++)t[r].y>t[r-1].y?t[r].color=o:t[r].y<t[r-1].y?t[r].color=i:t[r].color=t[r-1].color}getValues(e){const t=e.xData||[],s=e.yData||[],o=s.length,i=[],a=[],r=[];let n,l,p,d,u,c,h,g,m=0,y=0;if(!(t.length<=34)&&f(s[0])&&4===s[0].length){for(h=0;h<33;h++)c=(s[h][1]+s[h][2])/2,29<=h&&(y=v(y+c)),m=v(m+c);for(g=33;g<o;g++)c=(s[g][1]+s[g][2])/2,y=v(y+c),m=v(m+c),n=y/5,l=m/34,p=v(n-l),i.push([t[g],p]),a.push(t[g]),r.push(p),d=g+1-5,u=g+1-34,y=v(y-(s[d][1]+s[d][2])/2),m=v(m-(s[u][1]+s[u][2])/2);return{values:i,xData:a,yData:r}}}}return n.defaultOptions=r(i.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),a(n.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:e,getColumnMetrics:o.getColumnMetrics,crispCol:o.crispCol,translate:o.translate,drawPoints:o.drawPoints}),t.registerSeriesType("ao",n),n}),t(e,"Stock/Indicators/MultipleLinesComposition.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,s){const m=e.seriesTypes["sma"]["prototype"],{defined:y,error:v,merge:f}=s;var t;{e=t=t||{};const n=[],l=["bottomLine"],p=["top","bottom"],d=["top"];function x(e){return"plot"+e.charAt(0).toUpperCase()+e.slice(1)}function D(e,t){const s=[];return(e.pointArrayMap||[]).forEach(e=>{e!==t&&s.push(x(e))}),s}function o(){const s=this,e=s.pointValKey,t=s.linesApiNames,o=s.areaLinesNames,i=s.points,a=s.options,r=s.graph,n={options:{gapSize:a.gapSize}},l=[],p=D(s,e);let d=i.length,u;var c,h,g;p.forEach((e,t)=>{for(l[t]=[];d--;)u=i[d],l[t].push({x:u.x,plotX:u.plotX,plotY:u[e],isNull:!y(u[e])});d=i.length}),s.userOptions.fillColor&&o.length&&(c=p.indexOf(x(o[0])),c=l[c],h=1===o.length?i:l[p.indexOf(x(o[1]))],g=s.color,s.points=h,s.nextPoints=c,s.color=s.userOptions.fillColor,s.options=f(i,n),s.graph=s.area,s.fillGraph=!0,m.drawGraph.call(s),s.area=s.graph,delete s.nextPoints,delete s.fillGraph,s.color=g),t.forEach((e,t)=>{l[t]?(s.points=l[t],a[e]?s.options=f(a[e].styles,n):v('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),s.graph=s["graph"+e],m.drawGraph.call(s),s["graph"+e]=s.graph):v('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),s.points=i,s.options=a,s.graph=r,m.drawGraph.call(s)}function i(e){let t,s=[],o;if(e=e||this.points,this.fillGraph&&this.nextPoints){if((t=m.getGraphPath.call(this,this.nextPoints))&&t.length){t[0][0]="L",s=m.getGraphPath.call(this,e);for(let e=(o=t.slice(0,s.length)).length-1;0<=e;e--)s.push(o[e])}}else s=m.getGraphPath.apply(this,arguments);return s}function a(t){const s=[];return(this.pointArrayMap||[]).forEach(e=>{s.push(t[e])}),s}function r(){const e=this.pointArrayMap;let o,i;o=D(this),m.translate.apply(this,arguments),this.points.forEach(s=>{e.forEach((e,t)=>{i=s[e],null!==(i=this.dataModify?this.dataModify.modifyValue(i):i)&&(s[o[t]]=this.yAxis.toPixels(i,!0))})})}e.compose=function(e){if(s.pushUnique(n,e)){const t=e.prototype;t.linesApiNames=t.linesApiNames||l.slice(),t.pointArrayMap=t.pointArrayMap||p.slice(),t.pointValKey=t.pointValKey||"top",t.areaLinesNames=t.areaLinesNames||d.slice(),t.drawGraph=o,t.getGraphPath=i,t.toYData=a,t.translate=r}return e}}return t}),t(e,"Stock/Indicators/Aroon/AroonIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){var o=t.seriesTypes["sma"];const{extend:i,merge:a,pick:g}=s;function m(e,t){let s=e[0],o=0,i;for(i=1;i<e.length;i++)("max"===t&&e[i]>=s||"min"===t&&e[i]<=s)&&(s=e[i],o=i);return o}class r extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=[],n=[],l=[];let p,d,u,c,h;for(c=s-1;c<a;c++)u=m((h=i.slice(c-s+1,c+2)).map(function(e){return g(e[2],e)}),"min"),p=m(h.map(function(e){return g(e[1],e)}),"max")/s*100,d=u/s*100,o[c+1]&&(r.push([o[c+1],p,d]),n.push(o[c+1]),l.push([p,d]));return{values:r,xData:n,yData:l}}}return r.defaultOptions=a(o.defaultOptions,{params:{index:void 0,period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),i(r.prototype,{areaLinesNames:[],linesApiNames:["aroonDown"],nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y"}),e.compose(r),t.registerSeriesType("aroon",r),r}),t(e,"Stock/Indicators/AroonOscillator/AroonOscillatorIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){var o=t.seriesTypes["aroon"];const{extend:i,merge:a}=s;class r extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=[],o=[],i=[];let a,r;var n=super.getValues.call(this,e,t);for(r=0;r<n.yData.length;r++)a=n.yData[r][0]-n.yData[r][1],s.push([n.xData[r],a]),o.push(n.xData[r]),i.push(a);return{values:s,xData:o,yData:i}}}return r.defaultOptions=a(o.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}}),i(r.prototype,{nameBase:"Aroon Oscillator",linesApiNames:[],pointArrayMap:["y"],pointValKey:"y"}),e.compose(o),t.registerSeriesType("aroonoscillator",r),r}),t(e,"Stock/Indicators/ATR/ATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isArray:D,merge:o}=t;function S(e,t){var s=e[1]-e[2],o=void 0===t?0:Math.abs(e[1]-t[3]),e=void 0===t?0:Math.abs(e[2]-t[3]);return Math.max(s,o,e)}class i extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=o[0],n=i[0],l=[[r,n]],p=[],d=[],u=[];let c,h,g=0,m=1,y=0;if(!(o.length<=s)&&D(i[0])&&4===i[0].length){for(h=1;h<=a;h++)v=o,f=i,x=h,v=v[x],f=f[x],l.push([v,f]),s<m?(x=h,v=s,f=g,c=[o[x-1],(f*(v-1)+S(i[x-1],i[x-2]))/v],g=c[1],p.push(c),d.push(c[0]),u.push(c[1])):(s===m?(g=y/(h-1),p.push([o[h-1],g]),d.push(o[h-1]),u.push(g)):y+=S(i[h-1],i[h-2]),m++);var v,f,x;return{values:p,xData:d,yData:u}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:void 0}}),e.registerSeriesType("atr",i),i}),t(e,"Stock/Indicators/BB/BBIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,D,t){var s=D.seriesTypes["sma"];const{extend:o,isArray:S,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){D.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const s=t.period,o=t.standardDeviation,i=[],a=[],r=e.xData,n=e.yData,l=n?n.length:0,p=[];let d,u,c,h,g,m,y,v,f;if(!(r.length<s)){var x=S(n[0]);for(f=s;f<=l;f++)g=r.slice(f-s,f),m=n.slice(f-s,f),h=(v=D.seriesTypes.sma.prototype.getValues.call(this,{xData:g,yData:m},t)).xData[0],u=(d=v.yData[0])+o*(y=function(e,t,s,o){var i=e.length;let a=0,r,n=0;for(;a<i;a++)r=(s?e[a][t]:e[a])-o,n+=r*r;return n/=i-1,Math.sqrt(n)}(m,t.index,x,d)),c=d-o*y,p.push([h,u,d,c]),i.push(h),a.push([u,d,c]);return{values:p,xData:i,yData:a}}}}return a.defaultOptions=i(s.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),o(a.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","standardDeviation"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(a),D.registerSeriesType("bb",a),a}),t(e,"Stock/Indicators/CCI/CCIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isArray:f,merge:o}=t;class i extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=[],n=[],l=[],p=[];let d,u,c,h,g=1,m,y,v;if(!(o.length<=s)&&f(i[0])&&4===i[0].length){for(;g<s;)u=i[g-1],r.push((u[1]+u[2]+u[3])/3),g++;for(v=s;v<=a;v++)y=((u=i[v-1])[1]+u[2]+u[3])/3,h=r.push(y),d=(y-(m=(c=r.slice(h-s)).reduce(function(e,t){return e+t},0)/s))/(.015*(function(e,t){var s=e.length;let o=0,i;for(i=0;i<s;i++)o+=Math.abs(t-e[i]);return o}(c,m)/s)),n.push([o[v-1],d]),l.push(o[v-1]),p.push(d);return{values:n,xData:l,yData:p}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:void 0}}),e.registerSeriesType("cci",i),i}),t(e,"Stock/Indicators/CMF/CMFIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const o=t["merge"];class i extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.volumeSeries=void 0,this.linkedParent=void 0,this.yData=void 0,this.nameBase="Chaikin Money Flow"}isValid(){const e=this.chart,t=this.options,s=this.linkedParent,o=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),i=s&&s.yData&&4===s.yData[0].length;function a(e){return e.xData&&e.xData.length>=t.params.period}return!!(s&&o&&a(s)&&a(o)&&i)}getValues(e,t){if(this.isValid())return this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)}getMoneyFlow(e,t,s,o){const i=t.length,a=[],r=[],n=[],l=[];let p,d,u=-1,c=0,h=0;function g(e,t){var s=e[1],o=e[2],e=e[3];return null!==t&&null!==s&&null!==o&&null!==e&&s!==o?(e-o-(s-e))/(s-o)*t:(u=p,null)}if(0<o&&o<=i){for(p=0;p<o;p++)a[p]=g(t[p],s[p]),c+=s[p],h+=a[p];for(r.push(e[p-1]),n.push(p-u>=o&&0!==c?h/c:null),l.push([r[0],n[0]]);p<i;p++)a[p]=g(t[p],s[p]),c=(c-=s[p-o])+s[p],h=(h-=a[p-o])+a[p],d=[e[p],p-u>=o?h/c:null],r.push(d[0]),n.push(d[1]),l.push([d[0],d[1]])}return{values:l,xData:r,yData:n}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),e.registerSeriesType("cmf",i),i}),t(e,"Stock/Indicators/DMI/DMIIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){var o=t.seriesTypes["sma"];const{correctFloat:n,extend:i,isArray:a,merge:r}=s;class l extends o{constructor(){super(...arguments),this.options=void 0}calculateDM(e,t,s){var o=e[t][1],i=e[t][2],a=e[t-1][1],e=e[t-1][2];let r;return r=e-i<o-a?s?Math.max(o-a,0):0:s?0:Math.max(e-i,0),n(r)}calculateDI(e,t){return e/t*100}calculateDX(e,t){return n(Math.abs(e-t)/Math.abs(e+t)*100)}smoothValues(e,t,s){return n(e-e/s+t)}getTR(e,t){return n(Math.max(e[1]-e[2],t?Math.abs(e[1]-t[3]):0,t?Math.abs(e[2]-t[3]):0))}getValues(e,t){const h=t.period,g=e.xData,m=e.yData,s=m?m.length:0,y=[],v=[],f=[];if(!(g.length<=h)&&a(m[0])&&4===m[0].length){let p=0,d=0,u=0,c;for(c=1;c<s;c++){let e,t,s,o,i,a,r,n,l;c<=h?(o=this.calculateDM(m,c,!0),i=this.calculateDM(m,c),a=this.getTR(m[c],m[c-1]),p+=o,d+=i,u+=a,c===h&&(r=this.calculateDI(p,u),n=this.calculateDI(d,u),l=this.calculateDX(p,d),y.push([g[c],l,r,n]),v.push(g[c]),f.push([l,r,n]))):(o=this.calculateDM(m,c,!0),i=this.calculateDM(m,c),a=this.getTR(m[c],m[c-1]),e=this.smoothValues(p,o,h),t=this.smoothValues(d,i,h),s=this.smoothValues(u,a,h),p=e,d=t,u=s,r=this.calculateDI(p,u),n=this.calculateDI(d,u),l=this.calculateDX(p,d),y.push([g[c],l,r,n]),v.push(g[c]),f.push([l,r,n]))}return{values:y,xData:v,yData:f}}}}return l.defaultOptions=r(o.defaultOptions,{params:{index:void 0},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">DX</span>: {point.y}<br/><span style="color: {point.series.options.plusDILine.styles.lineColor}">+DI</span>: {point.plusDI}<br/><span style="color: {point.series.options.minusDILine.styles.lineColor}">-DI</span>: {point.minusDI}<br/>'},plusDILine:{styles:{lineWidth:1,lineColor:"#06b535"}},minusDILine:{styles:{lineWidth:1,lineColor:"#f21313"}},dataGrouping:{approximation:"averages"}}),i(l.prototype,{areaLinesNames:[],nameBase:"DMI",linesApiNames:["plusDILine","minusDILine"],pointArrayMap:["y","plusDI","minusDI"],parallelArrays:["x","y","plusDI","minusDI"],pointValKey:"y"}),e.compose(l),t.registerSeriesType("dmi",l),l}),t(e,"Stock/Indicators/DPO/DPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{extend:o,merge:i,correctFloat:a,pick:f}=t;function x(e,t,s,o,i){o=f(t[s][o],t[s]);return i?a(e-o):a(e+o)}class r extends s{constructor(){super(...arguments),this.options=void 0,this.data=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=t.index,i=Math.floor(s/2+1),a=s+i,r=e.xData||[],n=e.yData||[],l=n.length,p=[],d=[],u=[];let c,h,g,m,y,v=0;if(!(r.length<=a)){for(m=0;m<s-1;m++)v=x(v,n,m,o);for(y=0;y<=l-a;y++)h=y+s-1,g=y+a-1,v=x(v,n,h,o),c=f(n[g][o],n[g])-v/s,v=x(v,n,y,o,!0),p.push([r[g],c]),d.push(r[g]),u.push(c);return{values:p,xData:d,yData:u}}}}return r.defaultOptions=i(s.defaultOptions,{params:{index:0,period:21}}),o(r.prototype,{nameBase:"DPO"}),e.registerSeriesType("dpo",r),r}),t(e,"Stock/Indicators/Chaikin/ChaikinIndicator.js",[e["Stock/Indicators/AD/ADIndicator.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(c,e,t){var s=e.seriesTypes["ema"];const{correctFloat:h,extend:o,merge:i,error:g}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.periods,o=t.period,i=[],a=[],r=[];let n,l;if(2!==s.length||s[1]<=s[0])g('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else{e=c.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:o});if(e){var p=super.getValues.call(this,e,{period:s[0]}),d=super.getValues.call(this,e,{period:s[1]});if(p&&d){var u=s[1]-s[0];for(l=0;l<d.yData.length;l++)n=h(p.yData[l+u]-d.yData[l]),i.push([d.xData[l],n]),a.push(d.xData[l]),r.push(n);return{values:i,xData:a,yData:r}}}}}}return a.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",period:9,periods:[3,10]}}),o(a.prototype,{nameBase:"Chaikin Osc",nameComponents:["periods"]}),e.registerSeriesType("chaikin",a),a}),t(e,"Stock/Indicators/CMO/CMOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isNumber:g,merge:o}=t;class i extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const i=t.period,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[];let u,c=t.index,h;if(!(a.length<i)){h=g(r[0])?r:(c=Math.min(c,r[0].length-1),r.map(e=>e[c]));let e,t=0,s=0,o;for(let e=i;0<e;e--)h[e]>h[e-1]?t+=h[e]-h[e-1]:h[e]<h[e-1]&&(s+=h[e-1]-h[e]);for(o=0<t+s?100*(t-s)/(t+s):0,p.push(a[i]),d.push(o),l.push([a[i],o]),u=i+1;u<n;u++)e=Math.abs(h[u-i-1]-h[u-i]),h[u]>h[u-1]?t+=h[u]-h[u-1]:h[u]<h[u-1]&&(s+=h[u-1]-h[u]),h[u-i]>h[u-i-1]?t-=e:s-=e,o=0<t+s?100*(t-s)/(t+s):0,p.push(a[u]),d.push(o),l.push([a[u],o]);return{values:l,xData:p,yData:d}}}}return i.defaultOptions=o(s.defaultOptions,{params:{period:20,index:3}}),e.registerSeriesType("cmo",i),i}),t(e,"Stock/Indicators/DEMA/DEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["ema"];const{correctFloat:D,isArray:S,merge:o}=t;class i extends s{constructor(){super(...arguments),this.EMApercent=void 0,this.data=void 0,this.options=void 0,this.points=void 0}getEMA(e,t,s,o,i,a){return super.calculateEma(a||[],e,void 0===i?1:i,this.EMApercent,t,void 0===o?-1:o,s)}getValues(e,t){const s=t.period,o=[],i=2*s,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[];let u=0,c=0,h,g,m,y,v=-1,f,x=0;if(this.EMApercent=2/(s+1),!(n<2*s-1)){for(S(r[0])&&(v=t.index||0),u=super.accumulatePeriodPoints(s,v,r),x=u/s,u=0,y=s;y<n+2;y++)y<n+1&&(c=this.getEMA(r,g,x,v,y)[1],o.push(c)),g=c,y<i?u+=c:(y===i&&(x=u/s),c=o[y-s-1],h=this.getEMA([c],m,x)[1],f=[a[y-2],D(2*c-h)],l.push(f),p.push(f[0]),d.push(f[1]),m=h);return{values:l,xData:p,yData:d}}}}return i.defaultOptions=o(s.defaultOptions),e.registerSeriesType("dema",i),i}),t(e,"Stock/Indicators/TEMA/TEMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["ema"];const{correctFloat:i,isArray:S,merge:o}=t;class a extends s{constructor(){super(...arguments),this.EMApercent=void 0,this.data=void 0,this.options=void 0,this.points=void 0}getEMA(e,t,s,o,i,a){return super.calculateEma(a||[],e,void 0===i?1:i,this.EMApercent,t,void 0===o?-1:o,s)}getTemaPoint(e,t,s,o){return[e[o-3],i(3*s.level1-3*s.level2+s.level3)]}getValues(e,t){const s=t.period,o=2*s,i=3*s,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[],u=[],c=[],h={};let g=-1,m=0,y=0,v,f,x,D;if(this.EMApercent=2/(s+1),!(n<3*s-2)){for(S(r[0])&&(g=t.index||0),m=super.accumulatePeriodPoints(s,g,r),y=m/s,m=0,x=s;x<n+3;x++)x<n+1&&(h.level1=this.getEMA(r,v,y,g,x)[1],u.push(h.level1)),v=h.level1,x<o?m+=h.level1:(x===o&&(y=m/s,m=0),h.level1=u[x-s-1],h.level2=this.getEMA([h.level1],f,y)[1],c.push(h.level2),f=h.level2,x<i?m+=h.level2:(x===i&&(y=m/s),x===n+1&&(h.level1=u[x-s-1],h.level2=this.getEMA([h.level1],f,y)[1],c.push(h.level2)),h.level1=u[x-s-2],h.level2=c[x-2*s-1],h.level3=this.getEMA([h.level2],h.prevLevel3,y)[1],(D=this.getTemaPoint(a,i,h,x))&&(l.push(D),p.push(D[0]),d.push(D[1])),h.prevLevel3=h.level3));return{values:l,xData:p,yData:d}}}}return a.defaultOptions=o(s.defaultOptions),e.registerSeriesType("tema",a),a}),t(e,"Stock/Indicators/TRIX/TRIXIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["tema"];const{correctFloat:i,merge:o}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getTemaPoint(e,t,s,o){if(t<o)return[e[o-3],0!==s.prevLevel3?i(s.level3-s.prevLevel3)/s.prevLevel3*100:null]}}return a.defaultOptions=o(s.defaultOptions),e.registerSeriesType("trix",a),a}),t(e,"Stock/Indicators/APO/APOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["ema"];const{extend:o,merge:i,error:c}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.periods,o=t.index,i=[],a=[],r=[];let n,l;if(2!==s.length||s[1]<=s[0])c('Error: "APO requires two periods. Notice, first period should be lower than the second one."');else{var p=super.getValues.call(this,e,{index:o,period:s[0]}),d=super.getValues.call(this,e,{index:o,period:s[1]});if(p&&d){var u=s[1]-s[0];for(l=0;l<d.yData.length;l++)n=p.yData[l+u]-d.yData[l],i.push([d.xData[l],n]),a.push(d.xData[l]),r.push(n);return{values:i,xData:a,yData:r}}}}}return a.defaultOptions=i(s.defaultOptions,{params:{period:void 0,periods:[10,20]}}),o(a.prototype,{nameBase:"APO",nameComponents:["periods"]}),e.registerSeriesType("apo",a),a}),t(e,"Stock/Indicators/IKH/IKHIndicator.js",[e["Extensions/DataGrouping/ApproximationRegistry.js"],e["Core/Color/Color.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(i,e,E,t){const s=e["parse"];e=E.seriesTypes.sma;const{defined:R,extend:o,isArray:A,isNumber:a,getClosestDistance:I,merge:w,objectEach:N}=t;function k(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function B(e){const t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=w(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,E.seriesTypes.sma.prototype.drawGraph.call(t)}class r extends e{constructor(){super(...arguments),this.data=[],this.options={},this.points=[],this.graphCollection=[]}init(){super.init.apply(this,arguments),this.options=w({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:s(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:s(this.color).setOpacity(.2).get()}}},this.options)}toYData(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]}translate(){E.seriesTypes.sma.prototype.translate.apply(this);for(const t of this.points)for(const s of this.pointArrayMap){var e=t[s];a(e)&&(t["plot"+s]=this.yAxis.toPixels(e,!0),t.plotY=t["plot"+s],t.tooltipPos=[t.plotX,t["plot"+s]],t.isNull=!1)}}drawGraph(){const s=this,e=s.points,o=s.options,t=s.graph,i=s.color,a={options:{gapSize:o.gapSize}},r=s.pointArrayMap.length,n=[[],[],[],[],[],[]],l={tenkanLine:n[0],kijunLine:n[1],chikouLine:n[2],senkouSpanA:n[3],senkouSpanB:n[4],senkouSpan:n[5]},p=[],d=s.options.senkouSpan,u=d.color||d.styles.fill,c=d.negativeColor,h=[[],[]],g=[[],[]];let m=e.length,y=0,v,f,x,D,S,C,A,I,k,P,T,b,j;for(s.ikhMap=l;m--;){for(f=e[m],x=0;x<r;x++)v=s.pointArrayMap[x],R(f[v])&&n[x].push({plotX:f.plotX,plotY:f["plot"+v],isNull:!1});var M,L;c&&m!==e.length-1&&(M=l.senkouSpanB.length-1,(L=function(e,t,s,o){if(e&&t&&s&&o){var i=t.plotX-e.plotX,t=t.plotY-e.plotY,a=o.plotX-s.plotX,o=o.plotY-s.plotY,r=e.plotX-s.plotX,s=e.plotY-s.plotY,n=(-t*r+i*s)/(-a*t+i*o),s=(a*s-o*r)/(-a*t+i*o);if(0<=n&&n<=1&&0<=s&&s<=1)return{plotX:e.plotX+s*i,plotY:e.plotY+s*t}}}(l.senkouSpanA[M-1],l.senkouSpanA[M],l.senkouSpanB[M-1],l.senkouSpanB[M]))&&(L={plotX:L.plotX,plotY:L.plotY,isNull:!1,intersectPoint:!0},l.senkouSpanA.splice(M,0,L),l.senkouSpanB.splice(M,0,L),p.push(M)))}if(N(l,(e,t)=>{o[t]&&"senkouSpan"!==t&&(s.points=n[y],s.options=w(o[t].styles,a),s.graph=s["graph"+t],s.fillGraph=!1,s.color=i,E.seriesTypes.sma.prototype.drawGraph.call(s),s["graph"+t]=s.graph),y++}),s.graphCollection)for(const O of s.graphCollection)s[O].destroy(),delete s[O];if(s.graphCollection=[],c&&l.senkouSpanA[0]&&l.senkouSpanB[0]){for(p.unshift(0),p.push(l.senkouSpanA.length-1),b=0;b<p.length-1;b++)if(D=p[b],S=p[b+1],C=l.senkouSpanB.slice(D,S+1),A=l.senkouSpanA.slice(D,S+1),1<=Math.floor(C.length/2)){var V=Math.floor(C.length/2);if(C[V].plotY===A[V].plotY){for(I=0,k=0,j=0;j<C.length;j++)I+=C[j].plotY,k+=A[j].plotY;T=I>k?0:1,h[T]=h[T].concat(C),g[T]=g[T].concat(A)}else T=C[V].plotY>A[V].plotY?0:1,h[T]=h[T].concat(C),g[T]=g[T].concat(A)}else T=C[0].plotY>A[0].plotY?0:1,h[T]=h[T].concat(C),g[T]=g[T].concat(A);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){h[t].length&&g[t].length&&(P=0===t?u:c,B({indicator:s,points:h[t],nextPoints:g[t],color:P,options:o,gap:a,graph:s[e]}),s[e]=s.graph,s.graphCollection.push(e))})}else B({indicator:s,points:l.senkouSpanB,nextPoints:l.senkouSpanA,color:u,options:o,gap:a,graph:s.graphsenkouSpan}),s.graphsenkouSpan=s.graph;delete s.nextPoints,delete s.fillGraph,s.points=e,s.options=o,s.graph=t,s.color=i}getGraphPath(e){var t=this;let s=[],o,i;if(e=e||this.points,t.fillGraph&&t.nextPoints){if((o=E.seriesTypes.sma.prototype.getGraphPath.call(t,t.nextPoints))&&o.length){o[0][0]="L",s=E.seriesTypes.sma.prototype.getGraphPath.call(t,e);for(let e=(i=o.slice(0,s.length)).length-1;0<=e;e--)s.push(i[e])}}else s=E.seriesTypes.sma.prototype.getGraphPath.apply(t,arguments);return s}getValues(e,t){const s=t.period,o=t.periodTenkan,i=t.periodSenkouSpanB,a=e.xData,r=e.yData,n=e.xAxis,l=r&&r.length||0,p=I(n.series.map(e=>e.xData||[])),d=[],u=[];let c,h,g,m,y,v,f,x,D,S;if(!(a.length<=s)&&A(r[0])&&4===r[0].length){var C=a[0]-s*p;for(y=0;y<s;y++)u.push(C+y*p);for(y=0;y<l;y++)y>=o&&(h=k(r.slice(y-o,y)),v=(h.high+h.low)/2),y>=s&&(g=k(r.slice(y-s,y)),f=(g.high+g.low)/2,D=(v+f)/2),y>=i&&(m=k(r.slice(y-i,y)),S=(m.high+m.low)/2),x=r[y][3],c=a[y],void 0===d[y]&&(d[y]=[]),void 0===d[y+s-1]&&(d[y+s-1]=[]),d[y+s-1][0]=v,d[y+s-1][1]=f,(d[y+s-1][2]=void 0)===d[y+1]&&(d[y+1]=[]),d[y+1][2]=x,y<=s&&(d[y+s-1][3]=void 0,d[y+s-1][4]=void 0),void 0===d[y+2*s-2]&&(d[y+2*s-2]=[]),d[y+2*s-2][3]=D,d[y+2*s-2][4]=S,u.push(c);for(y=1;y<=s;y++)u.push(c+y*p);return{values:d,xData:u,yData:d}}}}return r.defaultOptions=w(e.defaultOptions,{params:{index:void 0,period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}}),o(r.prototype,{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"]}),i["ichimoku-averages"]=function(){const s=[];let o;return[].forEach.call(arguments,function(e,t){s.push(i.average(e)),o=!o&&void 0===s[t]}),o?void 0:s},E.registerSeriesType("ikh",r),r}),t(e,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,D,t){var s=D.seriesTypes["sma"];const{correctFloat:S,extend:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){D.seriesTypes.sma.prototype.init.apply(this,arguments),this.options=i({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const s=t.period,o=t.periodATR,i=t.multiplierATR,a=t.index,r=e.yData,n=r?r.length:0,l=[],p=D.seriesTypes.ema.prototype.getValues(e,{period:s,index:a}),d=D.seriesTypes.atr.prototype.getValues(e,{period:o}),u=[],c=[];let h,g,m,y,v,f,x;if(!(n<s)){for(x=s;x<=n;x++)v=p.values[x-s],f=d.values[x-o],y=v[0],g=S(v[1]+i*f[1]),m=S(v[1]-i*f[1]),h=v[1],l.push([y,g,h,m]),u.push(y),c.push([g,h,m]);return{values:l,xData:u,yData:c}}}}return a.defaultOptions=i(s.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1}),o(a.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(a),D.registerSeriesType("keltnerchannels",a),a}),t(e,"Stock/Indicators/Klinger/KlingerIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){const{ema:n,sma:o}=t.seriesTypes,{correctFloat:D,error:r,extend:i,isArray:l,merge:a}=s;class p extends o{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0,this.volumeSeries=void 0}calculateTrend(e,t){return e[t][1]+e[t][2]+e[t][3]>e[t-1][1]+e[t-1][2]+e[t-1][3]?1:-1}isValidData(e){const t=this.chart,s=this.options,o=this.linkedParent,i=l(e)&&4===e.length,a=this.volumeSeries||(this.volumeSeries=t.get(s.params.volumeSeriesID));return a||r("Series "+s.params.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,o.chart),!(![o,a].every(function(e){return e&&e.xData&&e.xData.length>=s.params.slowAvgPeriod})||!i)}getCM(e,t,s,o,i){return D(t+(s===o?e:i))}getDM(e,t){return D(e-t)}getVolumeForce(e){const t=[];let s,o,i,a=1,r=0,n=e[0][1]-e[0][2],l=0,p;for(a;a<e.length;a++)p=this.calculateTrend(e,a),o=this.getDM(e[a][1],e[a][2]),s=this.getCM(r,o,p,l,n),i=this.volumeSeries.yData[a]*p*Math.abs(2*(o/s-1))*100,t.push([i]),l=p,r=s,n=o;return t}getEMA(e,t,s,o,i,a,r){return n.prototype.calculateEma(r||[],e,void 0===a?1:a,o,t,void 0===i?-1:i,s)}getSMA(e,t,s){return n.prototype.accumulatePeriodPoints(e,t,s)/e}getValues(e,t){const s=[],o=e.xData,i=e.yData,a=[],r=[],n=[];let l,p=0,d=0,u,c=void 0,h=void 0,g=null;if(this.isValidData(i[0])){var m=this.getVolumeForce(i),y=this.getSMA(t.fastAvgPeriod,0,m),v=this.getSMA(t.slowAvgPeriod,0,m),f=2/(t.fastAvgPeriod+1),x=2/(t.slowAvgPeriod+1);for(p;p<i.length;p++)p>=t.fastAvgPeriod&&(d=this.getEMA(m,c,y,f,0,p,o)[1],c=d),p>=t.slowAvgPeriod&&(u=this.getEMA(m,h,v,x,0,p,o)[1],h=u,l=D(d-u),n.push(l),n.length>=t.signalPeriod&&(g=n.slice(-t.signalPeriod).reduce((e,t)=>e+t)/t.signalPeriod),s.push([o[p],l,g]),a.push(o[p]),r.push([l,g]));return{values:s,xData:a,yData:r}}}}return p.defaultOptions=a(o.defaultOptions,{params:{fastAvgPeriod:34,slowAvgPeriod:55,signalPeriod:13,volumeSeriesID:"volume"},signalLine:{styles:{lineWidth:1,lineColor:"#ff0000"}},dataGrouping:{approximation:"averages"},tooltip:{pointFormat:'<span style="color: {point.color}">●</span><b> {series.name}</b><br/><span style="color: {point.color}">Klinger</span>: {point.y}<br/><span style="color: {point.series.options.signalLine.styles.lineColor}">Signal</span>: {point.signal}<br/>'}}),i(p.prototype,{areaLinesNames:[],linesApiNames:["signalLine"],nameBase:"Klinger",nameComponents:["fastAvgPeriod","slowAvgPeriod"],pointArrayMap:["y","signal"],parallelArrays:["x","y","signal"],pointValKey:"y"}),e.compose(p),t.registerSeriesType("klinger",p),p}),t(e,"Stock/Indicators/MACD/MACDIndicator.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,u,t){var s=e["noop"],o=u.seriesTypes["sma"];const{extend:i,correctFloat:c,defined:h,merge:l}=t;class a extends o{constructor(){super(...arguments),this.data=void 0,this.macdZones=void 0,this.options=void 0,this.points=void 0,this.signalZones=void 0}init(){u.seriesTypes.sma.prototype.init.apply(this,arguments);var e=this.color;this.options&&(h(this.colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0),this.color=e}toYData(e){return[e.y,e.signal,e.MACD]}translate(){const o=this,i=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(o),o.points.forEach(function(s){[s.signal,s.MACD].forEach(function(e,t){null!==e&&(s[i[t]]=o.yAxis.toPixels(e,!0))})})}destroy(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),u.seriesTypes.sma.prototype.destroy.apply(this,arguments)}drawGraph(){const s=this,e=s.points,o=s.options,t=s.zones,i={options:{gapSize:o.gapSize}},a=[[],[]];let r,n=e.length;for(;n--;)r=e[n],h(r.plotMACD)&&a[0].push({plotX:r.plotX,plotY:r.plotMACD,isNull:!h(r.plotMACD)}),h(r.plotSignal)&&a[1].push({plotX:r.plotX,plotY:r.plotSignal,isNull:!h(r.plotMACD)});["macd","signal"].forEach(function(e,t){s.points=a[t],s.options=l(o[e+"Line"].styles,i),s.graph=s["graph"+e],s.currentLineZone=e+"Zones",s.zones=s[s.currentLineZone].zones,u.seriesTypes.sma.prototype.drawGraph.call(s),s["graph"+e]=s.graph}),s.points=e,s.options=o,s.zones=t,s.currentLineZone=void 0}getZonesGraphs(e){const t=super.getZonesGraphs(e);let s=t;return this.currentLineZone&&((s=t.splice(this[this.currentLineZone].startIndex+1)).length?s.splice(0,0,e[0]):s=[e[0]]),s}applyZones(){var e=this.zones;this.zones=this.signalZones.zones,u.seriesTypes.sma.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e}getValues(e,t){const s=t.longPeriod-t.shortPeriod,o=[],i=[],a=[];let r,n,l,p=0,d;if(!(e.xData.length<t.longPeriod+t.signalPeriod)){for(r=u.seriesTypes.ema.prototype.getValues(e,{period:t.shortPeriod,index:t.index}),n=u.seriesTypes.ema.prototype.getValues(e,{period:t.longPeriod,index:t.index}),r=r.values,n=n.values,l=0;l<=r.length;l++)h(n[l])&&h(n[l][1])&&h(r[l+s])&&h(r[l+s][0])&&o.push([r[l+s][0],0,null,r[l+s][1]-n[l][1]]);for(l=0;l<o.length;l++)i.push(o[l][0]),a.push([0,null,o[l][3]]);for(d=u.seriesTypes.ema.prototype.getValues({xData:i,yData:a},{period:t.signalPeriod,index:2}).values,l=0;l<o.length;l++)o[l][0]>=d[0][0]&&(o[l][2]=d[p][1],a[l]=[0,d[p][1],o[l][3]],null===o[l][3]?(o[l][1]=0,a[l][0]=0):(o[l][1]=c(o[l][3]-d[p][1]),a[l][0]=c(o[l][3]-d[p][1])),p++);return{values:o,xData:i,yData:a}}}}return a.defaultOptions=l(o.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0}),i(a.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:s,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,drawPoints:e.seriesTypes.column.prototype.drawPoints}),u.registerSeriesType("macd",a),a}),t(e,"Stock/Indicators/MFI/MFIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{extend:o,merge:i,error:I,isArray:k}=t;function P(e){return e.reduce(function(e,t){return e+t})}function T(e){return(e[1]+e[2]+e[3])/3}class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=t.decimals,n=e.chart.get(t.volumeSeriesID),l=n&&n.yData,p=[],d=[],u=[],c=[],h=[];let g,m,y,v,f,x,D,S,C=!1,A=1;if(n){if(!(o.length<=s)&&k(i[0])&&4===i[0].length&&l){for(g=T(i[A]);A<s+1;)m=g,g=T(i[A]),C=g>=m,y=g*l[A],c.push(C?y:0),h.push(C?0:y),A++;for(S=A-1;S<a;S++)S>A-1&&(c.shift(),h.shift(),m=g,g=T(i[S]),C=g>m,y=g*l[S],c.push(C?y:0),h.push(C?0:y)),v=P(h),f=P(c),x=f/v,D=parseFloat((100-100/(1+x)).toFixed(r)),p.push([o[S],D]),d.push(o[S]),u.push(D);return{values:p,xData:d,yData:u}}}else I("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}return a.defaultOptions=i(s.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume",decimals:4}}),o(a.prototype,{nameBase:"Money Flow Index"}),e.registerSeriesType("mfi",a),a}),t(e,"Stock/Indicators/Momentum/MomentumIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{extend:o,isArray:c,merge:i}=t;function h(e,t,s,o,i){t=t[s-1][i]-t[s-o-1][i];return[e[s-1],t]}class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=t.index,i=e.xData,a=e.yData,r=a?a.length:0,n=[],l=[],p=[];let d,u;if(!(i.length<=s)&&c(a[0])){for(d=s+1;d<r;d++)u=h(i,a,d,s,o),n.push(u),l.push(u[0]),p.push(u[1]);return u=h(i,a,d,s,o),n.push(u),l.push(u[0]),p.push(u[1]),{values:n,xData:l,yData:p}}}}return a.defaultOptions=i(s.defaultOptions,{params:{index:3}}),o(a.prototype,{nameBase:"Momentum"}),e.registerSeriesType("momentum",a),a}),t(e,"Stock/Indicators/NATR/NATRIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["atr"];const o=t["merge"];class i extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=super.getValues.apply(this,arguments),o=s.values.length,i=e.yData;let a=0,r=t.period-1;if(s){for(;a<o;a++)s.yData[a]=s.values[a][1]/i[r][3]*100,s.values[a][1]=s.yData[a],r++;return s}}}return i.defaultOptions=o(s.defaultOptions,{tooltip:{valueSuffix:"%"}}),e.registerSeriesType("natr",i),i}),t(e,"Stock/Indicators/OBV/OBVIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isNumber:y,error:v,extend:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=e.chart.get(t.volumeSeriesID),o=e.xData,i=e.yData,a=[],r=[],n=[],l=!y(i[0]);let p,d=1,u=0,c=0,h=0,g,m;if(s){for(m=s.yData,p=[o[0],u],h=l?i[0][3]:i[0],a.push(p),r.push(o[0]),n.push(p[1]),d;d<i.length;d++)g=l?i[d][3]:i[d],c=g>h?u+m[d]:g===h?u:u-m[d],p=[o[d],c],u=c,h=g,a.push(p),r.push(o[d]),n.push(p[1]);return{values:a,xData:r,yData:n}}v("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart)}}return a.defaultOptions=i(s.defaultOptions,{marker:{enabled:!1},params:{index:void 0,period:void 0,volumeSeriesID:"volume"},tooltip:{valueDecimals:0}}),o(a.prototype,{nameComponents:void 0}),e.registerSeriesType("obv",a),a}),t(e,"Stock/Indicators/PivotPoints/PivotPointsPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(a){function e(e,t){var s=e.series.pointArrayMap;let o,i=s.length;for(a.seriesTypes.sma.prototype.pointClass.prototype[t].call(e);i--;)e[o="dataLabel"+s[i]]&&e[o].element&&e[o].destroy(),e[o]=null}class t extends a.seriesTypes.sma.prototype.pointClass{constructor(){super(...arguments),this.P=void 0,this.pivotLine=void 0,this.series=void 0}destroyElements(){e(this,"destroyElements")}destroy(){e(this,"destroyElements")}}return t}),t(e,"Stock/Indicators/PivotPoints/PivotPointsIndicator.js",[e["Stock/Indicators/PivotPoints/PivotPointsPoint.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){var o=t.seriesTypes["sma"];const{merge:i,extend:a,defined:d,isArray:f}=s;class r extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.endPoint=void 0,this.plotEndPoint=void 0}toYData(e){return[e.P]}translate(){const s=this;super.translate.apply(s),s.points.forEach(function(t){s.pointArrayMap.forEach(function(e){d(t[e])&&(t["plot"+e]=s.yAxis.toPixels(t[e],!0))})}),s.plotEndPoint=s.xAxis.toPixels(s.endPoint,!0)}getGraphPath(e){const t=this,s=[[],[],[],[],[],[],[],[],[]],o=t.pointArrayMap.length;let i=t.plotEndPoint,a=[],r,n,l=e.length,p;for(;l--;){for(n=e[l],p=0;p<o;p++)r=t.pointArrayMap[p],d(n[r])&&s[p].push({plotX:n.plotX,plotY:n["plot"+r],isNull:!1},{plotX:i,plotY:n["plot"+r],isNull:!1},{plotX:i,plotY:null,isNull:!0});i=n.plotX}return s.forEach(e=>{a=a.concat(super.getGraphPath.call(t,e))}),a}drawDataLabels(){const s=this,o=s.pointArrayMap;let i,a,r,n;s.options.dataLabels.enabled&&(a=s.points.length,o.concat([!1]).forEach((e,t)=>{for(n=a;n--;)r=s.points[n],e?(r.y=r[e],r.pivotLine=e,r.plotY=r["plot"+e],i=r["dataLabel"+e],t&&(r["dataLabel"+o[t-1]]=r.dataLabel),r.dataLabels||(r.dataLabels=[]),r.dataLabels[0]=r.dataLabel=i=i&&i.element?i:null):r["dataLabel"+o[t-1]]=r.dataLabel;super.drawDataLabels.call(s)}))}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=this[t.algorithm+"Placement"],n=[],l=[],p=[];let d,u,c,h,g,m,y,v;if(!(o.length<s)&&f(i[0])&&4===i[0].length){for(v=s+1;v<=a+s;v+=s)c=o.slice(v-s-1,v),h=i.slice(v-s-1,v),u=c.length,d=c[u-1],m=this.getPivotAndHLC(h),y=r(m),g=n.push([d].concat(y)),l.push(d),p.push(n[g-1].slice(1));return this.endPoint=c[0]+(d-c[0])/u*s,{values:n,xData:l,yData:p}}}getPivotAndHLC(e){var t=e[e.length-1][3];let s=-1/0,o=1/0;return e.forEach(function(e){s=Math.max(s,e[1]),o=Math.min(o,e[2])}),[(s+o+t)/3,s,o,t]}standardPlacement(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]}camarillaPlacement(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]}fibonacciPlacement(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}}return r.defaultOptions=i(o.defaultOptions,{params:{index:void 0,period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}}),a(r.prototype,{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",pointClass:e}),t.registerSeriesType("pivotpoints",r),r}),t(e,"Stock/Indicators/PPO/PPOIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["ema"];const{correctFloat:c,extend:o,merge:i,error:h}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.periods,o=t.index,i=[],a=[],r=[];let n,l;if(2!==s.length||s[1]<=s[0])h('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else{var p=super.getValues.call(this,e,{index:o,period:s[0]}),d=super.getValues.call(this,e,{index:o,period:s[1]});if(p&&d){var u=s[1]-s[0];for(l=0;l<d.yData.length;l++)n=c((p.yData[l+u]-d.yData[l])/d.yData[l]*100),i.push([d.xData[l],n]),a.push(d.xData[l]),r.push(n);return{values:i,xData:a,yData:r}}}}}return a.defaultOptions=i(s.defaultOptions,{params:{period:void 0,periods:[12,26]}}),o(a.prototype,{nameBase:"PPO",nameComponents:["periods"]}),e.registerSeriesType("ppo",a),a}),t(e,"Stock/Indicators/ArrayUtilities.js",[],function(){return{getArrayExtremes:function(e,s,o){return e.reduce((e,t)=>[Math.min(e[0],t[s]),Math.max(e[1],t[o])],[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),t(e,"Stock/Indicators/PC/PCIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Color/Palettes.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(y,e,t,s,o){var i=s.seriesTypes["sma"];const{merge:a,extend:r}=o;class n extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=[],n=[],l=[];let p,d,u,c,h,g,m;if(!(a<s)){for(m=s;m<=a;m++)c=o[m-1],h=i.slice(m-s,m),p=((d=(g=y.getArrayExtremes(h,2,1))[1])+(u=g[0]))/2,r.push([c,d,p,u]),n.push(c),l.push([d,p,u]);return{values:r,xData:n,yData:l}}}}return n.defaultOptions=a(i.defaultOptions,{params:{index:void 0,period:20},lineWidth:1,topLine:{styles:{lineColor:t.colors[2],lineWidth:1}},bottomLine:{styles:{lineColor:t.colors[8],lineWidth:1}},dataGrouping:{approximation:"averages"}}),r(n.prototype,{areaLinesNames:["top","bottom"],nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(n),s.registerSeriesType("pc",n),n}),t(e,"Stock/Indicators/PriceEnvelopes/PriceEnvelopesIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){var o=t.seriesTypes["sma"];const{extend:i,isArray:x,merge:a}=s;class r extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){super.init.apply(this,arguments),this.options=a({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const s=t.period,o=t.topBand,i=t.bottomBand,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[];let u,c,h,g,m,y,v,f;if(!(a.length<s)&&x(r[0])&&4===r[0].length){for(f=s;f<=n;f++)m=a.slice(f-s,f),y=r.slice(f-s,f),g=(v=super.getValues({xData:m,yData:y},t)).xData[0],c=(u=v.yData[0])*(1+o),h=u*(1-i),l.push([g,c,u,h]),p.push(g),d.push([c,u,h]);return{values:l,xData:p,yData:d}}}}return r.defaultOptions=a(o.defaultOptions,{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),i(r.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle"}),e.compose(r),t.registerSeriesType("priceenvelopes",r),r}),t(e,"Stock/Indicators/PSAR/PSARIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const o=t["merge"];function N(e,t){return parseFloat(e.toFixed(t))}class i extends s{constructor(){super(...arguments),this.data=void 0,this.nameComponents=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=e.xData,o=e.yData,i=t.maxAccelerationFactor,a=t.increment,w=t.initialAccelerationFactor,r=t.decimals,n=t.index,l=[],p=[],d=[];let u=t.initialAccelerationFactor,c,h=o[0][1],g,m,y,v=1,f,x,D,S,C=o[0][2],A,I,k,P;if(!(n>=o.length)){for(P=0;P<n;P++)h=Math.max(o[P][1],h),C=Math.min(o[P][2],N(C,r));for(c=o[P][1]>C?1:-1,g=h-C,u=t.initialAccelerationFactor,m=u*g,l.push([s[n],C]),p.push(s[n]),d.push(N(C,r)),P=n+1;P<o.length;P++)f=o[P-1][2],x=o[P-2][2],D=o[P-1][1],S=o[P-2][1],I=o[P][1],k=o[P][2],null!==x&&null!==S&&null!==f&&null!==D&&null!==I&&null!==k&&(C=(T=c,b=v,j=C,M=m,L=x,V=f,O=D,E=S,R=h,T===b?1===T?j+M<Math.min(L,V)?j+M:Math.min(L,V):j+M>Math.max(E,O)?j+M:Math.max(E,O):R),b=I,T=k,L=c,V=h,A=1===L?V<b?b:V:T<V?T:V,j=v,M=k,E=I,O=C,y=1===j&&O<M||-1===j&&O<E?1:-1,u=(R=y,L=c,b=A,T=h,V=u,M=a,j=i,O=w,R===L?1===R&&T<b||-1===R&&b<T?V===j?j:N(V+M,2):V:O),g=A-C,m=u*g,l.push([s[P],N(C,r)]),p.push(s[P]),d.push(N(C,r)),v=c,c=y,h=A);var T,b,j,M,L,V,O,E,R;return{values:l,xData:p,yData:d}}}}return i.defaultOptions=o(s.defaultOptions,{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{period:void 0,initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}}),e.registerSeriesType("psar",i),i}),t(e,"Stock/Indicators/ROC/ROCIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isArray:c,merge:o,extend:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=[],n=[],l=[];let p,d=-1,u;if(!(o.length<=s)){for(c(i[0])&&(d=t.index),p=s;p<a;p++)u=function(e,t,s,o,i){let a,r;return r=i<0?(a=t[s-o])?(t[s]-a)/a*100:null:(a=t[s-o][i])?(t[s][i]-a)/a*100:null,[e[s],r]}(o,i,p,s,d),r.push(u),n.push(u[0]),l.push(u[1]);return{values:r,xData:n,yData:l}}}}return a.defaultOptions=o(s.defaultOptions,{params:{index:3,period:9}}),i(a.prototype,{nameBase:"Rate of Change"}),e.registerSeriesType("roc",a),a}),t(e,"Stock/Indicators/RSI/RSIIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isNumber:D,merge:o}=t;function S(e,t){return parseFloat(e.toFixed(t))}class i extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=t.decimals,n=[],l=[],p=[];let d=0,u=0,c=t.index,h=1,g,m,y,v,f,x;if(!(o.length<s)){for(x=D(i[0])?i:(c=Math.min(c,i[0].length-1),i.map(e=>e[c]));h<s;)0<(m=S(x[h]-x[h-1],r))?d+=m:u+=Math.abs(m),h++;for(y=S(d/(s-1),r),v=S(u/(s-1),r),f=h;f<a;f++)m=S(x[f]-x[f-1],r),u=0<m?(d=m,0):(d=0,Math.abs(m)),y=S((y*(s-1)+d)/s,r),v=S((v*(s-1)+u)/s,r),g=0===v?100:0===y?0:S(100-100/(1+y/v),r),n.push([o[f],g]),l.push(o[f]),p.push(g);return{values:n,xData:l,yData:p}}}}return i.defaultOptions=o(s.defaultOptions,{params:{decimals:4,index:3}}),e.registerSeriesType("rsi",i),i}),t(e,"Stock/Indicators/Stochastic/StochasticIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(f,e,t,s){var o=t.seriesTypes["sma"];const{extend:i,isArray:x,merge:a}=s;class r extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}init(){super.init.apply(this,arguments),this.options=a({smoothedLine:{styles:{lineColor:this.color}}},this.options)}getValues(e,t){const s=t.periods[0],o=t.periods[1],i=e.xData,a=e.yData,r=a?a.length:0,n=[],l=[],p=[];let d,u,c,h=null,g,m,y;if(!(r<s)&&x(a[0])&&4===a[0].length){let e=!0,t=0;for(y=s-1;y<r;y++){var v;d=a.slice(y-s+1,y+1),u=(m=f.getArrayExtremes(d,2,1))[0],c=(a[y][3]-u)/(m[1]-u)*100,isNaN(c)&&e?t++:(e&&!isNaN(c)&&(e=!1),v=l.push(i[y]),isNaN(c)?p.push([p[v-2]&&"number"==typeof p[v-2][0]?p[v-2][0]:null,null]):p.push([c,null]),y>=t+(s-1)+(o-1)&&(g=super.getValues({xData:l.slice(-o),yData:p.slice(-o)},{period:o}),h=g.yData[0]),n.push([i[y],c,h]),p[v-1][1]=h)}return{values:n,xData:l,yData:p}}}}return r.defaultOptions=a(o.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}}),i(r.prototype,{areaLinesNames:[],nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]}),e.compose(r),t.registerSeriesType("stochastic",r),r}),t(e,"Stock/Indicators/SlowStochastic/SlowStochasticIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){const{sma:n,stochastic:s}=e.seriesTypes,{extend:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.periods,o=super.getValues.call(this,e,t),i={values:[],xData:[],yData:[]};if(o){i.xData=o.xData.slice(s[1]-1);var a=o.yData.slice(s[1]-1),r=n.prototype.getValues.call(this,{xData:i.xData,yData:a},{index:1,period:s[2]});if(r){for(let e=0,t=i.xData.length;e<t;e++)i.yData[e]=[a[e][1],r.yData[e-s[2]+1]||null],i.values[e]=[i.xData[e],a[e][1],r.yData[e-s[2]+1]||null];return i}}}}return a.defaultOptions=i(s.defaultOptions,{params:{periods:[14,3,3]}}),o(a.prototype,{nameBase:"Slow Stochastic"}),e.registerSeriesType("slowstochastic",a),a}),t(e,"Stock/Indicators/Supertrend/SupertrendIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(e,t,i){const{atr:C,sma:S}=e.seriesTypes,{addEvent:a,correctFloat:A,isArray:I,extend:s,merge:k,objectEach:P}=t;function T(e,t,s){return{index:t,close:e.yData[t][s],x:e.xData[t]}}class o extends S{constructor(){super(...arguments),this.data=void 0,this.linkedParent=void 0,this.options=void 0,this.points=void 0}init(){const s=this,o=(super.init.apply(s,arguments),a(i,"afterLinkSeries",()=>{if(s.options){const e=s.options,t=s.linkedParent.options;e.cropThreshold=t.cropThreshold-(e.params.period-1)}o()},{order:1}))}drawGraph(){const s=this,e=s.options,t=s.linkedParent,o=t?t.points:[],i=s.points,a=s.graph,r=o.length-i.length,n=0<r?r:0,l={options:{gapSize:e.gapSize}},p={top:[],bottom:[],intersect:[]},d={top:{styles:{lineWidth:e.lineWidth,lineColor:e.fallingTrendColor||e.color,dashStyle:e.dashStyle}},bottom:{styles:{lineWidth:e.lineWidth,lineColor:e.risingTrendColor||e.color,dashStyle:e.dashStyle}},intersect:e.changeTrendLine};let u,c,h,g,m,y,v,f,x,D=i.length;for(;D--;)u=i[D],c=i[D-1],h=o[D-1+n],g=o[D-2+n],m=o[D+n],y=o[D+n+1],v=u.options.color,f={x:u.x,plotX:u.plotX,plotY:u.plotY,isNull:!1},!g&&h&&t.yData[h.index-1]&&(g=T(t,h.index-1,3)),!y&&m&&t.yData[m.index+1]&&(y=T(t,m.index+1,3)),!h&&g&&t.yData[g.index+1]?h=T(t,g.index+1,3):!h&&m&&t.yData[m.index-1]&&(h=T(t,m.index-1,3)),u&&h&&m&&g&&u.x!==h.x&&(u.x===m.x?(g=h,h=m):u.x===g.x?(h=g,g={close:t.yData[h.index-1][3],x:t.xData[h.index-1]}):y&&u.x===y.x&&(h=y,g=m)),c&&g&&h?(x={x:c.x,plotX:c.plotX,plotY:c.plotY,isNull:!1},u.y>=h.close&&c.y>=g.close?(u.color=v||e.fallingTrendColor||e.color,p.top.push(f)):u.y<h.close&&c.y<g.close?(u.color=v||e.risingTrendColor||e.color,p.bottom.push(f)):(p.intersect.push(f),p.intersect.push(x),p.intersect.push(k(x,{isNull:!0})),u.y>=h.close&&c.y<g.close?(u.color=v||e.fallingTrendColor||e.color,c.color=v||e.risingTrendColor||e.color,p.top.push(f),p.top.push(k(x,{isNull:!0}))):u.y<h.close&&c.y>=g.close&&(u.color=v||e.risingTrendColor||e.color,c.color=v||e.fallingTrendColor||e.color,p.bottom.push(f),p.bottom.push(k(x,{isNull:!0}))))):h&&(u.y>=h.close?(u.color=v||e.fallingTrendColor||e.color,p.top.push(f)):(u.color=v||e.risingTrendColor||e.color,p.bottom.push(f)));P(p,function(e,t){s.points=e,s.options=k(d[t].styles,l),s.graph=s["graph"+t+"Line"],S.prototype.drawGraph.call(s),s["graph"+t+"Line"]=s.graph}),s.points=i,s.options=e,s.graph=a}getValues(e,t){const s=t.period,o=t.multiplier,i=e.xData,a=e.yData,r=[],n=[],l=[],p=0===s?0:s-1,d=[],u=[];let c,h,g,m,y,v,f,x,D,S;if(!(i.length<=s||!I(a[0])||4!==a[0].length||s<0)){for(c=C.prototype.getValues.call(this,e,{period:s}).yData,S=0;S<c.length;S++)D=a[p+S],x=a[p+S-1]||[],y=d[S-1],v=u[S-1],f=l[S-1],0===S&&(y=v=f=0),h=A((D[1]+D[2])/2+o*c[S]),g=A((D[1]+D[2])/2-o*c[S]),h<y||x[3]>y?d[S]=h:d[S]=y,g>v||x[3]<v?u[S]=g:u[S]=v,f===y&&D[3]<d[S]||f===v&&D[3]<u[S]?m=d[S]:(f===y&&D[3]>d[S]||f===v&&D[3]>u[S])&&(m=u[S]),r.push([i[p+S],m]),n.push(i[p+S]),l.push(m);return{values:r,xData:n,yData:l}}}}return o.defaultOptions=k(S.defaultOptions,{params:{index:void 0,multiplier:3,period:10},risingTrendColor:"#06b535",fallingTrendColor:"#f21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}}),s(o.prototype,{nameBase:"Supertrend",nameComponents:["multiplier","period"]}),e.registerSeriesType("supertrend",o),o}),t(e,"Stock/Indicators/VBP/VBPPoint.js",[e["Core/Series/SeriesRegistry.js"]],function(e){var{pointClass:e}=e.seriesTypes["sma"]["prototype"];class t extends e{destroy(){this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),super.destroy.apply(this,arguments)}}return t}),t(e,"Stock/Indicators/VBP/VBPIndicator.js",[e["Stock/Indicators/VBP/VBPPoint.js"],e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Chart/StockChart.js"]],function(e,t,s,o,i,a){const r=t["animObject"];t=s.noop;const{column:{prototype:D},sma:n}=o.seriesTypes,{addEvent:l,arrayMax:S,arrayMin:y,correctFloat:C,defined:v,error:c,extend:p,isArray:h,merge:d}=i,A=Math.abs;class u extends n{constructor(){super(...arguments),this.data=void 0,this.negWidths=void 0,this.options=void 0,this.points=void 0,this.posWidths=void 0,this.priceZones=void 0,this.rangeStep=void 0,this.volumeDataArray=void 0,this.zoneStarts=void 0,this.zoneLinesSVG=void 0}init(s,e){const o=this,i=(delete e.data,super.init.apply(o,arguments),l(a,"afterLinkSeries",function(){var e,t;o.options&&(t=o.options.params,e=o.linkedParent,t=s.get(t.volumeSeriesID),o.addCustomEvents(e,t)),i()},{order:1}));return o}addCustomEvents(e,t){const s=this,o=()=>{s.chart.redraw(),s.setData([]),s.zoneStarts=[],s.zoneLinesSVG&&(s.zoneLinesSVG=s.zoneLinesSVG.destroy())};return s.dataEventsToUnbind.push(l(e,"remove",function(){o()})),t&&s.dataEventsToUnbind.push(l(t,"remove",function(){o()})),s}animate(e){const s=this,t=s.chart.inverted,o=s.group,i={};!e&&o&&(e=t?s.yAxis.top:s.xAxis.left,t?(o["forceAnimate:translateY"]=!0,i.translateY=e):(o["forceAnimate:translateX"]=!0,i.translateX=e),o.animate(i,p(r(s.options.animation),{step:function(e,t){s.group.attr({scaleX:Math.max(.001,t.pos)})}})))}drawPoints(){var e=this;e.options.volumeDivision.enabled&&(e.posNegVolume(!0,!0),D.drawPoints.apply(e,arguments),e.posNegVolume(!1,!1)),D.drawPoints.apply(e,arguments)}posNegVolume(e,t){var s=this,o=t?["positive","negative"]:["negative","positive"],i=s.options.volumeDivision,a=s.points.length;let r=[],n=[],l=0,p,d,u,c;for(e?(s.posWidths=r,s.negWidths=n):(r=s.posWidths,n=s.negWidths);l<a;l++)(c=s.points[l])[o[0]+"Graphic"]=c.graphic,c.graphic=c[o[1]+"Graphic"],e&&(p=c.shapeArgs.width,(u=(d=s.priceZones[l]).wholeVolumeData)?(r.push(p/u*d.positiveVolumeData),n.push(p/u*d.negativeVolumeData)):(r.push(0),n.push(0))),c.color=t?i.styles.positiveColor:i.styles.negativeColor,c.shapeArgs.width=(t?s.posWidths:s.negWidths)[l],c.shapeArgs.x=t?c.shapeArgs.x:s.posWidths[l]}translate(){const s=this,e=s.options,t=s.chart,o=s.yAxis,i=o.min,a=s.options.zoneLines,r=s.priceZones;let n=0,l,p,d,u,c,h,g,m,y,v,f;D.translate.apply(s);const x=s.points;x.length&&(m=e.pointPadding<.5?e.pointPadding:.1,l=s.volumeDataArray,p=S(l),d=t.plotWidth/2,y=t.plotTop,u=A(o.toPixels(i)-o.toPixels(i+s.rangeStep)),h=A(o.toPixels(i)-o.toPixels(i+s.rangeStep)),m&&(c=A(u*(1-2*m)),n=A((u-c)/2),u=A(c)),x.forEach(function(e,t){v=e.barX=e.plotX=0,f=e.plotY=o.toPixels(r[t].start)-y-(o.reversed?u-h:u)-n,g=C(d*r[t].wholeVolumeData/p),e.pointWidth=g,e.shapeArgs=s.crispCol.apply(s,[0,f,g,u]),e.volumeNeg=r[t].negativeVolumeData,e.volumePos=r[t].positiveVolumeData,e.volumeAll=r[t].wholeVolumeData}),a.enabled&&s.drawZones(t,o,s.zoneStarts,a.styles))}getExtremes(){var e=this.options.compare,t=this.options.cumulative;let s;return this.options.compare?(this.options.compare=void 0,s=super.getExtremes(),this.options.compare=e):this.options.cumulative?(this.options.cumulative=!1,s=super.getExtremes(),this.options.cumulative=t):s=super.getExtremes(),s}getValues(e,t){const s=e.processedXData,o=e.processedYData,i=this.chart,a=t.ranges,r=[],n=[],l=[],p=i.get(t.volumeSeriesID);if(e.chart){var d;if(!p||!p.processedXData.length)return d=p&&!p.processedXData.length?" does not contain any data.":" not found! Check `volumeSeriesID`.",void c("Series "+t.volumeSeriesID+d,!0,i);t=h(o[0]);if(!t||4===o[0].length){const u=this.priceZones=this.specifyZones(t,s,o,a,p);return u.forEach(function(e,t){r.push([e.x,e.end]),n.push(r[t][0]),l.push(r[t][1])}),{values:r,xData:n,yData:l}}c("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,i)}else c("Base series not found! In case it has been removed, add a new one.",!0,i)}specifyZones(e,t,s,o,i){const a=this,r=!!e&&function(e){var t=e.length;let s=e[0][3],o=s,i=1,a;for(;i<t;i++)(a=e[i][3])<s&&(s=a),a>o&&(o=a);return{min:s,max:o}}(s),n=a.zoneStarts=[],l=[];let p=r?r.min:y(s),d=r?r.max:S(s),u=0,c=1;const h=a.linkedParent;if(!a.options.compareToMain&&h.dataModify&&(p=h.dataModify.modifyValue(p),d=h.dataModify.modifyValue(d)),!v(p)||!v(d))return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG&&(this.zoneLinesSVG=this.zoneLinesSVG.destroy())),[];var g=a.rangeStep=C(d-p)/o;for(n.push(p);u<o-1;u++)n.push(C(n[u]+g));n.push(d);for(var m=n.length;c<m;c++)l.push({index:c-1,x:t[0],start:n[c-1],end:n[c]});return a.volumePerZone(e,l,i,t,s)}volumePerZone(s,e,t,o,i){const a=this,r=t.processedXData,n=t.processedYData,l=e.length-1,p=i.length,d=n.length;let u,c,h,g,m;return A(p-d)&&(o[0]!==r[0]&&n.unshift(0),o[p-1]!==r[d-1]&&n.push(0)),a.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0,m=0;m<p;m++){c=!1,h=!1,g=s?i[m][3]:i[m],u=m?s?i[m-1][3]:i[m-1]:g;const t=a.linkedParent;!a.options.compareToMain&&t.dataModify&&(g=t.dataModify.modifyValue(g),u=t.dataModify.modifyValue(u)),g<=e.start&&0===e.index&&(c=!0),g>=e.end&&e.index===l&&(h=!0),(g>e.start||c)&&(g<e.end||h)&&(e.wholeVolumeData+=n[m],u>g?e.negativeVolumeData+=n[m]:e.positiveVolumeData+=n[m])}a.volumeDataArray.push(e.wholeVolumeData)}),e}drawZones(t,s,e,o){const i=t.renderer,a=t.plotWidth,r=t.plotTop;let n=this.zoneLinesSVG,l=[],p;e.forEach(function(e){p=s.toPixels(e)-r,l=l.concat(t.renderer.crispLine([["M",0,p],["L",a,p]],o.lineWidth))}),n?n.animate({d:l}):n=this.zoneLinesSVG=i.path(l).attr({"stroke-width":o.lineWidth,stroke:o.color,dashstyle:o.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}}return u.defaultOptions=d(n.defaultOptions,{params:{index:void 0,period:void 0,ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"0.5em"},verticalAlign:"top"}}),p(u.prototype,{nameBase:"Volume by Price",nameComponents:["ranges"],calculateOn:{chart:"render",xAxis:"afterSetExtremes"},pointClass:e,markerAttribs:t,drawGraph:t,getColumnMetrics:D.getColumnMetrics,crispCol:D.crispCol}),o.registerSeriesType("vbp",u),u}),t(e,"Stock/Indicators/VWAP/VWAPIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{error:l,isArray:p,merge:o}=t;class i extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=e.chart,o=e.xData,i=e.yData,a=t.period;let r=!0,n;if(n=s.get(t.volumeSeriesID))return p(i[0])||(r=!1),this.calculateVWAPValues(r,o,i,n,a);l("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s)}calculateVWAPValues(e,t,s,o,i){const a=o.yData,r=o.xData.length,n=t.length,l=[],p=[],d=[],u=[],c=[];let h,g,m,y,v,f;for(h=n<=r?n:r,v=0,f=0;v<h;v++)g=e?(s[v][1]+s[v][2]+s[v][3])/3:s[v],g*=a[v],m=f?l[v-1]+g:g,y=f?p[v-1]+a[v]:a[v],l.push(m),p.push(y),c.push([t[v],m/y]),d.push(c[v][0]),u.push(c[v][1]),++f===i&&(f=0);return{values:c,xData:d,yData:u}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:void 0,period:30,volumeSeriesID:"volume"}}),e.registerSeriesType("vwap",i),i}),t(e,"Stock/Indicators/WilliamsR/WilliamsRIndicator.js",[e["Stock/Indicators/ArrayUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(m,e,t){var s=e.seriesTypes["sma"];const{extend:o,isArray:y,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=[],n=[],l=[];let p,d,u,c,h,g;if(!(o.length<s)&&y(i[0])&&4===i[0].length){for(g=s-1;g<a;g++)p=i.slice(g-s+1,g+1),h=(d=m.getArrayExtremes(p,2,1))[0],u=((c=d[1])-i[g][3])/(c-h)*-100,o[g]&&(r.push([o[g],u]),n.push(o[g]),l.push(u));return{values:r,xData:n,yData:l}}}}return a.defaultOptions=i(s.defaultOptions,{params:{index:void 0,period:14}}),o(a.prototype,{nameBase:"Williams %R"}),e.registerSeriesType("williamsr",a),a}),t(e,"Stock/Indicators/WMA/WMAIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isArray:y,merge:o}=t;function v(e,t,s,o,i){t=t[o],s=i<0?s[o]:s[o][i];e.push([t,s])}function f(e,t,s,o){var i=e.length,i=(i=i,i*=(i+1)/2,e.reduce(function(e,t,s){return[null,e[1]+t[1]*(s+1)]})[1]/i),t=t[o-1];return e.shift(),[t,i]}class i extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=e.xData,i=e.yData,a=i?i.length:0,r=o[0],n=[],l=[],p=[];let d=1,u=-1,c,h,g=i[0];if(!(o.length<s)){y(i[0])&&(u=t.index,g=i[0][u]);for(var m=[[r,g]];d!==s;)v(m,o,i,d,u),d++;for(c=d;c<a;c++)h=f(m,o,0,c),n.push(h),l.push(h[0]),p.push(h[1]),v(m,o,i,c,u);return h=f(m,o,0,c),n.push(h),l.push(h[0]),p.push(h[1]),{values:n,xData:l,yData:p}}}}return i.defaultOptions=o(s.defaultOptions,{params:{index:3,period:9}}),e.registerSeriesType("wma",i),i}),t(e,"Stock/Indicators/Zigzag/ZigzagIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{merge:o,extend:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.points=void 0,this.options=void 0}getValues(e,t){const s=t.lowIndex,o=t.highIndex,i=t.deviation/100,a=1+i,r=1-i,n=e.xData,l=e.yData,p=l?l.length:0,d=[],u=[],c=[];let h,g,m,y,v=!1,f=!1;if(!(!n||n.length<=1||p&&(void 0===l[0][s]||void 0===l[0][o]))){var x=l[0][s],D=l[0][o];for(h=1;h<p;h++)l[h][s]<=D*r?(d.push([n[0],D]),m=[n[h],l[h][s]],y=!0,v=!0):l[h][o]>=x*a&&(d.push([n[0],x]),m=[n[h],l[h][o]],y=!1,v=!0),v&&(u.push(d[0][0]),c.push(d[0][1]),g=h++,h=p);for(h=g;h<p;h++)y?(l[h][s]<=m[1]&&(m=[n[h],l[h][s]]),l[h][o]>=m[1]*a&&(f=o)):(l[h][o]>=m[1]&&(m=[n[h],l[h][o]]),l[h][s]<=m[1]*r&&(f=s)),!1!==f&&(d.push(m),u.push(m[0]),c.push(m[1]),m=[n[h],l[h][f]],y=!y,f=!1);t=d.length;return 0!==t&&d[t-1][0]<n[p-1]&&(d.push(m),u.push(m[0]),c.push(m[1])),{values:d,xData:u,yData:c}}}}return a.defaultOptions=o(s.defaultOptions,{params:{index:void 0,period:void 0,lowIndex:2,highIndex:1,deviation:1}}),i(a.prototype,{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag"}),e.registerSeriesType("zigzag",a),a}),t(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{isArray:g,extend:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getRegressionLineParameters(e,t){function s(e,t){return g(e)?e[t]:e}const o=this.options.params.index,i=e.reduce(function(e,t){return t+e},0),a=t.reduce(function(e,t){return s(t,o)+e},0),r=i/e.length,n=a/t.length;let l,p,d,u=0,c=0;for(d=0;d<e.length;d++)l=e[d]-r,p=s(t[d],o)-n,u+=l*p,c+=Math.pow(l,2);var h=c?u/c:0;return{slope:h,intercept:n-h*r}}getEndPointY(e,t){return e.slope*t+e.intercept}transformXData(e,t){const s=e[0];return e.map(function(e){return(e-s)/t})}findClosestDistance(e){let t,s,o;for(o=1;o<e.length-1;o++)0<(t=e[o]-e[o-1])&&(void 0===s||t<s)&&(s=t);return s}getValues(e,t){const s=e.xData,o=e.yData,i=t.period,a={xData:[],yData:[],values:[]},r=this.options.params.xAxisUnit||this.findClosestDistance(s);let n,l,p,d,u,c,h,g,m;for(l=i-1;l<=s.length-1;l++)p=l-i+1,d=l+1,u=s[l],h=s.slice(p,d),g=o.slice(p,d),m=this.transformXData(h,r),n=this.getRegressionLineParameters(m,g),c=this.getEndPointY(n,m[m.length-1]),a.values.push({regressionLineParameters:n,x:u,y:c}),a.xData.push(u),a.yData.push(c);return a}}return a.defaultOptions=i(s.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),o(a.prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",a),a}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getEndPointY(e){return e.slope}}return a.defaultOptions=i(s.defaultOptions),o(a.prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",a),a}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getEndPointY(e){return e.intercept}}return a.defaultOptions=i(s.defaultOptions),o(a.prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",a),a}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["linearRegression"];const{extend:o,merge:i}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}slopeToAngle(e){return Math.atan(e)*(180/Math.PI)}getEndPointY(e){return this.slopeToAngle(e.slope)}}return a.defaultOptions=i(s.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),o(a.prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",a),a}),t(e,"Stock/Indicators/ABands/ABandsIndicator.js",[e["Stock/Indicators/MultipleLinesComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s){var o=t.seriesTypes["sma"];const{correctFloat:T,extend:i,merge:a}=s;class r extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}getValues(e,t){const s=t.period,o=t.factor,i=t.index,a=e.xData,r=e.yData,n=r?r.length:0,l=[],p=[],d=[],u=[],c=[];let h,g,m,y,v,f,x,D,S,C,A;if(!(n<s)){for(A=0;A<=n;A++)A<n&&(I=r[A][2],k=r[A][1],P=o,v=T(k-I)/(T(k+I)/2)*1e3*P,l.push((k=r[A][1],I=v,k*T(1+2*I))),p.push((P=r[A][2],k=v,P*T(1-2*k)))),A>=s&&(S=a.slice(A-s,A),C=r.slice(A-s,A),x=super.getValues.call(this,{xData:S,yData:l.slice(A-s,A)},{period:s}),D=super.getValues.call(this,{xData:S,yData:p.slice(A-s,A)},{period:s}),y=(f=super.getValues.call(this,{xData:S,yData:C},{period:s,index:i})).xData[0],g=x.yData[0],m=D.yData[0],h=f.yData[0],d.push([y,g,h,m]),u.push(y),c.push([g,h,m]));var I,k,P;return{values:d,xData:u,yData:c}}}}return r.defaultOptions=a(o.defaultOptions,{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}}),i(r.prototype,{areaLinesNames:["top","bottom"],linesApiNames:["topLine","bottomLine"],nameBase:"Acceleration Bands",nameComponents:["period","factor"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"}),e.compose(r),t.registerSeriesType("abands",r),r}),t(e,"Stock/Indicators/TrendLine/TrendLineIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var s=e.seriesTypes["sma"];const{extend:o,merge:i,isArray:v}=t;class a extends s{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.updateAllPoints=!0}getValues(e,t){const s=e.xData,o=e.yData,i=[],a=[],r=[],n=s.length,l=t.index;let p=(n-1)*n/2,d=0,u=0,c=(n-1)*n*(2*n-1)/6,h,g,m;for(g=0;g<n;g++)m=v(o[g])?o[g][l]:o[g],d+=m,u+=g*m;h=(n*u-p*d)/(n*c-p*p),isNaN(h)&&(h=0);var y=(d-h*p)/n;for(g=0;g<n;g++)m=h*g+y,i[g]=[s[g],m],a[g]=s[g],r[g]=m;return{xData:a,yData:r,values:i}}}return a.defaultOptions=i(s.defaultOptions,{params:{period:void 0,index:3}}),o(a.prototype,{nameBase:"Trendline",nameComponents:!1}),e.registerSeriesType("trendline",a),a}),t(e,"Stock/Indicators/DisparityIndex/DisparityIndexIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(s,e){const o=s.seriesTypes["sma"],{correctFloat:i,defined:m,extend:t,isArray:y,merge:a}=e;class r extends o{constructor(){super(...arguments),this.averageIndicator=void 0,this.data=void 0,this.options=void 0,this.points=void 0}init(){var e=arguments,t=e[1].params,t=t&&t.average?t.average:void 0;this.averageIndicator=s.seriesTypes[t]||o,this.averageIndicator.prototype.init.apply(this,e)}calculateDisparityIndex(e,t){return i(e-t)/t*100}getValues(e,t){const s=t.index,o=e.xData,i=e.yData,a=i?i.length:0,r=[],n=[],l=[],p=this.averageIndicator,d=y(i[0]),u=p.prototype.getValues(e,t),c=u.yData,h=o.indexOf(u.xData[0]);if(c&&0!==c.length&&m(s)&&!(i.length<=h)){for(let e=h;e<a;e++){var g=this.calculateDisparityIndex(d?i[e][s]:i[e],c[e-h]);r.push([o[e],g]),n.push(o[e]),l.push(g)}return{values:r,xData:n,yData:l}}}}return r.defaultOptions=a(o.defaultOptions,{params:{average:"sma",index:3},marker:{enabled:!1},dataGrouping:{approximation:"averages"}}),t(r.prototype,{nameBase:"Disparity Index",nameComponents:["period","average"]}),s.registerSeriesType("disparityindex",r),r}),t(e,"masters/indicators/indicators-all.src.js",[],function(){})});