!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/macd",["highcharts","highcharts/modules/stock"],function(o){return t(o),t.Highcharts=o,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(o){function t(o,t,s,e){o.hasOwnProperty(t)||(o[t]=e.apply(null,s))}t(o=o?o._modules:{},"indicators/macd.src.js",[o["parts/Globals.js"],o["parts/Utilities.js"]],function(o,t){var l=t.correctFloat,p=t.defined,h=t.merge;t=t.seriesType;var c=o.seriesTypes.sma,d=o.seriesTypes.ema;t("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:o.noop,getColumnMetrics:o.seriesTypes.column.prototype.getColumnMetrics,crispCol:o.seriesTypes.column.prototype.crispCol,init:function(){c.prototype.init.apply(this,arguments),this.options&&(this.options=h({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(o){return[o.y,o.signal,o.MACD]},translate:function(){var e=this,i=["plotSignal","plotMACD"];o.seriesTypes.column.prototype.translate.apply(e),e.points.forEach(function(s){[s.signal,s.MACD].forEach(function(o,t){null!==o&&(s[i[t]]=e.yAxis.toPixels(o,!0))})})},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),c.prototype.destroy.apply(this,arguments)},drawPoints:o.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var o,s=this,t=s.points,e=t.length,i=s.options,n=s.zones,r={options:{gapSize:i.gapSize}},a=[[],[]];e--;)o=t[e],p(o.plotMACD)&&a[0].push({plotX:o.plotX,plotY:o.plotMACD,isNull:!p(o.plotMACD)}),p(o.plotSignal)&&a[1].push({plotX:o.plotX,plotY:o.plotSignal,isNull:!p(o.plotMACD)});["macd","signal"].forEach(function(o,t){s.points=a[t],s.options=h(i[o+"Line"].styles,r),s.graph=s["graph"+o],s.currentLineZone=o+"Zones",s.zones=s[s.currentLineZone].zones,c.prototype.drawGraph.call(s),s["graph"+o]=s.graph}),s.points=t,s.options=i,s.zones=n,s.currentLineZone=null},getZonesGraphs:function(o){var t=c.prototype.getZonesGraphs.call(this,o),s=t;return this.currentLineZone&&((s=t.splice(this[this.currentLineZone].startIndex+1)).length?s.splice(0,0,o[0]):s=[o[0]]),s},applyZones:function(){var o=this.zones;this.zones=this.signalZones.zones,c.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=o},getValues:function(o,t){var s=0,e=[],i=[],n=[];if(!(o.xData.length<t.longPeriod+t.signalPeriod)){var r=d.prototype.getValues(o,{period:t.shortPeriod}),a=d.prototype.getValues(o,{period:t.longPeriod}),r=r.values,a=a.values;for(o=1;o<=r.length;o++)p(a[o-1])&&p(a[o-1][1])&&p(r[o+t.shortPeriod+1])&&p(r[o+t.shortPeriod+1][0])&&e.push([r[o+t.shortPeriod+1][0],0,null,r[o+t.shortPeriod+1][1]-a[o-1][1]]);for(o=0;o<e.length;o++)i.push(e[o][0]),n.push([0,null,e[o][3]]);for(t=(t=d.prototype.getValues({xData:i,yData:n},{period:t.signalPeriod,index:2})).values,o=0;o<e.length;o++)e[o][0]>=t[0][0]&&(e[o][2]=t[s][1],n[o]=[0,t[s][1],e[o][3]],null===e[o][3]?(e[o][1]=0,n[o][0]=0):(e[o][1]=l(e[o][3]-t[s][1]),n[o][0]=l(e[o][3]-t[s][1])),s++);return{values:e,xData:i,yData:n}}}})}),t(o,"masters/indicators/macd.src.js",[],function(){})});