!function(o){"object"==typeof module&&module.exports?module.exports=o.default=o:"function"==typeof define&&define.amd?define("highcharts/indicators/price-envelopes",["highcharts","highcharts/modules/stock"],function(t){return o(t),o.Highcharts=t,o}):o("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function o(t,o,e,i){t.hasOwnProperty(o)||(t[o]=i.apply(null,e))}o(t=t?t._modules:{},"indicators/price-envelopes.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,o){var y=o.isArray,r=o.merge;o=o.seriesType;var f=t.seriesTypes.sma;o("priceenvelopes","sma",{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle",init:function(){f.prototype.init.apply(this,arguments),this.options=r({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},toYData:function(t){return[t.top,t.middle,t.bottom]},translate:function(){var i=this,p=["plotTop","plotMiddle","plotBottom"];f.prototype.translate.apply(i),i.points.forEach(function(e){[e.top,e.middle,e.bottom].forEach(function(t,o){null!==t&&(e[p[o]]=i.yAxis.toPixels(t,!0))})})},drawGraph:function(){for(var t,e=this,o=e.points,i=o.length,p=e.options,a=e.graph,n={options:{gapSize:p.gapSize}},s=[[],[]];i--;)t=o[i],s[0].push({plotX:t.plotX,plotY:t.plotTop,isNull:t.isNull}),s[1].push({plotX:t.plotX,plotY:t.plotBottom,isNull:t.isNull});["topLine","bottomLine"].forEach(function(t,o){e.points=s[o],e.options=r(p[t].styles,n),e.graph=e["graph"+t],f.prototype.drawGraph.call(e),e["graph"+t]=e.graph}),e.points=o,e.options=p,e.graph=a,f.prototype.drawGraph.call(e)},getValues:function(t,o){var e,i=o.period,p=o.topBand,a=o.bottomBand,n=t.xData,s=(t=t.yData)?t.length:0,r=[],l=[],d=[];if(!(n.length<i)&&y(t[0])&&4===t[0].length){for(e=i;e<=s;e++){var h=n.slice(e-i,e),c=t.slice(e-i,e),h=(c=f.prototype.getValues.call(this,{xData:h,yData:c},o)).xData[0],u=(c=c.yData[0])*(1+p),m=c*(1-a);r.push([h,u,c,m]),l.push(h),d.push([u,c,m])}return{values:r,xData:l,yData:d}}}})}),o(t,"masters/indicators/price-envelopes.src.js",[],function(){})});