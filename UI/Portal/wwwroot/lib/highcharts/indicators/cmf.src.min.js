!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/cmf",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Stock/Indicators/CMF/CMFIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i=t.seriesTypes["sma"];const s=e["merge"];class o extends i{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.volumeSeries=void 0,this.linkedParent=void 0,this.yData=void 0,this.nameBase="Chaikin Money Flow"}isValid(){const t=this.chart,e=this.options,i=this.linkedParent,s=this.volumeSeries||(this.volumeSeries=t.get(e.params.volumeSeriesID)),o=i&&i.yData&&4===i.yData[0].length;function n(t){return t.xData&&t.xData.length>=e.params.period}return!!(i&&s&&n(i)&&n(s)&&o)}getValues(t,e){if(this.isValid())return this.getMoneyFlow(t.xData,t.yData,this.volumeSeries.yData,e.period)}getMoneyFlow(t,e,i,s){const o=e.length,n=[],a=[],r=[],u=[];let l,h,d=-1,c=0,p=0;function f(t,e){var i=t[1],s=t[2],t=t[3];return null!==e&&null!==i&&null!==s&&null!==t&&i!==s?(t-s-(i-t))/(i-s)*e:(d=l,null)}if(0<s&&s<=o){for(l=0;l<s;l++)n[l]=f(e[l],i[l]),c+=i[l],p+=n[l];for(a.push(t[l-1]),r.push(l-d>=s&&0!==c?p/c:null),u.push([a[0],r[0]]);l<o;l++)n[l]=f(e[l],i[l]),c=(c-=i[l-s])+i[l],p=(p-=n[l-s])+n[l],h=[t[l],l-d>=s?p/c:null],a.push(h[0]),r.push(h[1]),u.push([h[0],h[1]])}return{values:u,xData:a,yData:r}}}return o.defaultOptions=s(i.defaultOptions,{params:{index:void 0,volumeSeriesID:"volume"}}),t.registerSeriesType("cmf",o),o}),e(t,"masters/indicators/cmf.src.js",[],function(){})});