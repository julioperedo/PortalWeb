!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,n,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.sma,f=t.isArray,s=t.extend,t=t.merge,r=(r(a,n=i),a.prototype.getRegressionLineParameters=function(e,t){for(var n,o=this.options.params.index,r=function(e,t){return f(e)?e[t]:e},i=e.reduce(function(e,t){return t+e},0),s=t.reduce(function(e,t){return r(t,o)+e},0),a=i/e.length,p=s/t.length,c=0,u=0,l=0;l<e.length;l++)c+=(n=e[l]-a)*(r(t[l],o)-p),u+=Math.pow(n,2);i=u?c/u:0;return{slope:i,intercept:p-i*a}},a.prototype.getEndPointY=function(e,t){return e.slope*t+e.intercept},a.prototype.transformXData=function(e,t){var n=e[0];return e.map(function(e){return(e-n)/t})},a.prototype.findClosestDistance=function(e){for(var t,n,o=1;o<e.length-1;o++)0<(t=e[o]-e[o-1])&&(void 0===n||t<n)&&(n=t);return n},a.prototype.getValues=function(e,t){for(var n,o,r,i,s=e.xData,a=e.yData,p=t.period,c={xData:[],yData:[],values:[]},u=this.options.params.xAxisUnit||this.findClosestDistance(s),l=p-1;l<=s.length-1;l++)n=s[l],o=s.slice(r=l-p+1,i=l+1),r=a.slice(r,i),i=this.transformXData(o,u),o=this.getRegressionLineParameters(i,r),r=this.getEndPointY(o,i[i.length-1]),c.values.push({regressionLineParameters:o,x:n,y:r}),c.xData.push(n),c.yData.push(r);return c},a.defaultOptions=t(i.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),a);function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return s(r.prototype,{nameBase:"Linear Regression Indicator"}),e.registerSeriesType("linearRegression",r),r}),t(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,t=t.merge,r=(r(a,n=i),a.prototype.getEndPointY=function(e){return e.slope},a.defaultOptions=t(i.defaultOptions),a);function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return s(r.prototype,{nameBase:"Linear Regression Slope Indicator"}),e.registerSeriesType("linearRegressionSlope",r),r}),t(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,t=t.merge,r=(r(a,n=i),a.prototype.getEndPointY=function(e){return e.intercept},a.defaultOptions=t(i.defaultOptions),a);function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return s(r.prototype,{nameBase:"Linear Regression Intercept Indicator"}),e.registerSeriesType("linearRegressionIntercept",r),r}),t(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=e.seriesTypes.linearRegression,s=t.extend,t=t.merge,r=(r(a,n=i),a.prototype.slopeToAngle=function(e){return Math.atan(e)*(180/Math.PI)},a.prototype.getEndPointY=function(e){return this.slopeToAngle(e.slope)},a.defaultOptions=t(i.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),a);function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.points=void 0,e}return s(r.prototype,{nameBase:"Linear Regression Angle Indicator"}),e.registerSeriesType("linearRegressionAngle",r),r}),t(e,"masters/indicators/regressions.src.js",[],function(){})});