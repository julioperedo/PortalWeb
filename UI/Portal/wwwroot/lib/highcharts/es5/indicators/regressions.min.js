!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,n,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t.seriesTypes.sma,f=e.isArray,s=e.extend,e=e.merge,r=(r(a,n=i),a.prototype.getRegressionLineParameters=function(t,e){for(var n,o=this.options.params.index,r=function(t,e){return f(t)?t[e]:t},i=t.reduce(function(t,e){return e+t},0),s=e.reduce(function(t,e){return r(e,o)+t},0),a=i/t.length,p=s/e.length,c=0,u=0,l=0;l<t.length;l++)c+=(n=t[l]-a)*(r(e[l],o)-p),u+=Math.pow(n,2);i=u?c/u:0;return{slope:i,intercept:p-i*a}},a.prototype.getEndPointY=function(t,e){return t.slope*e+t.intercept},a.prototype.transformXData=function(t,e){var n=t[0];return t.map(function(t){return(t-n)/e})},a.prototype.findClosestDistance=function(t){for(var e,n,o=1;o<t.length-1;o++)0<(e=t[o]-t[o-1])&&(void 0===n||e<n)&&(n=e);return n},a.prototype.getValues=function(t,e){for(var n,o,r,i,s=t.xData,a=t.yData,p=e.period,c={xData:[],yData:[],values:[]},u=this.options.params.xAxisUnit||this.findClosestDistance(s),l=p-1;l<=s.length-1;l++)n=s[l],o=s.slice(r=l-p+1,i=l+1),r=a.slice(r,i),i=this.transformXData(o,u),o=this.getRegressionLineParameters(i,r),r=this.getEndPointY(o,i[i.length-1]),c.values.push({regressionLineParameters:o,x:n,y:r}),c.xData.push(n),c.yData.push(r);return c},a.defaultOptions=e(i.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}}),a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(r.prototype,{nameBase:"Linear Regression Indicator"}),t.registerSeriesType("linearRegression",r),r}),e(t,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t.seriesTypes.linearRegression,s=e.extend,e=e.merge,r=(r(a,n=i),a.prototype.getEndPointY=function(t){return t.slope},a.defaultOptions=e(i.defaultOptions),a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(r.prototype,{nameBase:"Linear Regression Slope Indicator"}),t.registerSeriesType("linearRegressionSlope",r),r}),e(t,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t.seriesTypes.linearRegression,s=e.extend,e=e.merge,r=(r(a,n=i),a.prototype.getEndPointY=function(t){return t.intercept},a.defaultOptions=e(i.defaultOptions),a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(r.prototype,{nameBase:"Linear Regression Intercept Indicator"}),t.registerSeriesType("linearRegressionIntercept",r),r}),e(t,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=t.seriesTypes.linearRegression,s=e.extend,e=e.merge,r=(r(a,n=i),a.prototype.slopeToAngle=function(t){return Math.atan(t)*(180/Math.PI)},a.prototype.getEndPointY=function(t){return this.slopeToAngle(t.slope)},a.defaultOptions=e(i.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}}),a);function a(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return s(r.prototype,{nameBase:"Linear Regression Angle Indicator"}),t.registerSeriesType("linearRegressionAngle",r),r}),e(t,"masters/indicators/regressions.src.js",[],function(){})});