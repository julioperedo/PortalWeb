!function(n){"object"==typeof module&&module.exports?module.exports=n.default=n:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return n(i),n.Highcharts=i,n}):n("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){"use strict";i=i?i._modules:{};function n(i,n,t,e){i.hasOwnProperty(n)||(i[n]=e.apply(null,t),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:i[n]}})))}n(i,"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(u,e){var i,o=e.addEvent,t=e.find,k=e.fireEvent,r=e.isArray,p=e.isNumber,v=e.pick,n=i=i||{},s=[];function a(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function f(){var i;null!=(i=this.brokenAxis)&&i.hasBreaks&&(this.options.ordinal=!1)}function l(){var i=this,n=i.brokenAxis;if(null!=n&&n.hasBreaks){for(var t=i.tickPositions,e=i.tickPositions.info,o=[],r=0;r<t.length;r++)n.isInAnyBreak(t[r])||o.push(t[r]);i.tickPositions=o,i.tickPositions.info=e}}function h(){var i=this;i.brokenAxis||(i.brokenAxis=new b(i))}function c(){var i=this,n=i.isDirty,t=i.options.connectNulls,e=i.points,o=i.xAxis,r=i.yAxis;if(n)for(var s=e.length;s--;){var a=e[s],u=!(null===a.y&&!1===t)&&((null==(u=null==o?void 0:o.brokenAxis)?void 0:u.isInAnyBreak(a.x,!0))||(null==(u=null==r?void 0:r.brokenAxis)?void 0:u.isInAnyBreak(a.y,!0)));a.visible=!u&&!1!==a.options.visible}}function d(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function m(o,i){var n,r,s,a,t,u=this,f=u.points;null!=(n=null==o?void 0:o.brokenAxis)&&n.hasBreaks&&(t=o.brokenAxis,i.forEach(function(i){r=(null==t?void 0:t.breakArray)||[],s=o.isXAxis?o.min:v(u.options.threshold,o.min);var n,e=null==(n=null==(n=null==o?void 0:o.options)?void 0:n.breaks)?void 0:n.filter(function(i){for(var n=!0,t=0;t<r.length;t++){var e=r[t];if(e.from===i.from&&e.to===i.to){n=!1;break}}return n});f.forEach(function(t){a=v(t["stack"+i.toUpperCase()],t[i]),r.forEach(function(i){var n;p(s)&&p(a)&&(n="",s<i.from&&a>i.to||s>i.from&&a<i.from?n="pointBreak":(s<i.from&&a>i.from&&a<i.to||s>i.from&&a>i.to&&a<i.from)&&(n="pointInBreak"),n&&k(o,n,{point:t,brk:i}))}),null!=e&&e.forEach(function(i){k(o,"pointOutsideOfBreak",{point:t,brk:i})})})}))}function x(){var i=this.currentDataGrouping,i=null==i?void 0:i.gapSize,n=this.points.slice(),t=this.yAxis,e=this.options.gapSize,o=n.length-1;if(e&&0<o){"value"!==this.options.gapUnit&&(e*=this.basePointRange),i&&e<i&&i>=this.basePointRange&&(e=i);for(var r,s,a=void 0;o--;)a&&!1!==a.visible||(a=n[o+1]),r=n[o],!1!==a.visible&&!1!==r.visible&&(a.x-r.x>e&&(s=(r.x+a.x)/2,n.splice(o+1,0,{isNull:!0,x:s}),t.stacking&&this.options.stacking&&((t.stacking.stacks[this.stackKey][s]=new u(t,t.options.stackLabels,!1,s,this.stack)).total=0)),a=r)}return this.getGraphPath(n)}n.compose=function(i,n){var t;return e.pushUnique(s,i)&&(i.keepProps.push("brokenAxis"),o(i,"init",h),o(i,"afterInit",a),o(i,"afterSetTickPositions",l),o(i,"afterSetOptions",f)),e.pushUnique(s,n)&&((t=n.prototype).drawBreaks=m,t.gappedPath=x,o(n,"afterGeneratePoints",c),o(n,"afterRender",d)),i},A.isInBreak=function(i,n){var t=i.repeat||1/0,e=i.from,o=i.to-i.from,e=e<=n?(n-e)%t:t-(e-n)%t,n=i.inclusive?e<=o:e<o&&0!=e;return n},A.lin2Val=function(i){var n=this.brokenAxis,t=n&&n.breakArray;if(!t||!p(i))return i;for(var e,o=i,r=0;r<t.length&&!((e=t[r]).from>=o);r++)(e.to<o||A.isInBreak(e,o))&&(o+=e.len);return o},A.val2Lin=function(i){var n=this.brokenAxis,t=n&&n.breakArray;if(!t||!p(i))return i;for(var e,o=i,r=0;r<t.length;r++)if((e=t[r]).to<=i)o-=e.len;else{if(e.from>=i)break;if(A.isInBreak(e,i)){o-=i-e.from;break}}return o},A.prototype.findBreakAt=function(n,i){return t(i,function(i){return i.from<n&&n<i.to})},A.prototype.isInAnyBreak=function(i,n){var t,e,o,r=this.axis,s=r.options.breaks||[],a=s.length;if(a&&p(i)){for(;a--;)A.isInBreak(s[a],i)&&(t=!0,e=e||v(s[a].showPoints,!r.isXAxis));o=t&&n?t&&!e:t}return o},A.prototype.setBreaks=function(i,n){var h=this,c=h.axis,t=r(i)&&!!i.length&&!!Object.keys(i[0]).length;c.isDirty=h.hasBreaks!==t,h.hasBreaks=t,i!==c.options.breaks&&(c.options.breaks=c.userOptions.breaks=i),c.forceRedraw=!0,c.series.forEach(function(i){i.isDirty=!0}),t||c.val2lin!==A.val2Lin||(delete c.val2lin,delete c.lin2val),t&&(c.userOptions.ordinal=!1,c.lin2val=A.lin2Val,c.val2lin=A.val2Lin,c.setExtremes=function(i,n,t,e,o){if(h.hasBreaks){for(var r=this.options.breaks||[],s=void 0;s=h.findBreakAt(i,r);)i=s.to;for(;s=h.findBreakAt(n,r);)n=s.from;n<i&&(n=i)}c.constructor.prototype.setExtremes.call(this,i,n,t,e,o)},c.setAxisTranslation=function(){var i,n,t,e,o,r,s,a,u,f,l;c.constructor.prototype.setAxisTranslation.call(this),h.unitLength=void 0,h.hasBreaks&&(i=c.options.breaks||[],n=[],t=[],e=v(c.pointRangePadding,0),o=0,a=c.userMin||c.min,u=c.userMax||c.max,i.forEach(function(i){s=i.repeat||1/0,p(a)&&p(u)&&(A.isInBreak(i,a)&&(a+=i.to%s-a%s),A.isInBreak(i,u)&&(u-=u%s-i.from%s))}),i.forEach(function(i){if(f=i.from,s=i.repeat||1/0,p(a)&&p(u)){for(;a<f-s;)f-=s;for(;f<a;)f+=s;for(l=f;l<u;l+=s)n.push({value:l,move:"in"}),n.push({value:l+i.to-i.from,move:"out",size:i.breakSize})}}),n.sort(function(i,n){return i.value===n.value?("in"===i.move?0:1)-("in"===n.move?0:1):i.value-n.value}),r=0,f=a,n.forEach(function(i){1===(r+="in"===i.move?1:-1)&&"in"===i.move&&(f=i.value),0===r&&p(f)&&(t.push({from:f,to:i.value,len:i.value-f-(i.size||0)}),o+=i.value-f-(i.size||0))}),h.breakArray=t,p(a)&&p(u)&&p(c.min)&&(h.unitLength=u-a-o+e,k(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:h.unitLength&&(c.transA*=(u-c.min+e)/h.unitLength),e&&(c.minPixelPadding=c.transA*(c.minPointOffset||0)),c.min=a,c.max=u))}),v(n,!0)&&c.chart.redraw()};var b=A;function A(i){this.hasBreaks=!1,this.axis=i}return n.Additions=b,i}),n(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,n){n.compose(i.Axis,i.Series)})});