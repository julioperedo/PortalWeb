!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/datagrouping",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,o,a){t.hasOwnProperty(i)||(t[i]=a.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),i(t,"Extensions/DataGrouping/ApproximationDefaults.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Core/Utilities.js"]],function(e,t){var i=t.arrayMax,o=t.arrayMin,a=t.correctFloat,n=t.extend,r=t.isNumber;function s(t){var i=t.length,t=p(t);return t=r(t)&&i?a(t/i):t}function p(t){var i,o=t.length;if(!o&&t.hasNulls)i=null;else if(o)for(i=0;o--;)i+=t[o];return i}t={average:s,averages:function(){var i=[];return[].forEach.call(arguments,function(t){i.push(s(t))}),void 0===i[0]?void 0:i},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?i(t):t.hasNulls?null:void 0},hlc:function(t,i,o){if(t=e.high(t),i=e.low(i),o=e.close(o),r(t)||r(i)||r(o))return[t,i,o]},low:function(t){return t.length?o(t):t.hasNulls?null:void 0},ohlc:function(t,i,o,a){if(t=e.open(t),i=e.high(i),o=e.low(o),a=e.close(a),r(t)||r(i)||r(o)||r(a))return[t,i,o,a]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(t,i){return t=e.low(t),i=e.high(i),r(t)||r(i)?[t,i]:null===t&&null===i?null:void 0},sum:p};return n(e,t),t}),i(t,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),i(t,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Utilities.js"]],function(r,i){var a,o=i.addEvent,e=i.extend,n=i.merge,s=i.pick,p=[];function u(i){var o=this,t=o.series;t.forEach(function(t){t.groupPixelWidth=void 0}),t.forEach(function(t){t.groupPixelWidth=o.getGroupPixelWidth&&o.getGroupPixelWidth(),t.groupPixelWidth&&(t.hasProcessed=!0),t.applyGrouping(!!i.hasExtremesChanged)})}function l(){for(var t,i,o=this.series,a=o.length,e=0,n=!1;a--;)(i=o[a].options.dataGrouping)&&(e=Math.max(e,s(i.groupPixelWidth,r.common.groupPixelWidth)),t=(o[a].processedXData||o[a].data).length,(o[a].groupPixelWidth||t>this.chart.plotSizeX/e||t&&i.forced)&&(n=!0));return n?e:0}function h(){this.series.forEach(function(t){t.hasProcessed=!1})}function d(i,t){var o;if(t=s(t,!0),i=i||{forced:!1,units:null},this instanceof a)for(o=this.series.length;o--;)this.series[o].update({dataGrouping:i},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping="boolean"==typeof i?i:n(i,t.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),t&&this.chart.redraw()}return{compose:function(t){a=t,i.pushUnique(p,t)&&(o(t,"afterSetScale",h),o(t,"postProcessData",u),e(t.prototype,{applyGrouping:u,getGroupPixelWidth:l,setDataGrouping:d}))}}}),i(t,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Core/Axis/DateTimeAxis.js"],t["Core/Defaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(C,A,S,s,t,o){var E=t.series.prototype,a=o.addEvent,W=o.defined,P=o.error,e=o.extend,k=o.isNumber,H=o.merge,b=o.pick,i=E.generatePoints,n=[];function r(t){var i=this.chart,o=this.options.dataGrouping,a=!1!==this.allowDG&&o&&b(o.enabled,i.options.isStock),e=this.reserveSpace(),n=this.currentDataGrouping,r=!1,t=(a&&!this.requireSorting&&(this.requireSorting=r=!0),0==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)||!a);if(r&&(this.requireSorting=!1),!t){this.destroyGroupedData();var a=o.groupAll?this.xData:this.processedXData,r=o.groupAll?this.yData:this.processedYData,t=i.plotSizeX,s=this.xAxis,p=s.options.ordinal,u=this.groupPixelWidth,l=void 0,h=void 0;if(u&&a&&a.length&&t){this.isDirty=h=!0,this.points=null;var d=s.getExtremes(),g=d.min,d=d.max,p=p&&s.ordinal&&s.ordinal.getGroupIntervalFactor(g,d,this)||1,c=s.getTimeTicks(S.Additions.prototype.normalizeTimeTickInterval(u*(d-g)/t*p,o.units||A.units),Math.min(g,a[0]),Math.max(d,a[a.length-1]),s.options.startOfWeek,a,this.closestPointRange),u=E.groupData.apply(this,[a,r,c,o.approximation]),t=u.groupedXData,p=u.groupedYData,f=0;for(o&&o.smoothed&&t.length&&(o.firstAnchor="firstPoint",o.anchor="middle",o.lastAnchor="lastPoint",P(32,!1,i,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),l=1;l<c.length;l++)c.info.segmentStarts&&-1!==c.info.segmentStarts.indexOf(l)||(f=Math.max(c[l]-c[l-1],f));(g=c.info).gapSize=f,this.closestPointRange=c.info.totalRange,this.groupMap=u.groupMap,this.currentDataGrouping=g;var a=this,m=t,r=d,i=a.options.dataGrouping,u=a.currentDataGrouping&&a.currentDataGrouping.gapSize;if(i&&a.xData&&u&&a.groupMap){var x,D,d=m.length-1,G=i.anchor,y=b(i.firstAnchor,G),i=b(i.lastAnchor,G);if(G&&"start"!==G)for(var v=u*{middle:.5,end:1}[G],M=m.length-1;M--&&0<M;)m[M]+=v;y&&"start"!==y&&a.xData[0]>=m[0]&&(G=a.groupMap[0].start,x=a.groupMap[0].length,D=void 0,k(G)&&k(x)&&(D=G+(x-1)),m[0]={middle:m[0]+.5*u,end:m[0]+u,firstPoint:a.xData[0],lastPoint:D&&a.xData[D]}[y]),i&&"start"!==i&&u&&m[d]>=r-u&&(G=a.groupMap[a.groupMap.length-1].start,m[d]={middle:m[d]+.5*u,end:m[d]+u,firstPoint:G&&a.xData[G],lastPoint:a.xData[a.xData.length-1]}[i])}e&&(W((x=t)[0])&&k(s.min)&&k(s.dataMin)&&x[0]<s.min&&((!W(s.options.min)&&s.min<=s.dataMin||s.min===s.dataMin)&&(s.min=Math.min(x[0],s.min)),s.dataMin=Math.min(x[0],s.dataMin)),W(x[x.length-1])&&k(s.max)&&k(s.dataMax)&&x[x.length-1]>s.max&&((!W(s.options.max)&&k(s.dataMax)&&s.max>=s.dataMax||s.max===s.dataMax)&&(s.max=Math.max(x[x.length-1],s.max)),s.dataMax=Math.max(x[x.length-1],s.dataMax))),o.groupAll&&(this.allGroupedData=p,t=(D=this.cropData(t,p,s.min,s.max)).xData,p=D.yData,this.cropStart=D.start),this.processedXData=t,this.processedYData=p}else this.groupMap=null;this.hasGroupedData=h,this.preventGraphAnimation=(n&&n.totalRange)!==(g&&g.totalRange)}}function p(){this.groupedData&&(this.groupedData.forEach(function(t,i){t&&(this.groupedData[i]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)}function u(){i.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function l(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function h(t,i,o,a){var e,n,r=this,s=r.data,p=r.options&&r.options.data,u=[],l=[],h=[],d=t.length,g=!!i,c=[],f=r.pointArrayMap,m=f&&f.length,x=["x"].concat(f||["y"]),D=this.options.dataGrouping&&this.options.dataGrouping.groupAll,G=0,y=0,v="function"==typeof a?a:a&&C[a]?C[a]:C[r.getDGApproximation&&r.getDGApproximation()||"average"];if(m)for(var M=f.length;M--;)c.push([]);else c.push([]);for(var A=m||1,S=0;S<=d;S++)if(!(t[S]<o[0])){for(;void 0!==o[G+1]&&t[S]>=o[G+1]||S===d;){e=o[G],r.dataGroupInfo={start:D?y:r.cropStart+y,length:c[0].length},n=v.apply(r,c),r.pointClass&&!W(r.dataGroupInfo.options)&&(r.dataGroupInfo.options=H(r.pointClass.prototype.optionsToObject.call({series:r},r.options.data[r.cropStart+y])),x.forEach(function(t){delete r.dataGroupInfo.options[t]})),void 0!==n&&(u.push(e),l.push(n),h.push(r.dataGroupInfo));for(var y=S,E=0;E<A;E++)c[E].length=0,c[E].hasNulls=!1;if(G+=1,S===d)break}if(S===d)break;if(f)for(var P,b=r.options.dataGrouping&&r.options.dataGrouping.groupAll?S:r.cropStart+S,j=s&&s[b]||r.pointClass.prototype.applyOptions.apply({series:r},[p[b]]),E=0;E<m;E++)k(P=j[f[E]])?c[E].push(P):null===P&&(c[E].hasNulls=!0);else k(b=g?i[S]:null)?c[0].push(b):null===b&&(c[0].hasNulls=!0)}return{groupedXData:u,groupedYData:l,groupMap:h}}function d(t){var i,t=t.options,o=this.type,a=this.chart.options.plotOptions,e=this.useCommonDataGrouping&&A.common,n=A.seriesSpecific,r=s.defaultOptions.plotOptions[o].dataGrouping;a&&(n[o]||e)&&(i=this.chart.rangeSelector,r=r||H(A.common,n[o]),t.dataGrouping=H(e,r,a.series&&a.series.dataGrouping,a[o].dataGrouping,this.userOptions.dataGrouping,!t.isInternal&&i&&k(i.selected)&&i.buttonOptions[i.selected].dataGrouping))}return{compose:function(t){var i=t.prototype.pointClass;o.pushUnique(n,i)&&a(i,"update",function(){if(this.dataGroup)return P(24,!1,this.series.chart),!1}),o.pushUnique(n,t)&&(a(t,"afterSetOptions",d),a(t,"destroy",p),e(t.prototype,{applyGrouping:r,destroyGroupedData:p,generatePoints:u,getDGApproximation:l,groupData:h}))},groupData:h}}),i(t,"Extensions/DataGrouping/DataGrouping.js",[t["Extensions/DataGrouping/DataGroupingAxisComposition.js"],t["Extensions/DataGrouping/DataGroupingDefaults.js"],t["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(a,g,e,t,n){var c=t.format,r=n.addEvent,f=n.extend,m=n.isNumber,s=[];function p(t){var i,o,a,e=this.chart,n=e.time,r=t.labelConfig,s=r.series,p=s.options,u=s.tooltipOptions,p=p.dataGrouping,l=s.xAxis,h=u.xDateFormat,d=u[t.isFooter?"footerFormat":"headerFormat"];l&&"datetime"===l.options.type&&p&&m(r.key)&&(o=s.currentDataGrouping,p=p.dateTimeLabelFormats||g.common.dateTimeLabelFormats,o?(a=p[o.unitName],1===o.count?h=a[0]:(h=a[1],i=a[2])):!h&&p&&l.dateTime&&(h=l.dateTime.getXDateFormat(r.x,u.dateTimeLabelFormats)),a=n.dateFormat(h,r.key),i&&(a+=n.dateFormat(i,r.key+o.totalRange-1)),s.chart.styledMode&&(d=this.styledModeFormat(d)),t.text=c(d,{point:f(r.point,{key:a}),series:s},e),t.preventDefault())}return{compose:function(t,i,o){a.compose(t),e.compose(i),o&&n.pushUnique(s,o)&&r(o,"headerFormatter",p)},groupData:e.groupData}}),i(t,"masters/modules/datagrouping.src.js",[t["Core/Globals.js"],t["Extensions/DataGrouping/ApproximationDefaults.js"],t["Extensions/DataGrouping/ApproximationRegistry.js"],t["Extensions/DataGrouping/DataGrouping.js"]],function(t,i,o,a){t.dataGrouping={approximationDefaults:i,approximations:o},a.compose(t.Axis,t.Series,t.Tooltip)})});