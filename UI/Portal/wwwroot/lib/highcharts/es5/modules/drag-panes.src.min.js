!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,s,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),t(e,"Extensions/DragPanes/AxisResizer.js",[e["Extensions/DragPanes/AxisResizerDefaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t,s){var a=t.hasTouch,h=s.addEvent,L=s.clamp,w=s.isNumber,A=s.relativeLength;function o(e){this.axis=void 0,this.controlLine=void 0,this.lastPos=void 0,this.options=void 0,this.init(e)}return o.prototype.init=function(e,t){this.axis=e,this.options=e.options.resize||{},this.render(),t||this.addMouseEvents()},o.prototype.render=function(){var e=this,t=e.axis,s=t.chart,o=e.options,i=o.x||0,n=o.y,r=L(t.top+t.height+n,s.plotTop,s.plotTop+s.plotHeight),a={},n=(s.styledMode||(a={cursor:o.cursor,stroke:o.lineColor,"stroke-width":o.lineWidth,dashstyle:o.lineDashStyle}),e.lastPos=r-n,e.controlLine||(e.controlLine=s.renderer.path().addClass("highcharts-axis-resizer")),e.controlLine.add(t.axisGroup),s.styledMode?e.controlLine.strokeWidth():o.lineWidth);a.d=s.renderer.crispLine([["M",t.left+i,r],["L",t.left+t.width+i,r]],n),e.controlLine.attr(a)},o.prototype.addMouseEvents=function(){var e,t,s,o=this,i=o.controlLine.element,n=o.axis.chart.container,r=[];o.mouseMoveHandler=e=function(e){return o.onMouseMove(e)},o.mouseUpHandler=t=function(e){return o.onMouseUp(e)},o.mouseDownHandler=s=function(e){return o.onMouseDown(e)},r.push(h(n,"mousemove",e),h(n.ownerDocument,"mouseup",t),h(i,"mousedown",s)),a&&r.push(h(n,"touchmove",e),h(n.ownerDocument,"touchend",t),h(i,"touchstart",s)),o.eventsToUnbind=r},o.prototype.onMouseMove=function(e){e.touches&&0===e.touches[0].pageX||this.grabbed&&(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y))},o.prototype.onMouseUp=function(e){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=void 0},o.prototype.onMouseDown=function(e){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},o.prototype.updateAxes=function(e){function t(e){return 100*e/u+"%"}function s(e,t,s){return Math.round(L(e,t,s))}var o=this,i=o.axis.chart,n=o.options.controlledAxis,r=0===n.next.length?[i.yAxis.indexOf(o.axis)+1]:n.next,n=[o.axis].concat(n.prev),a=[],h=i.plotTop,u=i.plotHeight,c=h+u,d=!1,p=(e=L(e,h,c))-o.lastPos;if(!(p*p<1)){for(var l=!0,f=0,x=[n,r];f<x.length;f++)for(var g=0,v=x[f];g<v.length;g++){var y,m=v[g],m=w(m)?i.yAxis[m]:l?m:i.get(m),z=m&&m.options,D=void 0,M=void 0;z&&"navigator-y-axis"!==z.id?(M=m.top,y=Math.round(A(z.minLength||NaN,u)),z=Math.round(A(z.maxLength||NaN,u)),l?((D=s(e-M,y,z))===z&&(d=!0),e=M+D,a.push({axis:m,options:{height:t(D)}})):(p=e-o.lastPos,D=s(m.len-p,y,z),c<(M=m.top+p)+D&&(e+=z=c-D-M,M+=z),(D=M<h&&c<(M=h)+D?u:D)===y&&(d=!0),a.push({axis:m,options:{top:t(M-h),height:t(D)}})),l=!1):l=!1}if(!d){for(var P=0,b=a;P<b.length;P++){var E=b[P];E.axis.update(E.options,!1)}i.redraw(!1)}}},o.prototype.destroy=function(){delete this.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(e){return e()}),this.controlLine.destroy();for(var e=0,t=Object.keys(this);e<t.length;e++)this[t[e]]=null},o.resizerOptions=e,o}),t(e,"Extensions/DragPanes/DragPanes.js",[e["Extensions/DragPanes/AxisResizer.js"],e["Core/Utilities.js"]],function(o,s){var i=s.addEvent,n=s.merge,r=s.wrap,a=[];function h(){var e=this,t=e.resizer,s=e.options.resize;s&&(s=!1!==s.enabled,t?s?t.init(e,!0):t.destroy():s&&(e.resizer=new o(e)))}function u(e){!e.keepEvents&&this.resizer&&this.resizer.destroy()}function c(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}function d(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}return{compose:function(e,t){s.pushUnique(a,e)&&(n(!0,e.defaultOptions,o.resizerOptions),e.keepProps.push("resizer"),i(e,"afterRender",h),i(e,"destroy",u)),s.pushUnique(a,t)&&(r(t.prototype,"runPointActions",d),r(t.prototype,"drag",c))}}}),t(e,"masters/modules/drag-panes.src.js",[e["Core/Globals.js"],e["Extensions/DragPanes/AxisResizer.js"],e["Extensions/DragPanes/DragPanes.js"]],function(e,t,s){e.AxisResizer=t,s.compose(e.Axis,e.Pointer)})});