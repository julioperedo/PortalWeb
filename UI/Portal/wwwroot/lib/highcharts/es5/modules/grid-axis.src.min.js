!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,r){t.hasOwnProperty(i)||(t[i]=r.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(l,d,r){var m,t,i=d.dateFormats,n=r.addEvent,o=r.defined,h=r.erase,c=r.find,s=r.isArray,x=r.isNumber,u=r.merge,p=r.pick,g=r.timeUnits,a=r.wrap,f=((t=m=m||{})[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left",[]);function k(t){return r.isObject(t,!0)}function b(r,t){var n={width:0,height:0};return t.forEach(function(t){var i,t=r[t],e=0;k(t)&&(i=(t=k(t.label)?t.label:{}).getBBox?t.getBBox().height:0,t.textStr&&!x(t.textPxLength)&&(t.textPxLength=t.getBBox().width),e=x(t.textPxLength)?Math.round(t.textPxLength):0,t.textStr&&(e=Math.round(t.getBBox().width)),n.height=Math.max(i,n.height),n.width=Math.max(e,n.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,n.width+=this.options.labels.indentation*(t-1)),n}function v(){var t=this.grid;(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function P(t){var i,e,r,n,o,s,a,d,l,h,c,u,g,f=this;!0===(f.options.grid||{}).enabled&&(u=f.axisTitle,i=f.height,e=f.horiz,r=f.left,n=f.offset,o=f.opposite,c=f.options,s=f.top,a=f.width,g=f.tickSize(),d=u&&u.getBBox().width,l=c.title.x,h=c.title.y,c=p(c.title.margin,e?5:10),u=u?f.chart.renderer.fontMetrics(u).f:0,g=(e?s+i:r)+(e?1:-1)*(o?-1:1)*(g?g[0]/2:0)+(f.side===m.bottom?u:0),t.titlePosition.x=e?r-(d||0)/2-c+l:g+(o?a:0)+n+l,t.titlePosition.y=e?g-(o?i:0)+(o?u:-u)/2+n+h:s-c+h)}function y(){var t,i=this,e=i.chart,r=i.options.grid,n=void 0===r?{}:r,o=i.userOptions;if(n.enabled&&((t=(r=i).options).labels.align=p(t.labels.align,"center"),r.categories||(t.showLastLabel=!1),r.labelRotation=0,t.labels.rotation=0,t.minTickInterval=1),n.columns)for(var s=i.grid.columns=[],a=i.grid.columnIndex=0;++a<n.columns.length;){var d=u(o,n.columns[n.columns.length-a-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}}),d=(delete d.grid.columns,new l(i.chart,d,"yAxis"));d.grid.isColumn=!0,d.grid.columnIndex=a,h(e.axes,d),h(e[i.coll]||[],d),s.push(d)}}function w(){var t=this,i=t.grid,e=t.options;if(!0===(e.grid||{}).enabled){var r,n=t.min||0,o=t.max||0;if(t.maxLabelDimensions=t.getMaxLabelDimensions(t.ticks,t.tickPositions),t.rightWall&&t.rightWall.destroy(),t.grid&&t.grid.isOuterAxis()&&t.axisLine&&((r=e.lineWidth)&&(s=(r=t.getLinePath(r))[0],d=r[1],a=((t.tickSize("tick")||[1])[0]-1)*(t.side===m.top||t.side===m.left?-1:1),"M"===s[0]&&"L"===d[0]&&(t.horiz?(s[2]+=a,d[2]+=a):(s[1]+=a,d[1]+=a)),!t.horiz&&t.chart.marginRight&&(a=[s,["L",t.left,s[2]||0]],s=["L",t.chart.chartWidth-t.chart.marginRight,t.toPixels(o+t.tickmarkOffset)],d=[["M",d[1]||0,t.toPixels(o+t.tickmarkOffset)],s],t.grid.upperBorder||n%1==0||(t.grid.upperBorder=t.grid.renderBorder(a)),t.grid.upperBorder&&(t.grid.upperBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),t.grid.upperBorder.animate({d:a})),t.grid.lowerBorder||o%1==0||(t.grid.lowerBorder=t.grid.renderBorder(d)),t.grid.lowerBorder&&(t.grid.lowerBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),t.grid.lowerBorder.animate({d:d}))),t.grid.axisLineExtra?(t.grid.axisLineExtra.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),t.grid.axisLineExtra.animate({d:r})):t.grid.axisLineExtra=t.grid.renderBorder(r),t.axisLine[t.showAxis?"show":"hide"]())),(i&&i.columns||[]).forEach(function(t){return t.render()}),!t.horiz&&t.chart.hasRendered&&(t.scrollbar||t.linkedParent&&t.linkedParent.scrollbar)){for(var s=t.tickmarkOffset,a=t.tickPositions[t.tickPositions.length-1],d=t.tickPositions[0],l=void 0,h=void 0;(l=t.hiddenLabels.pop())&&l.element;)l.show();for(;(h=t.hiddenMarks.pop())&&h.element;)h.show();(l=t.ticks[d].label)&&(s<n-d?t.hiddenLabels.push(l.hide()):l.show()),(l=t.ticks[a].label)&&(s<a-o?t.hiddenLabels.push(l.hide()):l.show());e=t.ticks[a].mark;e&&a-o<s&&0<a-o&&t.ticks[a].isLast&&t.hiddenMarks.push(e.hide())}}}function L(){var t=this,i=t.tickPositions&&t.tickPositions.info,e=t.options,r=e.grid||{},n=t.userOptions.labels||{};r.enabled&&(t.horiz?(t.series.forEach(function(t){t.options.pointRange=0}),i&&e.dateTimeLabelFormats&&e.labels&&!o(n.align)&&(!1===e.dateTimeLabelFormats[i.unitName].range||1<i.count)&&(e.labels.align="left",o(n.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&t.grid&&t.grid.columns&&(this.minPointOffset=this.tickInterval))}function B(t){var h,i=this.options,t=t.userOptions,e=i&&k(i.grid)?i.grid:{};!0===e.enabled&&(h=u(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(o(t.linkedTo)&&!o(t.tickPixelInterval)&&(h.tickPixelInterval=350),o(t.tickPixelInterval)||!o(t.linkedTo)||o(t.tickPositioner)||o(t.tickInterval)||(h.tickPositioner=function(t,i){var e=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(e){for(var r=h.units||[],n=void 0,o=1,s="year",a=0;a<r.length;a++){var d=r[a];if(d&&d[0]===e.unitName){n=a;break}}var l=x(n)&&r[n+1],l=(l?(s=l[0]||"year",o=(l=l[1])&&l[0]||1):"year"===e.unitName&&(o=10*e.count),g[s]);return this.tickInterval=l*o,this.chart.time.getTimeTicks({unitRange:l,count:o,unitName:s},t,i,this.options.startOfWeek)}})),u(!0,this.options,h),this.horiz&&(i.minPadding=p(t.minPadding,0),i.maxPadding=p(t.maxPadding,0)),x(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=e.borderWidth))}function O(t){var t=t.userOptions,t=t&&t.grid||{},i=t.columns;t.enabled&&i&&u(!0,this.options,i[i.length-1])}function M(){(this.grid.columns||[]).forEach(function(t){return t.setScale()})}function S(t){var i,e=this.horiz,r=this.maxLabelDimensions,n=this.options.grid,n=void 0===n?{}:n;n.enabled&&r&&(i=2*this.options.labels.distance,e=e?n.cellHeight||i+r.height:i+r.width,s(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function T(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}function A(i){var t=this.grid;(t.columns||[]).forEach(function(t){return t.destroy(i.keepEvents)}),t.columns=void 0}function C(t){var i=this,t=t.userOptions||{},e=t.grid||{};e.enabled&&o(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor),i.grid||(i.grid=new D(i)),i.hiddenLabels=[],i.hiddenMarks=[]}function E(t){var i,e,r,n=this.label,o=this.axis,s=o.reversed,a=o.chart,d=o.options.grid||{},l=o.options.labels,h=l.align,c=m[o.side],u=t.tickmarkOffset,g=o.tickPositions,f=this.pos-u,g=x(g[t.index+1])?g[t.index+1]-u:(o.max||0)+u,u=o.tickSize("tick"),p=u?u[0]:0,u=u?u[1]/2:0;!0===d.enabled&&(r=e=d=void 0,"top"===c?i=(d=o.top+o.offset)-p:"bottom"===c?d=(i=a.chartHeight-o.bottom+o.offset)+p:(d=o.top+o.len-(o.translate(s?g:f)||0),i=o.top+o.len-(o.translate(s?f:g)||0)),"right"===c?r=(e=a.chartWidth-o.right+o.offset)+p:"left"===c?e=(r=o.left+o.offset)-p:(e=Math.round(o.left+(o.translate(s?g:f)||0))-u,r=Math.min(Math.round(o.left+(o.translate(s?f:g)||0))-u,o.left+o.len)),this.slotWidth=r-e,t.pos.x="left"===h?e:"right"===h?r:e+(r-e)/2,t.pos.y=i+(d-i)/2,n&&(c=a.renderer.fontMetrics(n),p=n.getBBox().height,l.useHTML?t.pos.y+=c.b+-p/2:(s=Math.round(p/c.h),t.pos.y+=(c.b-(c.h-c.f))/2+-((s-1)*c.h)/2)),t.pos.x+=o.horiz&&l.x||0)}function W(t){var i,e,r,n,o,s=t.axis,a=t.value;s.options.grid&&s.options.grid.enabled&&(r=s.tickPositions,i=(s.linkedParent||s).series[0],e=a===r[0],r=a===r[r.length-1],o=void 0,(n=i&&c(i.options.data,function(t){return t[s.isXAxis?"x":"y"]===a}))&&i.is("gantt")&&(o=u(n),d.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(o)),t.isFirst=e,t.isLast=r,t.point=o)}function z(){var t=this,i=t.options,e=i.grid||{},r=t.categories,n=t.tickPositions,o=n[0],s=n[n.length-1],a=t.linkedParent&&t.linkedParent.min,d=t.linkedParent&&t.linkedParent.max,a=a||t.min,d=d||t.max,l=t.tickInterval,s=d<s&&s-l<d;!0!==e.enabled||r||!t.horiz&&!t.isLinked||(o<a&&a<o+l&&!i.startOnTick&&(n[0]=a),s&&!i.endOnTick&&(n[n.length-1]=d))}function I(t){var i=this.options.grid;return!0===(void 0===i?{}:i).enabled&&this.categories?this.tickInterval:t.apply(this,(i=arguments,Array.prototype.slice.call(i,1)))}e.prototype.isOuterAxis=function(){var e=this.axis,t=e.chart,i=e.grid.columnIndex,r=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns,n=i?e.linkedParent:e,o=-1,s=0;return(t[e.coll]||[]).forEach(function(t,i){t.side!==e.side||t.options.isInternal||(s=i,t===n&&(o=i))}),s===o&&(!x(i)||r.length===i)},e.prototype.renderBorder=function(t){var i=this.axis,e=i.chart.renderer,r=i.options,t=e.path(t).addClass("highcharts-axis-line").add(i.axisBorder);return e.styledMode||t.attr({stroke:r.lineColor,"stroke-width":r.lineWidth,zIndex:7}),t};var D=e;function e(t){this.axis=t}return i.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},i.W=function(t){var i=this,e=new this.Date(t),t=(["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)}),(this.get("Day",e)+6)%7),r=new this.Date(e.valueOf()),t=(this.set("Date",r,this.get("Date",e)-t+3),new this.Date(this.get("FullYear",r),0,1));return 4!==this.get("Day",t)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",t))%7)),(1+Math.floor((r.valueOf()-t.valueOf())/6048e5)).toString()},{compose:function(t,i,e){return r.pushUnique(f,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=b,a(t.prototype,"unsquish",I),n(t,"init",C),n(t,"afterGetOffset",v),n(t,"afterGetTitlePosition",P),n(t,"afterInit",y),n(t,"afterRender",w),n(t,"afterSetAxisTranslation",L),n(t,"afterSetOptions",B),n(t,"afterSetOptions",O),n(t,"afterSetScale",M),n(t,"afterTickSize",S),n(t,"trimTicks",z),n(t,"destroy",A)),r.pushUnique(f,i)&&n(i,"afterSetChartSize",T),r.pushUnique(f,e)&&(n(e,"afterGetLabelPosition",E),n(e,"labelFormat",W)),t}}}),i(t,"masters/modules/grid-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/GridAxis.js"]],function(t,i){i.compose(t.Axis,t.Chart,t.Tick)})});