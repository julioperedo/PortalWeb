!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/pictorial",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/PatternFill.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,r,s,o,a,c){var n,h,l=t.animObject,t=r.getOptions,r=c.addEvent,p=c.defined,d=c.erase,f=c.merge,u=c.pick,g=c.removeEvent,m=c.wrap,y=i.patterns=(n=[],h=t().colors,["M 0 0 L 5 5 M 4.5 -0.5 L 5.5 0.5 M -0.5 4.5 L 0.5 5.5","M 0 5 L 5 0 M -0.5 0.5 L 0.5 -0.5 M 4.5 5.5 L 5.5 4.5","M 2 0 L 2 5 M 4 0 L 4 5","M 0 2 L 5 2 M 0 4 L 5 4","M 0 1.5 L 2.5 1.5 L 2.5 0 M 2.5 5 L 2.5 3.5 L 5 3.5"].forEach(function(t,e){n.push({path:t,color:h[e],width:5,height:5,patternTransform:"scale(1.4 1.4)"})}),["M 0 0 L 5 10 L 10 0","M 3 3 L 8 3 L 8 8 L 3 8 Z","M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0","M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11","M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9"].forEach(function(t,e){n.push({path:t,color:h[e+5],width:10,height:10})}),n);function x(t,e){var i=JSON.stringify(t),r=i.length||0,o=0,a=0;if(e){for(var n=Math.max(Math.floor(r/500),1),s=0;s<r;s+=n)o+=i.charCodeAt(s);o&=o}for(;a<r;++a)o=(o<<5)-o+i.charCodeAt(a),o&=o;return o.toString(16).replace("-","1")}s.prototype.calculatePatternDimensions=function(t){if(!t.width||!t.height){var e=this.graphic&&(this.graphic.getBBox&&this.graphic.getBBox(!0)||this.graphic.element&&this.graphic.element.getBBox())||{},i=this.shapeArgs;if(i&&(e.width=i.width||e.width,e.height=i.height||e.height,e.x=i.x||e.x,e.y=i.y||e.y),t.image){if(!e.width||!e.height)return t._width="defer",t._height="defer",i=this.series.chart.mapView&&this.series.chart.mapView.getSVGTransform().scaleY,void(p(i)&&i<0&&(t._inverted=!0));t.aspectRatio&&(e.aspectRatio=e.width/e.height,t.aspectRatio>e.aspectRatio?e.aspectWidth=e.height*t.aspectRatio:e.aspectHeight=e.width/t.aspectRatio),t._width=t.width||Math.ceil(e.aspectWidth||e.width),t._height=t.height||Math.ceil(e.aspectHeight||e.height)}t.width||(t._x=t.x||0,t._x+=e.x-Math.round(e.aspectWidth?Math.abs(e.aspectWidth-e.width)/2:0)),t.height||(t._y=t.y||0,t._y+=e.y-Math.round(e.aspectHeight?Math.abs(e.aspectHeight-e.height)/2:0))}},a.prototype.addPattern=function(e,t){var i,r,o,t=u(t,!0),a=l(t),n=e.width||e._width||32,s=e.height||e._height||32,h=e.color||"#343434",p=e.id,d=this;if(p||(this.idCounter=this.idCounter||0,p="highcharts-pattern-"+this.idCounter+"-"+(this.chartIndex||0),++this.idCounter),this.forExport&&(p+="-export"),this.defIds=this.defIds||[],!(-1<this.defIds.indexOf(p)))return this.defIds.push(p),r={id:p,patternUnits:"userSpaceOnUse",patternContentUnits:e.patternContentUnits||"userSpaceOnUse",width:n,height:s,x:e._x||e.x||0,y:e._y||e.y||0},e._inverted&&(r.patternTransform="scale(1, -1)",e.patternTransform&&(e.patternTransform+=" scale(1, -1)")),e.patternTransform&&(r.patternTransform=e.patternTransform),(r=this.createElement("pattern").attr(r).add(this.defs)).id=p,e.path?(i=c.isObject(e.path)?e.path:{d:e.path},e.backgroundColor&&(o=e.backgroundColor,d.rect(0,0,n,s).attr({fill:o}).add(r)),d={d:i.d},this.styledMode||(d.stroke=i.stroke||h,d["stroke-width"]=u(i.strokeWidth,2),d.fill=i.fill||"none"),i.transform&&(d.transform=i.transform),this.createElement("path").attr(d).add(r),r.color=h):e.image&&(t?this.image(e.image,0,0,n,s,function(){this.animate({opacity:u(e.opacity,1)},a),g(this.element,"load")}).attr({opacity:0}):this.image(e.image,0,0,n,s)).add(r),e.image&&t||void 0===e.opacity||[].forEach.call(r.element.childNodes,function(t){t.setAttribute("opacity",e.opacity)}),this.patternElements=this.patternElements||{},this.patternElements[p]=r},m(o.prototype,"getColor",function(t){var e=this.options.color;e&&e.pattern&&!e.pattern.color?(delete this.options.color,t.apply(this,Array.prototype.slice.call(arguments,1)),e.pattern.color=this.color,this.color=this.options.color=e):t.apply(this,Array.prototype.slice.call(arguments,1))}),r(o,"render",function(){var i=this.chart.isResizing;!this.isDirtyData&&!i&&this.chart.hasRendered||(this.points||[]).forEach(function(t){var e=t.options&&t.options.color;e&&e.pattern&&(!i||t.shapeArgs&&t.shapeArgs.width&&t.shapeArgs.height?t.calculatePatternDimensions(e.pattern):(e.pattern._width="defer",e.pattern._height="defer"))})}),r(s,"afterInit",function(){var t=this.options.color;t&&t.pattern&&("string"==typeof t.pattern.path&&(t.pattern.path={d:t.pattern.path}),this.color=this.options.color=f(this.series.options.color,t))}),r(a,"complexColor",function(t){var e,i=t.args[0],r=t.args[1],t=t.args[2],o=this.chartIndex||0,a=i.pattern,n="#343434";return!(a=void 0!==i.patternIndex&&y?y[i.patternIndex]:a)||(n=a.image||"string"==typeof a.path||a.path&&a.path.d?(e=(e=t.parentNode&&t.parentNode.getAttribute("class"))&&-1<e.indexOf("highcharts-legend"),"defer"!==a._width&&"defer"!==a._height||s.prototype.calculatePatternDimensions.call({graphic:{element:t}},a),!e&&a.id||((a=f({},a)).id="highcharts-pattern-"+o+"-"+x(a)+x(a,!0)),this.addPattern(a,!this.forExport&&u(a.animation,this.globalAnimation,{duration:100})),"url(".concat(this.url,"#").concat(a.id+(this.forExport?"-export":""),")")):a.color||n,t.setAttribute(r,n),!(i.toString=function(){return n}))}),r(e,"endResize",function(){(this.renderer&&this.renderer.defIds||[]).filter(function(t){return t&&t.indexOf&&0===t.indexOf("highcharts-pattern-")}).length&&(this.series.forEach(function(t){t.visible&&t.points.forEach(function(t){t=t.options&&t.options.color;t&&t.pattern&&(t.pattern._width="defer",t.pattern._height="defer")})}),this.redraw(!1))}),r(e,"redraw",function(){var e={},i=this.renderer,t=(i.defIds||[]).filter(function(t){return t.indexOf&&0===t.indexOf("highcharts-pattern-")});t.length&&([].forEach.call(this.renderTo.querySelectorAll('[color^="url("], [fill^="url("], [stroke^="url("]'),function(t){var t=t.getAttribute("fill")||t.getAttribute("color")||t.getAttribute("stroke");t&&(t=t.replace(i.url,"").replace("url(#","").replace(")",""),e[t]=!0)}),t.forEach(function(t){e[t]||(d(i.defIds,t),i.patternElements[t]&&(i.patternElements[t].destroy(),delete i.patternElements[t]))}))})}),e(t,"Series/Pictorial/PictorialUtilities.js",[t["Core/Utilities.js"]],function(t){var o=t.defined;return{rescalePatternFill:function(t,e,i,r,o){void 0===o&&(o=1);var a,n,s,h=t&&t.attr("fill");(h=h&&h.match(/url\(([^)]+)\)/))&&(h=document.querySelector(h[1]+" path"))&&(0===(a=h.getBBox()).width&&(n=h.parentElement,t.renderer.box.appendChild(h),a=h.getBBox(),n.appendChild(h)),t=1/(a.width+o),n=e/r/a.height,r=a.width/a.height,s=-a.width/2,h.setAttribute("stroke-width",o/(i*(t=r<(i=i/e)?t*r/i:t))),h.setAttribute("transform","translate(0.5, 0)"+"scale(".concat(t," ").concat(n,") ")+"translate(".concat(s+o*t/2,", ").concat(-a.y,")")))},invertShadowGroup:function(t,e){(e=e.chart.inverted)&&t.attr({rotation:e?90:0,scaleX:e?-1:1})},getStackMetrics:function(t,e){var i=t.len,r=0;return e&&o(e.max)&&(r=t.toPixels(e.max,!0),i=t.len-r),{height:i,y:r}}}}),e(t,"Series/Pictorial/PictorialPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Series/Pictorial/PictorialUtilities.js"]],function(t,e){var r,o,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes.column.prototype.pointClass,a=e.rescalePatternFill,n=e.getStackMetrics;function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.pathDef=void 0,t}return i(s,o=t),s.prototype.setState=function(){var t=this,e=(o.prototype.setState.apply(t,arguments),t.series),i=e.options.paths;t.graphic&&t.shapeArgs&&i&&(i=i[t.index%i.length],a(t.graphic,n(e.yAxis,i).height,t.shapeArgs.width||0,t.shapeArgs.height||1/0,t.series.options.borderWidth||0))},s}),e(t,"Series/Pictorial/PictorialSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Series/Pictorial/PictorialPoint.js"],t["Series/Pictorial/PictorialUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],function(t,e,i,r,o,a,n){var s,h,p=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=o.seriesTypes.column,c=t.animObject,u=r.getStackMetrics,g=r.invertShadowGroup,m=r.rescalePatternFill,t=n.addEvent,l=n.defined,r=n.merge,f=n.objectEach,y=n.pick,n=(p(x,h=d),x.prototype.animate=function(t){var e=this.chart,i=this.group,r=c(this.options.animation),o=[this.getSharedClipKey(),r.duration,r.easing,r.defer].join(","),a=e.sharedClips[o];t&&i?(t=this.getClipBox(),a||(t.y=t.height,t.height=0,a=e.renderer.clipRect(t),e.sharedClips[o]=a),i.clip(a)):a&&!a.hasClass("highcharts-animating")&&(t=this.getClipBox(),a.addClass("highcharts-animating").animate(t,r))},x.prototype.animateDrilldown=function(){},x.prototype.animateDrillupFrom=function(){},x.prototype.pointAttribs=function(t){var e,i,r=h.prototype.pointAttribs.apply(this,arguments),o=this.options.paths;return t&&t.shapeArgs&&o&&(o=o[t.index%o.length],e=(i=u(this.yAxis,o)).y,i=i.height,(o=o.definition)!==t.pathDef?(t.pathDef=o,r.fill={pattern:{path:{d:o,fill:r.fill,strokeWidth:r["stroke-width"],stroke:r.stroke},x:t.shapeArgs.x,y:e,width:t.shapeArgs.width||0,height:i,patternContentUnits:"objectBoundingBox",backgroundColor:"none",color:"#ff0000"}}):t.pathDef&&t.graphic&&delete r.fill),delete r.stroke,delete r.strokeWidth,r},x.prototype.getExtremes=function(){var e=h.prototype.getExtremes.apply(this,arguments),t=this.options.paths;return t&&t.forEach(function(t){l(t.max)&&l(e.dataMax)&&t.max>e.dataMax&&(e.dataMax=t.max)}),e},x.defaultOptions=r(d.defaultOptions,{borderWidth:0}),x);function x(){var t=null!==h&&h.apply(this,arguments)||this;return t.paths=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t}function w(t){var e,i,r,o,a,n,s,h,p,d,c=Object.keys(t.points).filter(function(t){return 1<t.split(",").length}),l=t.axis.chart.series,c=c.map(function(t){return parseFloat(t.split(",")[0])}),f=-1,c=(c.forEach(function(t){l[t]&&l[t].visible&&(f=t)}),t.axis.chart.series[f]);c&&c.is("pictorial")&&t.axis.hasData()&&c.xAxis.hasData()?(e=c.xAxis,d=t.axis.options,i=t.axis.chart,r=t.shadow,o=e.toPixels(t.x,!0),o=i.inverted?e.len-o:o,p=(p=c.options.paths||[])[t.x%p.length],a=c.getColumnMetrics&&c.getColumnMetrics().width,n=(s=u(c.yAxis,p)).height,s=s.y,d=d.stackShadow,h=y(d&&d.borderWidth,c.options.borderWidth,1),!r&&d&&d.enabled&&p?(t.shadowGroup||(t.shadowGroup=i.renderer.g("shadow-group").add()),t.shadowGroup.attr({translateX:(i.inverted?t.axis:e).pos,translateY:(i.inverted?e:t.axis).pos}),t.shadow=i.renderer.rect(o,s,a,n).attr({fill:{pattern:{path:{d:p.definition,fill:d.color||"#dedede",strokeWidth:h,stroke:d.borderColor||"transparent"},x:o,y:s,width:a,height:n,patternContentUnits:"objectBoundingBox",backgroundColor:"none",color:"#dedede"}}}).add(t.shadowGroup),g(t.shadowGroup,t.axis),m(t.shadow,n,a,n,h),t.setOffset(c.pointXOffset||0,c.barW||0)):r&&t.shadowGroup&&(r.animate({x:o,y:s,width:a,height:n}),(d=(p=r.attr("fill"))&&p.match(/url\(([^)]+)\)/))&&i.renderer.patternElements&&i.renderer.patternElements[d[1].slice(1)].animate({x:o,y:s,width:a,height:n}),t.shadowGroup.animate({translateX:(i.inverted?t.axis:e).pos,translateY:(i.inverted?e:t.axis).pos}),g(t.shadowGroup,t.axis),m(r,n,a,n,h),t.setOffset(c.pointXOffset||0,c.barW||0))):t.shadow&&t.shadowGroup&&(t.shadow.destroy(),t.shadow=void 0,t.shadowGroup.destroy(),t.shadowGroup=void 0)}function v(t,e){t.axes&&t.axes.forEach(function(t){t.stacking&&(t=t.stacking.stacks,f(t,function(t){f(t,function(t){e(t)})}))})}function C(t){v(t,function(t){t.shadow&&t.shadowGroup&&(t.shadow.destroy(),t.shadowGroup.destroy(),delete t.shadow,delete t.shadowGroup)})}return t(n,"afterRender",function(){var a=this,n=a.options.paths,s=/url\(([^)]+)\)/;a.points.forEach(function(t){var e,i,r,o;t.graphic&&t.shapeArgs&&n&&(e=n[t.index%n.length],o=(o=t.graphic.attr("fill"))&&o.match(s),i=(r=u(a.yAxis,e)).y,r=r.height,o&&a.chart.renderer.patternElements&&((o=a.chart.renderer.patternElements[o[1].slice(1)])&&o.animate({x:t.shapeArgs.x,y:i,width:t.shapeArgs.width||0,height:r})),m(t.graphic,u(a.yAxis,e).height,t.shapeArgs.width||0,t.shapeArgs.height||1/0,a.options.borderWidth||0))})}),t(e,"render",function(){v(this,w)}),t(a,"afterSetOffset",function(t){var e,i,r;this.shadow&&(r=(e=this.axis).chart,e=e.len,i=t.xOffset,t=t.width,i=r.inverted?i-r.xAxis[0].len:i,r=r.inverted?-e:0,this.shadow.attr({translateX:i,translateY:r}),this.shadow.animate({width:t}))}),t(e,"afterDrilldown",function(t){C(this)}),t(e,"afterDrillUp",function(t){C(this)}),n.prototype.pointClass=i,o.registerSeriesType("pictorial",n),n}),e(t,"masters/modules/pictorial.src.js",[],function(){})});