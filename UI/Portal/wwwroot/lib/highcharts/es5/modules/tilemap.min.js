!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,a,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,a),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/Tilemap/TilemapPoint.js",[t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),o=e.series.prototype.pointClass,e=e.seriesTypes.heatmap.prototype.pointClass,a=a.extend,r=(r(s,i=e),s.prototype.haloPath=function(){return this.series.tileShape.haloPath.apply(this,arguments)},s);function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.radius=void 0,t.series=void 0,t.tileEdges=void 0,t}return a(r.prototype,{setState:o.prototype.setState,setVisible:t.pointSetVisible}),r}),e(t,"Series/Tilemap/TilemapSeriesDefaults.js",[],function(){return{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}}),e(t,"Series/Tilemap/TilemapShapes.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){var t=t.noop,e=e.seriesTypes,n=e.heatmap,i=e.scatter,P=a.clamp,S=a.pick;function r(t,e,a){t=t.options;return{xPad:-(t.colsize||1)/e,yPad:-(t.rowsize||1)/a}}return{hexagon:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){var t,e=this.options,a=this.xAxis,n=this.yAxis,i=e.pointPadding||0,r=(e.colsize||1)/3,o=(e.rowsize||1)/2;this.generatePoints();for(var s=0,l=this.points;s<l.length;s++){var p=l[s],h=P(Math.floor(a.len-a.translate(p.x-2*r,0,1,0,1)),-a.len,2*a.len),d=P(Math.floor(a.len-a.translate(p.x-r,0,1,0,1)),-a.len,2*a.len),u=P(Math.floor(a.len-a.translate(p.x+r,0,1,0,1)),-a.len,2*a.len),c=P(Math.floor(a.len-a.translate(p.x+2*r,0,1,0,1)),-a.len,2*a.len),y=P(Math.floor(n.translate(p.y-o,0,1,0,1)),-n.len,2*n.len),f=P(Math.floor(n.translate(p.y,0,1,0,1)),-n.len,2*n.len),g=P(Math.floor(n.translate(p.y+o,0,1,0,1)),-n.len,2*n.len),x=S(p.pointPadding,i),m=x*Math.abs(d-h)/Math.abs(g-f),m=a.reversed?-m:m,v=a.reversed?-x:x,x=n.reversed?-x:x;p.x%2&&(y+=t=t||Math.round(Math.abs(g-y)/2)*(n.reversed?-1:1),f+=t,g+=t),p.plotX=p.clientX=(d+u)/2,p.plotY=f,h+=m+v,d+=v,u-=v,c-=m+v,y-=x,g+=x,p.tileEdges={x1:h,x2:d,x3:u,x4:c,y1:y,y2:f,y3:g},p.shapeType="path",p.shapeArgs={d:[["M",d,y],["L",u,y],["L",c,f],["L",u,g],["L",d,g],["L",h,f],["Z"]]}}this.translateColors()}},diamond:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){var t,e=this.options,a=this.xAxis,n=this.yAxis,i=e.pointPadding||0,r=e.colsize||1,o=(e.rowsize||1)/2;this.generatePoints();for(var s=0,l=this.points;s<l.length;s++){var p=l[s],h=P(Math.round(a.len-a.translate(p.x-r,0,1,0,0)),-a.len,2*a.len),d=P(Math.round(a.len-a.translate(p.x+r,0,1,0,0)),-a.len,2*a.len),u=P(Math.round(n.translate(p.y-o,0,1,0,0)),-n.len,2*n.len),c=P(Math.round(n.translate(p.y,0,1,0,0)),-n.len,2*n.len),y=P(Math.round(n.translate(p.y+o,0,1,0,0)),-n.len,2*n.len),f=P(Math.round(a.len-a.translate(p.x,0,1,0,0)),-a.len,2*a.len),g=S(p.pointPadding,i),x=g*Math.abs(f-h)/Math.abs(y-c),x=a.reversed?-x:x,g=n.reversed?-g:g;p.x%2&&(u+=t=Math.abs(y-u)/2*(n.reversed?-1:1),c+=t,y+=t),p.plotX=p.clientX=f,p.plotY=c,h+=x,d-=x,u-=g,y+=g,p.tileEdges={x1:h,x2:f,x3:d,y1:u,y2:c,y3:y},p.shapeType="path",p.shapeArgs={d:[["M",f,u],["L",d,c],["L",f,y],["L",h,c],["Z"]]}}this.translateColors()}},circle:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,2,2)},haloPath:function(t){return i.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){var t,e,a,n,i=this.options,r=this.xAxis,o=this.yAxis,s=i.pointPadding||0,l=(i.rowsize||1)/2,p=i.colsize||1,h=!1;this.generatePoints();for(var d=0,u=this.points;d<u.length;d++){var c=u[d],y=P(Math.round(r.len-r.translate(c.x,0,1,0,0)),-r.len,2*r.len),f=P(Math.round(o.translate(c.y,0,1,0,0)),-o.len,2*o.len),g=s,x=!1;void 0!==c.pointPadding&&(g=c.pointPadding,h=x=!0),n&&!h||(a=Math.floor(Math.sqrt((t=Math.abs(P(Math.floor(r.len-r.translate(c.x+p,0,1,0,0)),-r.len,2*r.len)-y))*t+(e=Math.abs(P(Math.floor(o.translate(c.y+l,0,1,0,0)),-o.len,2*o.len)-f))*e)/2),n=Math.min(t,a,e)-g,h&&!x&&(h=!1)),c.x%2&&(f+=e*(o.reversed?-1:1)),c.plotX=c.clientX=y,c.plotY=f,c.radius=n,c.shapeType="circle",c.shapeArgs={x:y,y:f,r:n}}this.translateColors()}},square:{alignDataLabel:n.prototype.alignDataLabel,translate:n.prototype.translate,getSeriesPadding:t,haloPath:n.prototype.pointClass.prototype.haloPath}}}),e(t,"Series/Tilemap/TilemapSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Tilemap/TilemapPoint.js"],t["Series/Tilemap/TilemapSeriesDefaults.js"],t["Series/Tilemap/TilemapShapes.js"],t["Core/Utilities.js"]],function(t,e,a,n,i,r){var o,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),t=t.noop,l=e.seriesTypes,p=l.column,h=l.heatmap,l=l.scatter,d=r.addEvent,u=r.extend,c=r.merge,y=r.pushUnique,f=[];function g(){var e,t,a;this.recomputingForTilemap||"colorAxis"===this.coll||(t=(e=this).series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(t.padding*t.axisLengthFactor),t.padding&&(e.len-=a,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=a))}s(m,x=h),m.compose=function(t){y(f,t)&&d(t,"afterSetAxisTranslation",g)},m.prototype.alignDataLabel=function(){return this.tileShape.alignDataLabel.apply(this,arguments)},m.prototype.drawPoints=function(){p.prototype.drawPoints.call(this);for(var t=0,e=this.points;t<e.length;t++){var a=e[t];a.graphic&&a.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(a))}},m.prototype.getSeriesPixelPadding=function(t){var e=t.isXAxis,a=this.tileShape.getSeriesPadding(this);if(!a)return{padding:0,axisLengthFactor:1};var n=Math.round(t.translate(e?2*a.xPad:a.yPad,0,1,0,1)),a=Math.round(t.translate(e?a.xPad:0,0,1,0,1));return{padding:(t.single?Math.abs(n-a)/2:Math.abs(n-a))||0,axisLengthFactor:e?2:1.1}},m.prototype.setOptions=function(){var t=x.prototype.setOptions.apply(this,arguments);return this.tileShape=i[t.tileShape],t},m.prototype.translate=function(){return this.tileShape.translate.apply(this,arguments)},m.defaultOptions=c(h.defaultOptions,n);var x,r=m;function m(){var t=null!==x&&x.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.tileShape=void 0,t}return u(r.prototype,{getSymbol:t,markerAttribs:l.prototype.markerAttribs,pointAttribs:p.prototype.pointAttribs,pointClass:a}),e.registerSeriesType("tilemap",r),r}),e(t,"masters/modules/tilemap.src.js",[t["Core/Globals.js"],t["Series/Tilemap/TilemapSeries.js"]],function(t,e){e.compose(t.Axis)})});