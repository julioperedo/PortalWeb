!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){"use strict";i=i?i._modules:{};function t(i,t,n,s){i.hasOwnProperty(t)||(i[t]=s.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:i[t]}})))}t(i,"Core/Axis/BrokenAxis.js",[i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(u,s){var i,e=s.addEvent,n=s.find,k=s.fireEvent,o=s.isArray,p=s.isNumber,v=s.pick,t=i=i||{},r=[];function a(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function f(){var i;null!=(i=this.brokenAxis)&&i.hasBreaks&&(this.options.ordinal=!1)}function l(){var i=this.brokenAxis;if(null!=i&&i.hasBreaks){for(var t=this.tickPositions,n=this.tickPositions.info,s=[],e=0;e<t.length;e++)i.isInAnyBreak(t[e])||s.push(t[e]);this.tickPositions=s,this.tickPositions.info=n}}function h(){this.brokenAxis||(this.brokenAxis=new b(this))}function c(){var i=this.isDirty,t=this.options.connectNulls,n=this.points,s=this.xAxis,e=this.yAxis;if(i)for(var o=n.length;o--;){var r=n[o],a=!(null===r.y&&!1===t)&&((null==(a=null==s?void 0:s.brokenAxis)?void 0:a.isInAnyBreak(r.x,!0))||(null==(a=null==e?void 0:e.brokenAxis)?void 0:a.isInAnyBreak(r.y,!0)));r.visible=!a&&!1!==r.options.visible}}function d(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))}function m(e,i){var t,o,r,a,n,u=this,f=u.points;null!=(t=null==e?void 0:e.brokenAxis)&&t.hasBreaks&&(n=e.brokenAxis,i.forEach(function(i){o=(null==n?void 0:n.breakArray)||[],r=e.isXAxis?e.min:v(u.options.threshold,e.min);var t,s=null==(t=null==(t=null==e?void 0:e.options)?void 0:t.breaks)?void 0:t.filter(function(i){for(var t=!0,n=0;n<o.length;n++){var s=o[n];if(s.from===i.from&&s.to===i.to){t=!1;break}}return t});f.forEach(function(n){a=v(n["stack"+i.toUpperCase()],n[i]),o.forEach(function(i){var t;p(r)&&p(a)&&(t="",r<i.from&&a>i.to||r>i.from&&a<i.from?t="pointBreak":(r<i.from&&a>i.from&&a<i.to||r>i.from&&a>i.to&&a<i.from)&&(t="pointInBreak"),t&&k(e,t,{point:n,brk:i}))}),null!=s&&s.forEach(function(i){k(e,"pointOutsideOfBreak",{point:n,brk:i})})})}))}function x(){var i=this.currentDataGrouping,i=null==i?void 0:i.gapSize,t=this.points.slice(),n=this.yAxis,s=this.options.gapSize,e=t.length-1;if(s&&0<e){"value"!==this.options.gapUnit&&(s*=this.basePointRange),i&&s<i&&i>=this.basePointRange&&(s=i);for(var o,r,a=void 0;e--;)a&&!1!==a.visible||(a=t[e+1]),o=t[e],!1!==a.visible&&!1!==o.visible&&(a.x-o.x>s&&(r=(o.x+a.x)/2,t.splice(e+1,0,{isNull:!0,x:r}),n.stacking&&this.options.stacking&&((n.stacking.stacks[this.stackKey][r]=new u(n,n.options.stackLabels,!1,r,this.stack)).total=0)),a=o)}return this.getGraphPath(t)}t.compose=function(i,t){var n;return s.pushUnique(r,i)&&(i.keepProps.push("brokenAxis"),e(i,"init",h),e(i,"afterInit",a),e(i,"afterSetTickPositions",l),e(i,"afterSetOptions",f)),s.pushUnique(r,t)&&((n=t.prototype).drawBreaks=m,n.gappedPath=x,e(t,"afterGeneratePoints",c),e(t,"afterRender",d)),i},A.isInBreak=function(i,t){var n=i.repeat||1/0,s=i.from,e=i.to-i.from,s=s<=t?(t-s)%n:n-(s-t)%n;return i.inclusive?s<=e:s<e&&0!=s},A.lin2Val=function(i){var t=this.brokenAxis,n=t&&t.breakArray;if(!n||!p(i))return i;for(var s,e=i,o=0;o<n.length&&!((s=n[o]).from>=e);o++)(s.to<e||A.isInBreak(s,e))&&(e+=s.len);return e},A.val2Lin=function(i){var t=this.brokenAxis,n=t&&t.breakArray;if(!n||!p(i))return i;for(var s,e=i,o=0;o<n.length;o++)if((s=n[o]).to<=i)e-=s.len;else{if(s.from>=i)break;if(A.isInBreak(s,i)){e-=i-s.from;break}}return e},A.prototype.findBreakAt=function(t,i){return n(i,function(i){return i.from<t&&t<i.to})},A.prototype.isInAnyBreak=function(i,t){var n,s,e,o=this.axis,r=o.options.breaks||[],a=r.length;if(a&&p(i)){for(;a--;)A.isInBreak(r[a],i)&&(n=!0,s=s||v(r[a].showPoints,!o.isXAxis));e=n&&t?n&&!s:n}return e},A.prototype.setBreaks=function(i,t){var h=this,c=h.axis,n=o(i)&&!!i.length&&!!Object.keys(i[0]).length;c.isDirty=h.hasBreaks!==n,h.hasBreaks=n,i!==c.options.breaks&&(c.options.breaks=c.userOptions.breaks=i),c.forceRedraw=!0,c.series.forEach(function(i){i.isDirty=!0}),n||c.val2lin!==A.val2Lin||(delete c.val2lin,delete c.lin2val),n&&(c.userOptions.ordinal=!1,c.lin2val=A.lin2Val,c.val2lin=A.val2Lin,c.setExtremes=function(i,t,n,s,e){if(h.hasBreaks){for(var o=this.options.breaks||[],r=void 0;r=h.findBreakAt(i,o);)i=r.to;for(;r=h.findBreakAt(t,o);)t=r.from;t<i&&(t=i)}c.constructor.prototype.setExtremes.call(this,i,t,n,s,e)},c.setAxisTranslation=function(){var t,n,s,e,i,o,r,a,u,f,l;c.constructor.prototype.setAxisTranslation.call(this),h.unitLength=void 0,h.hasBreaks&&(i=c.options.breaks||[],o=[],r=[],a=v(c.pointRangePadding,0),u=0,f=c.userMin||c.min,l=c.userMax||c.max,i.forEach(function(i){n=i.repeat||1/0,p(f)&&p(l)&&(A.isInBreak(i,f)&&(f+=i.to%n-f%n),A.isInBreak(i,l)&&(l-=l%n-i.from%n))}),i.forEach(function(i){if(s=i.from,n=i.repeat||1/0,p(f)&&p(l)){for(;f<s-n;)s-=n;for(;s<f;)s+=n;for(e=s;e<l;e+=n)o.push({value:e,move:"in"}),o.push({value:e+i.to-i.from,move:"out",size:i.breakSize})}}),o.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),t=0,s=f,o.forEach(function(i){1===(t+="in"===i.move?1:-1)&&"in"===i.move&&(s=i.value),0===t&&p(s)&&(r.push({from:s,to:i.value,len:i.value-s-(i.size||0)}),u+=i.value-s-(i.size||0))}),h.breakArray=r,p(f)&&p(l)&&p(c.min)&&(h.unitLength=l-f-u+a,k(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:h.unitLength&&(c.transA*=(l-c.min+a)/h.unitLength),a&&(c.minPixelPadding=c.transA*(c.minPointOffset||0)),c.min=f,c.max=l))}),v(t,!0)&&c.chart.redraw()};var b=A;function A(i){this.hasBreaks=!1,this.axis=i}return t.Additions=b,i}),t(i,"masters/modules/broken-axis.src.js",[i["Core/Globals.js"],i["Core/Axis/BrokenAxis.js"]],function(i,t){t.compose(i.Axis,i.Series)})});