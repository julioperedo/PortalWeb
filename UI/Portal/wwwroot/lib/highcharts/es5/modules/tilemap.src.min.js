!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,a,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,a),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/Tilemap/TilemapPoint.js",[t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){var n,i,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),o=e.series.prototype.pointClass,e=e.seriesTypes.heatmap.prototype.pointClass,a=a.extend,r=(r(s,i=e),s.prototype.haloPath=function(){return this.series.tileShape.haloPath.apply(this,arguments)},s);function s(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.radius=void 0,t.series=void 0,t.tileEdges=void 0,t}return a(r.prototype,{setState:o.prototype.setState,setVisible:t.pointSetVisible}),r}),e(t,"Series/Tilemap/TilemapSeriesDefaults.js",[],function(){return{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}}),e(t,"Series/Tilemap/TilemapShapes.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,a){var t=t.noop,e=e.seriesTypes,n=e.heatmap,i=e.scatter,S=a.clamp,M=a.pick;function r(t,e,a){t=t.options;return{xPad:(t.colsize||1)/-e,yPad:(t.rowsize||1)/-a}}return{hexagon:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){var t,e=this,a=e.options,n=e.xAxis,i=e.yAxis,r=a.pointPadding||0,o=(a.colsize||1)/3,s=(a.rowsize||1)/2;e.generatePoints();for(var l=0,p=e.points;l<p.length;l++){var h=p[l],d=S(Math.floor(n.len-n.translate(h.x-2*o,0,1,0,1)),-n.len,2*n.len),u=S(Math.floor(n.len-n.translate(h.x-o,0,1,0,1)),-n.len,2*n.len),c=S(Math.floor(n.len-n.translate(h.x+o,0,1,0,1)),-n.len,2*n.len),y=S(Math.floor(n.len-n.translate(h.x+2*o,0,1,0,1)),-n.len,2*n.len),g=S(Math.floor(i.translate(h.y-s,0,1,0,1)),-i.len,2*i.len),f=S(Math.floor(i.translate(h.y,0,1,0,1)),-i.len,2*i.len),x=S(Math.floor(i.translate(h.y+s,0,1,0,1)),-i.len,2*i.len),m=M(h.pointPadding,r),v=m*Math.abs(u-d)/Math.abs(x-f),v=n.reversed?-v:v,P=n.reversed?-m:m,m=i.reversed?-m:m;h.x%2&&(g+=t=t||Math.round(Math.abs(x-g)/2)*(i.reversed?-1:1),f+=t,x+=t),h.plotX=h.clientX=(u+c)/2,h.plotY=f,d+=v+P,u+=P,c-=P,y-=v+P,g-=m,x+=m,h.tileEdges={x1:d,x2:u,x3:c,x4:y,y1:g,y2:f,y3:x},h.shapeType="path",h.shapeArgs={d:[["M",u,g],["L",c,g],["L",y,f],["L",c,x],["L",u,x],["L",d,f],["Z"]]}}e.translateColors()}},diamond:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){var t,e=this,a=e.options,n=e.xAxis,i=e.yAxis,r=a.pointPadding||0,o=a.colsize||1,s=(a.rowsize||1)/2;e.generatePoints();for(var l=0,p=e.points;l<p.length;l++){var h=p[l],d=S(Math.round(n.len-n.translate(h.x-o,0,1,0,0)),-n.len,2*n.len),u=S(Math.round(n.len-n.translate(h.x+o,0,1,0,0)),-n.len,2*n.len),c=S(Math.round(i.translate(h.y-s,0,1,0,0)),-i.len,2*i.len),y=S(Math.round(i.translate(h.y,0,1,0,0)),-i.len,2*i.len),g=S(Math.round(i.translate(h.y+s,0,1,0,0)),-i.len,2*i.len),f=S(Math.round(n.len-n.translate(h.x,0,1,0,0)),-n.len,2*n.len),x=M(h.pointPadding,r),m=x*Math.abs(f-d)/Math.abs(g-y),m=n.reversed?-m:m,x=i.reversed?-x:x;h.x%2&&(c+=t=Math.abs(g-c)/2*(i.reversed?-1:1),y+=t,g+=t),h.plotX=h.clientX=f,h.plotY=y,d+=m,u-=m,c-=x,g+=x,h.tileEdges={x1:d,x2:f,x3:u,y1:c,y2:y,y3:g},h.shapeType="path",h.shapeArgs={d:[["M",f,c],["L",u,y],["L",f,g],["L",d,y],["Z"]]}}e.translateColors()}},circle:{alignDataLabel:i.prototype.alignDataLabel,getSeriesPadding:function(t){return r(t,2,2)},haloPath:function(t){return i.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){var t,e,a,n,i=this,r=i.options,o=i.xAxis,s=i.yAxis,l=r.pointPadding||0,p=(r.rowsize||1)/2,h=r.colsize||1,d=!1;i.generatePoints();for(var u=0,c=i.points;u<c.length;u++){var y=c[u],g=S(Math.round(o.len-o.translate(y.x,0,1,0,0)),-o.len,2*o.len),f=S(Math.round(s.translate(y.y,0,1,0,0)),-s.len,2*s.len),x=l,m=!1;void 0!==y.pointPadding&&(x=y.pointPadding,d=m=!0),n&&!d||(t=Math.abs(S(Math.floor(o.len-o.translate(y.x+h,0,1,0,0)),-o.len,2*o.len)-g),e=Math.abs(S(Math.floor(s.translate(y.y+p,0,1,0,0)),-s.len,2*s.len)-f),a=Math.floor(Math.sqrt(t*t+e*e)/2),n=Math.min(t,a,e)-x,d&&!m&&(d=!1)),y.x%2&&(f+=e*(s.reversed?-1:1)),y.plotX=y.clientX=g,y.plotY=f,y.radius=n,y.shapeType="circle",y.shapeArgs={x:g,y:f,r:n}}i.translateColors()}},square:{alignDataLabel:n.prototype.alignDataLabel,translate:n.prototype.translate,getSeriesPadding:t,haloPath:n.prototype.pointClass.prototype.haloPath}}}),e(t,"Series/Tilemap/TilemapSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Tilemap/TilemapPoint.js"],t["Series/Tilemap/TilemapSeriesDefaults.js"],t["Series/Tilemap/TilemapShapes.js"],t["Core/Utilities.js"]],function(t,e,a,n,i,r){var o,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])})(t,e)},function(t,e){function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),t=t.noop,l=e.seriesTypes,p=l.column,h=l.heatmap,l=l.scatter,d=r.addEvent,u=r.extend,c=r.merge,y=r.pushUnique,g=[];function f(){var e,t,a;this.recomputingForTilemap||"colorAxis"===this.coll||(t=(e=this).series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(t.padding*t.axisLengthFactor),t.padding&&(e.len-=a,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=a))}s(m,x=h),m.compose=function(t){y(g,t)&&d(t,"afterSetAxisTranslation",f)},m.prototype.alignDataLabel=function(){return this.tileShape.alignDataLabel.apply(this,arguments)},m.prototype.drawPoints=function(){p.prototype.drawPoints.call(this);for(var t=0,e=this.points;t<e.length;t++){var a=e[t];a.graphic&&a.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(a))}},m.prototype.getSeriesPixelPadding=function(t){var e=t.isXAxis,a=this.tileShape.getSeriesPadding(this);if(!a)return{padding:0,axisLengthFactor:1};var n=Math.round(t.translate(e?2*a.xPad:a.yPad,0,1,0,1)),a=Math.round(t.translate(e?a.xPad:0,0,1,0,1));return{padding:(t.single?Math.abs(n-a)/2:Math.abs(n-a))||0,axisLengthFactor:e?2:1.1}},m.prototype.setOptions=function(){var t=x.prototype.setOptions.apply(this,arguments);return this.tileShape=i[t.tileShape],t},m.prototype.translate=function(){return this.tileShape.translate.apply(this,arguments)},m.defaultOptions=c(h.defaultOptions,n);var x,r=m;function m(){var t=null!==x&&x.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.tileShape=void 0,t}return u(r.prototype,{getSymbol:t,markerAttribs:l.prototype.markerAttribs,pointAttribs:p.prototype.pointAttribs,pointClass:a}),e.registerSeriesType("tilemap",r),r}),e(t,"masters/modules/tilemap.src.js",[t["Core/Globals.js"],t["Series/Tilemap/TilemapSeries.js"]],function(t,e){e.compose(t.Axis)})});