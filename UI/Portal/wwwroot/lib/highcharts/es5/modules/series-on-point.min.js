!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/series-on-point",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";var t=e?e._modules:{};function i(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}i(t,"Series/SeriesOnPointComposition.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(h,p,t,d,c){var f,t=t.seriesTypes,e=t.bubble,u=t.pie,l=(t.sunburst,c.addEvent),y=c.defined,o=c.find,s=c.isNumber,m=[],i=t={compose:function(t,e){var i=f.prototype,o=i.chartGetZData,s=i.seriesAfterInit,n=i.seriesAfterRender,r=i.seriesGetCenter,a=i.seriesShowOrHide,i=i.seriesTranslate;return u.prototype.onPointSupported=!0,c.pushUnique(m,t)&&(l(p,"afterInit",s),l(p,"afterRender",n),l(p,"afterGetCenter",r),l(p,"hide",a),l(p,"show",a),l(p,"translate",i)),c.pushUnique(m,e)&&(l(e,"beforeRender",o),l(e,"beforeRedraw",o)),t}};return n.prototype.drawConnector=function(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));var t=this.getConnectorAttributes();t&&this.connector.animate(t)},n.prototype.getConnectorAttributes=function(){var t=this.series.chart,e=this.options;if(e){var i,o,s,n,r=e.connectorOptions||{},a=e.position,e=t.get(e.id);if(e instanceof h&&a&&y(e.plotX)&&y(e.plotY))return n=y(a.x)?a.x:e.plotX,e=y(a.y)?a.y:e.plotY,i=n+(a.offsetX||0),a=e+(a.offsetY||0),o=r.width||1,s=r.stroke||this.series.color,r=r.dashstyle,n={d:d.prototype.crispLine([["M",n,e],["L",i,a]],o,"ceil"),"stroke-width":o},t.styledMode||(n.stroke=s,n.dashstyle=r),n}},n.prototype.seriesAfterInit=function(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new n(this))},n.prototype.seriesAfterRender=function(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()},n.prototype.seriesGetCenter=function(t){var e,i=this.options.onPoint,o=t.positions,i=(i&&((e=this.chart.get(i.id))instanceof h&&y(e.plotX)&&y(e.plotY)&&(o[0]=e.plotX,o[1]=e.plotY),(e=i.position)&&(y(e.x)&&(o[0]=e.x),y(e.y)&&(o[1]=e.y),e.offsetX&&(o[0]+=e.offsetX),e.offsetY&&(o[1]+=e.offsetY))),this.radii&&this.radii[this.index]);s(i)&&(o[2]=2*i),t.positions=o},n.prototype.seriesShowOrHide=function(){var i=this.chart.series;this.points.forEach(function(e){var t=o(i,function(t){t=((t.onPoint||{}).options||{}).id;return!!t&&t===e.id});t&&t.setVisible(!t.visible,!1)})},n.prototype.seriesTranslate=function(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)},n.prototype.chartGetZData=function(){var e=[];this.series.forEach(function(t){t=t.options.onPoint;e.push(t&&t.z?t.z:null)}),this.series.forEach(function(t){t.onPoint&&(t.onPoint.zData=t.zData=e)})},f=n,i.Additions=f,t;function n(t){this.getRadii=e.prototype.getRadii,this.getRadius=e.prototype.getRadius,this.getPxExtremes=e.prototype.getPxExtremes,this.getZExtremes=e.prototype.getZExtremes,this.chart=t.chart,this.series=t,this.options=t.options.onPoint}}),i(t,"masters/modules/series-on-point.src.js",[t["Series/SeriesOnPointComposition.js"]],function(t){t.compose(e.Series,e.Chart)})});