!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,r,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,r),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t){var n=e.doc,s=t.createElement,a=t.discardElement,i=t.merge,l=t.objectEach,r={ajax:function(r){var e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},o=new XMLHttpRequest;function t(e,t){r.error&&r.error(e,t)}if(!r.url)return!1;o.open((r.type||"get").toUpperCase(),r.url,!0),r.headers&&r.headers["Content-Type"]||o.setRequestHeader("Content-Type",e[r.dataType||"json"]||e.text),l(r.headers,function(e,t){o.setRequestHeader(t,e)}),r.responseType&&(o.responseType=r.responseType),o.onreadystatechange=function(){var e;if(4===o.readyState){if(200===o.status){if("blob"!==r.responseType&&(e=o.responseText,"json"===r.dataType))try{e=JSON.parse(e)}catch(e){if(e instanceof Error)return t(o,e)}return r.success&&r.success(e,o)}t(o,o.responseText)}},r.data&&"string"!=typeof r.data&&(r.data=JSON.stringify(r.data)),o.send(r.data)},getJSON:function(e,t){r.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,r){var o=s("form",i({method:"post",action:e,enctype:"multipart/form-data"},r),{display:"none"},n.body);l(t,function(e,t){s("input",{type:"hidden",name:t,value:e},void 0,o)}),o.submit(),a(o)}};return r}),t(e,"Extensions/Data.js",[e["Core/Chart/Chart.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,r,o,a,n,s){var i=t.getOptions,u=r.doc,p=o.ajax,m=n.seriesTypes,t=s.addEvent,y=s.defined,l=s.extend,C=s.fireEvent,x=s.isNumber,c=s.merge,f=s.objectEach,g=s.pick,T=s.splat;function v(e){return!(!e||!(e.rowsURL||e.csvURL||e.columnsURL))}h.data=function(e,t,r){return new h(e,t=void 0===t?{}:t,r)},h.rowsToColumns=function(e){var t,r,o,n,s;if(e)for(t=0,s=[],r=e.length;t<r;t++)for(o=0,n=e[t].length;o<n;o++)s[o]||(s[o]=[]),s[o][t]=e[t][o];return s},h.prototype.init=function(e,t,r){var o,n=e.decimalPoint;t&&(this.chartOptions=t),r&&(this.chart=r),"."!==n&&","!==n&&(n=void 0),this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.firstRowAsNames=g(e.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=n&&RegExp("^(-?[0-9]+)"+n+"([0-9]+)$"),void 0!==this.liveDataTimeout&&clearTimeout(this.liveDataTimeout),this.rawColumns=[],this.columns.length&&(this.dataFound(),o=!v(e)),!(o=(o=(o=(o=o||this.fetchLiveData())||!!this.parseCSV().length)||!!this.parseTable().length)||this.parseGoogleSpreadsheet())&&e.afterComplete&&e.afterComplete()},h.prototype.getColumnDistribution=function(){function a(e){return(m[e||"line"].prototype.pointArrayMap||[0]).length}function i(e){return m[e||"line"].prototype.pointArrayMap}var l,u=this.chartOptions,e=this.options,t=[],d=u&&u.chart&&u.chart.type,h=[],p=[],e=e&&e.seriesMapping||u&&u.series&&u.series.map(function(){return{x:0}})||[],c=0,e=((u&&u.series||[]).forEach(function(e){h.push(a(e.type||d))}),e.forEach(function(e){t.push(e.x||0)}),0===t.length&&t.push(0),e.forEach(function(e){var r=new R,t=h[c]||a(d),o=(u&&u.series||[])[c]||{},n=i(o.type||d),s=n||["y"];for(!y(e.x)&&!o.isCartesian&&n||r.addColumnReader(e.x,"x"),f(e,function(e,t){"x"!==t&&r.addColumnReader(e,t)}),l=0;l<t;l++)r.hasReader(s[l])||r.addColumnReader(void 0,s[l]);p.push(r),c++}),i(d));this.valueCount={global:a(d),xColumns:t,individual:h,seriesBuilders:p,globalPointArrayMap:e=void 0===e?["y"]:e}},h.prototype.dataFound=function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()},h.prototype.parseCSV=function(e){var l,u,t,h=this,p=this.columns=[],c=e||this.options,m=void 0!==c.startColumn&&c.startColumn?c.startColumn:0,f=c.endColumn||Number.MAX_VALUE,g=[],d={",":0,";":0,"\t":0},e=c.csv,r=void 0!==c.startRow&&c.startRow?c.startRow:0,o=c.endRow||Number.MAX_VALUE,n=0;if(e=e&&c.beforeParse?c.beforeParse.call(this,e):e){t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(c.lineDelimiter||"\n"),(!r||r<0)&&(r=0),(!o||o>=t.length)&&(o=t.length-1);for(var v=c.itemDelimiter||(v=null,u=l=0,e=!1,t.some(function(e,t){var r,o,n,s=!1,a="";if(13<t)return!0;for(var i=0;i<e.length;i++){if(r=e[i],o=e[i+1],n=e[i-1],"#"===r)return;if('"'===r)if(s){if('"'!==n&&'"'!==o){for(;" "===o&&i<e.length;)o=e[++i];void 0!==d[o]&&d[o]++,s=!1}}else s=!0;else void 0!==d[r]?(isNaN(Date.parse(a=a.trim()))&&!isNaN(a)&&isFinite(a)||d[r]++,a=""):a+=r;","===r&&u++,"."===r&&l++}}),e=d[";"]>d[","]?";":(d[","],d[";"],","),c.decimalPoint||(c.decimalPoint=u<l?".":",",h.decimalRegex=RegExp("^(-?[0-9]+)"+c.decimalPoint+"([0-9]+)$")),e),s=0,n=r;n<=o;n++)"#"===t[n][0]?s++:function(t,e){var r=0,o="",n="",s="",a="",i=0,l=0;function u(e){o=t[e],n=t[e-1],s=t[e+1]}function d(e){g.length<l+1&&g.push([e]),g[l][g[l].length-1]!==e&&g[l].push(e)}function h(){if(i<m||f<i)return++i,void(a="");!isNaN(parseFloat(a))&&isFinite(a)?(a=parseFloat(a),d("number")):isNaN(Date.parse(a))?d("string"):(a=a.replace(/\//g,"-"),d("date")),p.length<l+1&&p.push([]),p[l][e]=a,a="",++l,++i}if(t.trim().length&&"#"!==t.trim()[0]){for(;r<t.length;r++)if(u(r),'"'===o)for(u(++r);r<t.length&&('"'!==o||'"'===n||'"'===s);)('"'!==o||'"'===o&&'"'!==n)&&(a+=o),u(++r);else o===v?h():a+=o;h()}}(t[n],n-r-s);c.columnTypes&&0!==c.columnTypes.length||!g.length||!g[0].length||"date"!==g[0][1]||c.dateFormat||(c.dateFormat=function(e,t){var r,o,n,s="YYYY/mm/dd",a=[],i=[],l=[],u=0,d=!1;for((!t||t>e.length)&&(t=e.length);u<t;u++)if(void 0!==e[u]&&e[u]&&e[u].length)for(n=0,r=e[u].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),l=["","",""];n<r.length;n++)n<l.length&&(r[n]=parseInt(r[n],10),r[n]&&(i[n]=(!i[n]||i[n]<r[n]?r:i)[n],void 0!==a[n]?a[n]!==r[n]&&(a[n]=!1):a[n]=r[n],31<r[n]?r[n]<100?l[n]="YY":l[n]="YYYY":12<r[n]&&r[n]<=31?(l[n]="dd",d=!0):l[n].length||(l[n]="mm")));if(d){for(n=0;n<a.length;n++)!1!==a[n]?12<i[n]&&"YY"!==l[n]&&"YYYY"!==l[n]&&(l[n]="YY"):12<i[n]&&"mm"===l[n]&&(l[n]="dd");return 3===l.length&&"dd"===l[1]&&"dd"===l[2]&&(l[2]="YY"),o=l.join("/"),(c.dateFormats||h.dateFormats)[o]?o:(C("deduceDateFailed"),s)}return s}(p[0])),this.dataFound()}return p},h.prototype.parseTable=function(){var e=this.options,s=this.columns||[],a=e.startRow||0,t=e.endRow||Number.MAX_VALUE,i=e.startColumn||0,l=e.endColumn||Number.MAX_VALUE;return e.table&&("string"==typeof(e=e.table)&&(e=u.getElementById(e)),[].forEach.call(e.getElementsByTagName("tr"),function(e,n){a<=n&&n<=t&&[].forEach.call(e.children,function(e,t){var r=s[t-i],o=1;if(("TD"===e.tagName||"TH"===e.tagName)&&i<=t&&t<=l)for(s[t-i]||(s[t-i]=[]),s[t-i][n-a]=e.innerHTML;o<=n-a&&void 0===r[n-a-o];)r[n-a-o]=null,o++})}),this.dataFound()),s},h.prototype.fetchLiveData=function(){var a=this,i=this.chart,l=this.options,u=l.enablePolling,t=c(l),d=0,h=1e3*(l.dataRefreshRate||2);return!!v(l)&&(h<1e3&&(h=1e3),delete l.csvURL,delete l.rowsURL,delete l.columnsURL,function n(s){function e(e,t,r){return e&&/^(http|\/|\.\/|\.\.\/)/.test(e)?(s&&(clearTimeout(a.liveDataTimeout),i.liveDataURL=e),p({url:e,dataType:r||"json",success:function(e){i&&i.series&&t(e),o()},error:function(e,t){return++d<3&&o(),l.error&&l.error(t,e)}}),1):(e&&l.error&&l.error("Invalid URL"),0);function o(){u&&i.liveDataURL===e&&(a.liveDataTimeout=setTimeout(n,h))}}e(t.csvURL,function(e){i.update({data:{csv:e}})},"text")||e(t.rowsURL,function(e){i.update({data:{rows:e}})})||e(t.columnsURL,function(e){i.update({data:{columns:e}})})}(!0),v(l))},h.prototype.parseGoogleSpreadsheet=function(){var o=this,n=this.options,e=n.googleSpreadsheetKey,t=this.chart,s=Math.max(1e3*(n.dataRefreshRate||2),4e3);return e&&(delete n.googleSpreadsheetKey,function t(r){p({url:["https://sheets.googleapis.com/v4/spreadsheets",e,"values",function(){if(n.googleSpreadsheetRange)return n.googleSpreadsheetRange;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=(e.charAt(n.startColumn||0)||"A")+((n.startRow||0)+1),e=e.charAt(g(n.endColumn,-1))||"ZZ";return y(n.endRow)&&(e+=n.endRow+1),"".concat(t,":").concat(e)}(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+n.googleAPIKey].join("/"),dataType:"json",success:function(e){r(e),n.enablePolling&&(o.liveDataTimeout=setTimeout(function(){t(r)},s))},error:function(e,t){return n.error&&n.error(t,e)}})}(function(e){e=e.values;if(!e||0===e.length)return!1;var r=e.reduce(function(e,t){return Math.max(e,t.length)},0);e.forEach(function(e){for(var t=0;t<r;t++)void 0===e[t]&&(e[t]=null)}),t&&t.series?t.update({data:{columns:e}}):(o.columns=e,o.dataFound())})),!1},h.prototype.trim=function(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^-?[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,"")),this.decimalRegex&&(e=e.replace(this.decimalRegex,"$1.$2"))),e},h.prototype.parseTypes=function(){for(var e=this.columns||[],t=e.length;t--;)this.parseColumn(e[t],t)},h.prototype.parseColumn=function(e,t){var r,o,n,s,a,i,l=this.rawColumns,u=this.columns,d=this.firstRowAsNames,h=-1!==this.valueCount.xColumns.indexOf(t),p=[],c=this.chartOptions,m=(this.options.columnTypes||[])[t],f=h&&(c&&c.xAxis&&"category"===T(c.xAxis)[0].type||"string"===m),g=y(e.name),v=e.length;for(l[t]||(l[t]=[]);v--;)r=p[v]||e[v],n=this.trim(r),o=parseFloat(a=this.trim(r,!0)),void 0===l[t][v]&&(l[t][v]=n),f||0===v&&d&&!g?e[v]=""+n:+a===o?(31536e6<(e[v]=o)&&"float"!==m?e.isDatetime=!0:e.isNumeric=!0,void 0!==e[v+1]&&(i=o>e[v+1])):(n&&n.length&&(s=this.parseDate(r)),h&&x(s)&&"float"!==m?(p[v]=r,e[v]=s,e.isDatetime=!0,void 0!==e[v+1]&&((a=s>e[v+1])!==i&&void 0!==i&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,v=e.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e.unsorted=!0),i=a)):(e[v]=""===n?null:n,0!==v&&(e.isDatetime||e.isNumeric)&&(e.mixed=!0)));if(h&&e.mixed&&(u[t]=l[t]),h&&i&&this.options.sort)for(t=0;t<u.length;t++)u[t].reverse(),d&&u[t].unshift(u[t].pop())},h.prototype.parseDate=function(e){var t,r,o,n,s=this.options.parseDate,a=this.options.dateFormat||this.dateFormat;if(s)t=s(e);else if("string"==typeof e){if(a)(o=this.dateFormats[a])||(o=this.dateFormats["YYYY/mm/dd"]),(n=e.match(o.regex))&&(t=o.parser(n));else for(r in this.dateFormats)if(o=this.dateFormats[r],n=e.match(o.regex)){this.dateFormat=a=r,this.alternativeFormat=o.alternative,t=o.parser(n);break}n||(e.match(/:.+(GMT|UTC|[Z+-])/)&&(e=e.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),"object"==typeof(n=Date.parse(e))&&null!==n&&n.getTime?t=n.getTime()-6e4*n.getTimezoneOffset():x(n)&&(t=n-6e4*new Date(n).getTimezoneOffset()))}return t},h.prototype.getData=function(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)},h.prototype.parsed=function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},h.prototype.complete=function(){var e,t,r,o,n,s,a,i,l,u,d,h=this.columns,p=this.options,c=[];if(h.length,p.complete||p.afterComplete){if(this.firstRowAsNames)for(o=0;o<h.length;o++){var m=h[o];y(m.name)||(m.name=g(m.shift(),"").toString())}for(a=0,t=[],l=function(e,t){for(var r,o,n=[],s=[],a=0;a<e;a+=1)n.push(!0);for(r=0;r<t.length;r+=1)for(a=0,o=t[r].getReferencedColumnIndexes();a<o.length;a+=1)n[o[a]]=!1;for(a=0;a<n.length;a+=1)n[a]&&s.push(a);return s}(h.length,this.valueCount.seriesBuilders);a<this.valueCount.seriesBuilders.length;a++)(i=this.valueCount.seriesBuilders[a]).populateColumns(l)&&c.push(i);for(;0<l.length;){for((i=new R).addColumnReader(0,"x"),-1!==(d=l.indexOf(0))&&l.splice(d,1),o=0;o<this.valueCount.global;o++)i.addColumnReader(void 0,this.valueCount.globalPointArrayMap[o]);i.populateColumns(l)&&c.push(i)}if(0<c.length&&0<c[0].readers.length&&void 0!==(u=h[c[0].readers[0].columnIndex])&&(u.isDatetime?e="datetime":u.isNumeric||(e="category")),"category"===e)for(a=0;a<c.length;a++)for(s=0,i=c[a];s<i.readers.length;s++)"x"===i.readers[s].configName&&(i.readers[s].configName="name");for(a=0;a<c.length;a++){for(n=0,i=c[a],r=[];n<h[0].length;n++)r[n]=i.read(h,n);t[a]={data:r},i.name&&(t[a].name=i.name),"category"===e&&(t[a].turboThreshold=0)}u={series:t},e&&(u.xAxis={type:e},"category"===e&&(u.xAxis.uniqueNames=!1)),p.complete&&p.complete(u),p.afterComplete&&p.afterComplete(u)}},h.prototype.update=function(e,t){var r=this.chart,o=r.options;e&&(e.afterComplete=function(e){e&&(e.xAxis&&r.xAxis[0]&&e.xAxis.type===r.xAxis[0].options.type&&delete e.xAxis,r.update(e,t,!0))},c(!0,o.data,e),o.data&&o.data.googleSpreadsheetKey&&!e.columns&&delete o.data.columns,this.init(o.data))};var d=h;function h(e,t,r){void 0===t&&(t={}),this.rowsToColumns=h.rowsToColumns,this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[2]-1,+e[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[2]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[1]-1,+e[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){if(!e)return NaN;var t=new Date,r=+e[3];return r>t.getFullYear()-2e3?r+=1900:r+=2e3,Date.UTC(r,e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){return e?Date.UTC(+e[3]+2e3,e[1]-1,+e[2]):NaN}}},this.chart=r,this.chartOptions=t,this.options=e,this.rawColumns=[],this.init(e,t,r)}t(e,"init",function(e){var o=this,n=e.args[1],t=i().data,s=e.args[0]||{};(t||s&&s.data)&&!o.hasDataDef&&(o.hasDataDef=!0,t=c(t,s.data),o.data=new d(l(t,{afterComplete:function(e){var t,r;if(Object.hasOwnProperty.call(s,"series"))if("object"==typeof s.series)for(t=Math.max(s.series.length,e&&e.series?e.series.length:0);t--;)r=s.series[t]||{},s.series[t]=c(r,e&&e.series?e.series[t]:{});else delete s.series;s=c(e,s),o.init(s,n)}}),s,o),e.preventDefault())});N.prototype.populateColumns=function(t){var r=!0;return this.readers.forEach(function(e){void 0===e.columnIndex&&(e.columnIndex=t.shift())}),this.readers.forEach(function(e){void 0===e.columnIndex&&(r=!1)}),r},N.prototype.read=function(r,o){var t,n=this.pointIsArray,s=n?[]:{};return this.readers.forEach(function(e){var t=r[e.columnIndex][o];n?s.push(t):0<e.configName.indexOf(".")?a.prototype.setNestedProperty(s,t,e.configName):s[e.configName]=t}),void 0===this.name&&2<=this.readers.length&&(t=[],this.readers.forEach(function(e){"x"!==e.configName&&"name"!==e.configName&&"y"!==e.configName||void 0===e.columnIndex||t.push(e.columnIndex)}),2<=t.length&&(t.shift(),t.sort(function(e,t){return e-t})),this.name=r[g(t.shift(),0)].name),s},N.prototype.addColumnReader=function(e,t){this.readers.push({columnIndex:e,configName:t}),"x"!==t&&"y"!==t&&void 0!==t&&(this.pointIsArray=!1)},N.prototype.getReferencedColumnIndexes=function(){for(var e,t=[],r=0;r<this.readers.length;r+=1)void 0!==(e=this.readers[r]).columnIndex&&t.push(e.columnIndex);return t},N.prototype.hasReader=function(e){for(var t=0;t<this.readers.length;t+=1)if(this.readers[t].configName===e)return!0};var R=N;function N(){this.readers=[],this.pointIsArray=!0}return d}),t(e,"masters/modules/data.src.js",[e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Extensions/Data.js"]],function(e,t,r){e.ajax=t.ajax,e.data=r.data,e.getJSON=t.getJSON,e.post=t.post,e.Data=r,e.HttpUtilities=t})});