!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/pattern-fill",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/PatternFill.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Defaults.js"],t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,i,r,h,a,n,p){var o,s,l=t.animObject,t=r.getOptions,r=p.addEvent,c=p.defined,d=p.erase,f=p.merge,u=p.pick,g=p.removeEvent,m=p.wrap,y=i.patterns=(o=[],s=t().colors,["M 0 0 L 5 5 M 4.5 -0.5 L 5.5 0.5 M -0.5 4.5 L 0.5 5.5","M 0 5 L 5 0 M -0.5 0.5 L 0.5 -0.5 M 4.5 5.5 L 5.5 4.5","M 2 0 L 2 5 M 4 0 L 4 5","M 0 2 L 5 2 M 0 4 L 5 4","M 0 1.5 L 2.5 1.5 L 2.5 0 M 2.5 5 L 2.5 3.5 L 5 3.5"].forEach(function(t,e){o.push({path:t,color:s[e],width:5,height:5,patternTransform:"scale(1.4 1.4)"})}),["M 0 0 L 5 10 L 10 0","M 3 3 L 8 3 L 8 8 L 3 8 Z","M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0","M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11","M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9"].forEach(function(t,e){o.push({path:t,color:s[e+5],width:10,height:10})}),o);function x(t,e){var i=JSON.stringify(t),r=i.length||0,a=0,n=0;if(e){for(var o=Math.max(Math.floor(r/500),1),h=0;h<r;h+=o)a+=i.charCodeAt(h);a&=a}for(;n<r;++n)a=(a<<5)-a+i.charCodeAt(n),a&=a;return a.toString(16).replace("-","1")}h.prototype.calculatePatternDimensions=function(t){if(!t.width||!t.height){var e=this.graphic&&(this.graphic.getBBox&&this.graphic.getBBox(!0)||this.graphic.element&&this.graphic.element.getBBox())||{},i=this.shapeArgs;if(i&&(e.width=i.width||e.width,e.height=i.height||e.height,e.x=i.x||e.x,e.y=i.y||e.y),t.image){if(!e.width||!e.height)return t._width="defer",t._height="defer",i=this.series.chart.mapView&&this.series.chart.mapView.getSVGTransform().scaleY,void(c(i)&&i<0&&(t._inverted=!0));t.aspectRatio&&(e.aspectRatio=e.width/e.height,t.aspectRatio>e.aspectRatio?e.aspectWidth=e.height*t.aspectRatio:e.aspectHeight=e.width/t.aspectRatio),t._width=t.width||Math.ceil(e.aspectWidth||e.width),t._height=t.height||Math.ceil(e.aspectHeight||e.height)}t.width||(t._x=t.x||0,t._x+=e.x-Math.round(e.aspectWidth?Math.abs(e.aspectWidth-e.width)/2:0)),t.height||(t._y=t.y||0,t._y+=e.y-Math.round(e.aspectHeight?Math.abs(e.aspectHeight-e.height)/2:0))}},n.prototype.addPattern=function(e,t){var i,r,a,t=u(t,!0),n=l(t),o=e.width||e._width||32,h=e.height||e._height||32,s=e.color||"#343434",c=e.id,d=this;if(c||(this.idCounter=this.idCounter||0,c="highcharts-pattern-"+this.idCounter+"-"+(this.chartIndex||0),++this.idCounter),this.forExport&&(c+="-export"),this.defIds=this.defIds||[],!(-1<this.defIds.indexOf(c)))return this.defIds.push(c),r={id:c,patternUnits:"userSpaceOnUse",patternContentUnits:e.patternContentUnits||"userSpaceOnUse",width:o,height:h,x:e._x||e.x||0,y:e._y||e.y||0},e._inverted&&(r.patternTransform="scale(1, -1)",e.patternTransform&&(e.patternTransform+=" scale(1, -1)")),e.patternTransform&&(r.patternTransform=e.patternTransform),(r=this.createElement("pattern").attr(r).add(this.defs)).id=c,e.path?(i=p.isObject(e.path)?e.path:{d:e.path},e.backgroundColor&&(a=e.backgroundColor,d.rect(0,0,o,h).attr({fill:a}).add(r)),d={d:i.d},this.styledMode||(d.stroke=i.stroke||s,d["stroke-width"]=u(i.strokeWidth,2),d.fill=i.fill||"none"),i.transform&&(d.transform=i.transform),this.createElement("path").attr(d).add(r),r.color=s):e.image&&(t?this.image(e.image,0,0,o,h,function(){this.animate({opacity:u(e.opacity,1)},n),g(this.element,"load")}).attr({opacity:0}):this.image(e.image,0,0,o,h)).add(r),e.image&&t||void 0===e.opacity||[].forEach.call(r.element.childNodes,function(t){t.setAttribute("opacity",e.opacity)}),this.patternElements=this.patternElements||{},this.patternElements[c]=r},m(a.prototype,"getColor",function(t){var e=this.options.color;e&&e.pattern&&!e.pattern.color?(delete this.options.color,t.apply(this,Array.prototype.slice.call(arguments,1)),e.pattern.color=this.color,this.color=this.options.color=e):t.apply(this,Array.prototype.slice.call(arguments,1))}),r(a,"render",function(){var i=this.chart.isResizing;!this.isDirtyData&&!i&&this.chart.hasRendered||(this.points||[]).forEach(function(t){var e=t.options&&t.options.color;e&&e.pattern&&(!i||t.shapeArgs&&t.shapeArgs.width&&t.shapeArgs.height?t.calculatePatternDimensions(e.pattern):(e.pattern._width="defer",e.pattern._height="defer"))})}),r(h,"afterInit",function(){var t=this.options.color;t&&t.pattern&&("string"==typeof t.pattern.path&&(t.pattern.path={d:t.pattern.path}),this.color=this.options.color=f(this.series.options.color,t))}),r(n,"complexColor",function(t){var e,i=t.args[0],r=t.args[1],t=t.args[2],a=this.chartIndex||0,n=i.pattern,o="#343434";return!(n=void 0!==i.patternIndex&&y?y[i.patternIndex]:n)||(o=n.image||"string"==typeof n.path||n.path&&n.path.d?(e=(e=t.parentNode&&t.parentNode.getAttribute("class"))&&-1<e.indexOf("highcharts-legend"),"defer"!==n._width&&"defer"!==n._height||h.prototype.calculatePatternDimensions.call({graphic:{element:t}},n),!e&&n.id||((n=f({},n)).id="highcharts-pattern-"+a+"-"+x(n)+x(n,!0)),this.addPattern(n,!this.forExport&&u(n.animation,this.globalAnimation,{duration:100})),"url(".concat(this.url,"#").concat(n.id+(this.forExport?"-export":""),")")):n.color||o,t.setAttribute(r,o),!(i.toString=function(){return o}))}),r(e,"endResize",function(){(this.renderer&&this.renderer.defIds||[]).filter(function(t){return t&&t.indexOf&&0===t.indexOf("highcharts-pattern-")}).length&&(this.series.forEach(function(t){t.visible&&t.points.forEach(function(t){t=t.options&&t.options.color;t&&t.pattern&&(t.pattern._width="defer",t.pattern._height="defer")})}),this.redraw(!1))}),r(e,"redraw",function(){var e={},i=this.renderer,t=(i.defIds||[]).filter(function(t){return t.indexOf&&0===t.indexOf("highcharts-pattern-")});t.length&&([].forEach.call(this.renderTo.querySelectorAll('[color^="url("], [fill^="url("], [stroke^="url("]'),function(t){var t=t.getAttribute("fill")||t.getAttribute("color")||t.getAttribute("stroke");t&&(t=t.replace(i.url,"").replace("url(#","").replace(")",""),e[t]=!0)}),t.forEach(function(t){e[t]||(d(i.defIds,t),i.patternElements[t]&&(i.patternElements[t].destroy(),delete i.patternElements[t]))}))})}),e(t,"masters/modules/pattern-fill.src.js",[],function(){})});