!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/networkgraph",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],function(e){var r=e.addEvent,o=[];function i(){var t,o,i,s=this;s.container&&(t=r(s.container,"mousedown",function(t){var e=s.hoverPoint;e&&e.series&&e.series.hasDraggableNodes&&e.series.options.draggable&&(e.series.onMouseDown(e,t),o=r(s.container,"mousemove",function(t){return e&&e.series&&e.series.onMouseMove(e,t)}),i=r(s.container.ownerDocument,"mouseup",function(t){return o(),i(),e&&e.series&&e.series.onMouseUp(e,t)}))})),r(s,"destroy",function(){t()})}return{compose:function(t){e.pushUnique(o,t)&&r(t,"load",i)},onMouseDown:function(t,e){e=this.chart.pointer.normalize(e),t.fixedPosition={chartX:e.chartX,chartY:e.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){var o,i,s,r,n;t.fixedPosition&&t.inDragMode&&(e=(o=this.chart).pointer.normalize(e),i=t.fixedPosition.chartX-e.chartX,e=t.fixedPosition.chartY-e.chartY,s=o.graphLayoutsLookup,n=r=void 0,(5<Math.abs(i)||5<Math.abs(e))&&(r=t.fixedPosition.plotX-i,n=t.fixedPosition.plotY-e,o.isInsidePlot(r,n)&&(t.plotX=r,t.plotY=n,t.hasDragged=!0,this.redrawHalo(t),s.forEach(function(t){t.restartSimulation()}))))},onMouseUp:function(t,e){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}}}),e(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],function(t,e){var i=t.setAnimation,o=e.addEvent,s=[];function r(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(t){t.updateSimulation()}),this.redraw())}function n(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(t){t.updateSimulation(!1)}),this.redraw())}function a(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(t){t.stop()})}function h(){function t(t){t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),o=!(e=!1))}var e,o=!1;if(this.graphLayoutsLookup){for(i(!1,this),this.graphLayoutsLookup.forEach(function(t){return t.start()});!e;)e=!0,this.graphLayoutsLookup.forEach(t);o&&this.series.forEach(function(t){t&&t.layout&&t.render()})}}return{compose:function(t){e.pushUnique(s,t)&&(o(t,"afterPrint",r),o(t,"beforePrint",n),o(t,"predraw",a),o(t,"render",h))},integrations:{},layouts:{}}}),e(t,"Series/NodesComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,o){var e,i,t=t.series,s=t.prototype,p=t.prototype.pointClass.prototype,r=o.defined,n=o.extend,a=o.find,d=o.merge,l=o.pick;function h(){return this.data=[].concat(this.points||[],this.nodes),s.destroy.apply(this,arguments)}function u(){this.nodes&&(this.nodes.forEach(function(t){t.destroy()}),this.nodes.length=0),s.setData.apply(this,arguments)}function c(t){var e=arguments,o=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==t&&o.forEach(function(t){t&&t.series&&(p.setState.apply(t,e),t.isNode||(t.fromNode.graphic&&p.setState.apply(t.fromNode,e),t.toNode&&t.toNode.graphic&&p.setState.apply(t.toNode,e)))}),p.setState.apply(this,e)}function f(t,e,o,i){var s=this,r=this.series.options.nodes,n=this.series.options.data,a=n&&n.length||0,h=n&&n[this.index];p.update.call(this,t,!this.isNode&&e,o,i),this.isNode&&(t=(r||[]).reduce(function(t,e,o){return s.id===e.id?o:t},-1),i=d(r&&r[t]||{},n&&n[this.index]||{}),n&&(h?n[this.index]=h:n.length=a),r?0<=t?r[t]=i:r.push(i):this.series.options.nodes=[i],l(e,!0)&&this.series.chart.redraw(o))}return t=e=e||{},i=[],t.compose=function(t,e){return o.pushUnique(i,t)&&((t=t.prototype).setNodeState=c,t.setState=c,t.update=f),o.pushUnique(i,e)&&((t=e.prototype).destroy=h,t.setData=u),e},t.createNode=function(t){function e(t,e){return a(t,function(t){return t.id===e})}var o,s,i=this.pointClass,r=e(this.nodes,t);return r||(o=this.options.nodes&&e(this.options.nodes,t),(s=(new i).init(this,n({className:"highcharts-node",isNode:!0,id:t,y:1},o))).linksTo=[],s.linksFrom=[],s.getSum=function(){var e=0,o=0;return s.linksTo.forEach(function(t){e+=t.weight||0}),s.linksFrom.forEach(function(t){o+=t.weight||0}),Math.max(e,o)},s.offset=function(t,e){for(var o=0,i=0;i<s[e].length;i++){if(s[e][i]===t)return o;o+=s[e][i].weight}},s.hasShape=function(){var e=0;return s.linksTo.forEach(function(t){t.outgoing&&e++}),!s.linksTo.length||e!==s.linksTo.length},s.index=this.nodes.push(s)-1,r=s),r.formatPrefix="node",r.name=r.name||r.options.id||"",r.mass=l(r.options.mass,r.options.marker&&r.options.marker.radius,this.options.marker&&this.options.marker.radius,4),r},t.destroy=h,t.generatePoints=function(){var e=this,o=this.chart,i={};s.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(t){t.linksFrom.length=0,t.linksTo.length=0,t.level=t.options.level}),this.points.forEach(function(t){r(t.from)&&(i[t.from]||(i[t.from]=e.createNode(t.from)),i[t.from].linksFrom.push(t),t.fromNode=i[t.from],o.styledMode?t.colorIndex=l(t.options.colorIndex,i[t.from].colorIndex):t.color=t.options.color||i[t.from].color),r(t.to)&&(i[t.to]||(i[t.to]=e.createNode(t.to)),i[t.to].linksTo.push(t),t.toNode=i[t.to]),t.name=t.name||t.id},this),this.nodeLookup=i},t.setNodeState=c,t.updateNode=f,e}),e(t,"Series/Networkgraph/NetworkgraphPoint.js",[t["Series/NodesComposition.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var i,s,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),e=e.series,a=e.prototype,n=e.prototype.pointClass,h=o.addEvent,p=o.css,d=o.defined,e=o.extend,l=o.pick,o=(r(u,s=n),u.prototype.destroy=function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(t){t.destroyElements&&t.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),n.prototype.destroy.apply(this,arguments)},u.prototype.getDegree=function(){var t=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===t?1:t},u.prototype.getLinkAttributes=function(){var t=this.series.options.link,e=this.options;return{"stroke-width":l(e.width,t.width),stroke:e.color||t.color,dashstyle:e.dashStyle||t.dashStyle,opacity:l(e.opacity,t.opacity,1)}},u.prototype.getLinkPath=function(){var t=this.fromNode,e=this.toNode;return t.plotX>e.plotX&&(t=this.toNode,e=this.fromNode),[["M",t.plotX||0,t.plotY||0],["L",e.plotX||0,e.plotY||0]]},u.prototype.getMass=function(){var t=this.fromNode.mass,e=this.toNode.mass,o=t+e;return{fromNode:1-t/o,toNode:1-e/o}},u.prototype.init=function(t,e,o){return s.prototype.init.call(this,t,e,o),this.series.options.draggable&&!this.series.chart.styledMode&&(h(this,"mouseOver",function(){p(this.series.chart.container,{cursor:"move"})}),h(this,"mouseOut",function(){p(this.series.chart.container,{cursor:"default"})})),this},u.prototype.isValid=function(){return!this.isNode||d(this.id)},u.prototype.redrawLink=function(){var e,t,o=this.getLinkPath();this.graphic&&(this.shapeArgs={d:o},this.series.chart.styledMode||(e=this.series.pointAttribs(this),this.graphic.attr(e),(this.dataLabels||[]).forEach(function(t){t&&t.attr({opacity:e.opacity})})),this.graphic.animate(this.shapeArgs),t=o[0],o=o[1],"M"===t[0]&&"L"===o[0]&&(this.plotX=(t[1]+o[1])/2,this.plotY=(t[2]+o[2])/2))},u.prototype.remove=function(t,e){var o,i=this,s=i.series,r=s.options.nodes||[],n=r.length;if(i.isNode){for(s.points=[],[].concat(i.linksFrom).concat(i.linksTo).forEach(function(t){-1<(o=t.fromNode.linksFrom.indexOf(t))&&t.fromNode.linksFrom.splice(o,1),-1<(o=t.toNode.linksTo.indexOf(t))&&t.toNode.linksTo.splice(o,1),a.removePoint.call(s,s.data.indexOf(t),!1,!1)}),s.points=s.data.slice(),s.nodes.splice(s.nodes.indexOf(i),1);n--;)if(r[n].id===i.options.id){s.options.nodes.splice(n,1);break}i&&i.destroy(),s.isDirty=!0,s.isDirtyData=!0,t&&s.chart.redraw(t)}else s.removePoint(s.data.indexOf(i),t,e)},u.prototype.renderLink=function(){var e;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(e=this.series.pointAttribs(this),this.graphic.attr(e),(this.dataLabels||[]).forEach(function(t){t&&t.attr({opacity:e.opacity})})))},u);function u(){return null!==s&&s.apply(this,arguments)||this}return e(o.prototype,{setState:t.setNodeState}),o}),e(t,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"},defer:!0,animation:{defer:1e3}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),e(t,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(t,e,o,i){var s=t.getMass(),r=o.x/i*e,o=o.y/i*e;t.fromNode.fixedPosition||(t.fromNode.dispX-=r*s.fromNode/t.fromNode.degree,t.fromNode.dispY-=o*s.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=r*s.toNode/t.toNode.degree,t.toNode.dispY+=o*s.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return t*t/e},barycenter:function(){var o=this.options.gravitationalConstant,i=this.barycenter.xFactor,s=this.barycenter.yFactor;this.nodes.forEach(function(t){var e;t.fixedPosition||(e=t.getDegree(),t.dispX+=(i-t.plotX)*o*(e=e*(1+e/2))/t.degree,t.dispY+=(s-t.plotY)*o*e/t.degree)})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function(t,e){var o;e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction,0!==(o=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY}))&&(e.plotX+=e.dispX/o*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/o*Math.min(Math.abs(e.dispY),t.temperature))},repulsive:function(t,e,o,i){t.dispX+=o.x/i*e/t.degree,t.dispY+=o.y/i*e/t.degree},repulsiveForceFunction:function(t,e){return e*e/t}}}),e(t,"Series/Networkgraph/QuadTreeNode.js",[],function(){function o(t){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=t,this.boxSize=Math.min(t.width,t.height)}return o.prototype.divideBox=function(){var t=this.box.width/2,e=this.box.height/2;this.nodes[0]=new o({left:this.box.left,top:this.box.top,width:t,height:e}),this.nodes[1]=new o({left:this.box.left+t,top:this.box.top,width:t,height:e}),this.nodes[2]=new o({left:this.box.left+t,top:this.box.top+e,width:t,height:e}),this.nodes[3]=new o({left:this.box.left,top:this.box.top+e,width:t,height:e})},o.prototype.getBoxPosition=function(t){var e=t.plotX<this.box.left+this.box.width/2,t=t.plotY<this.box.top+this.box.height/2,e=e?t?0:3:t?1:2;return e},o.prototype.insert=function(t,e){this.isInternal?this.nodes[this.getBoxPosition(t)].insert(t,e-1):(this.isEmpty=!1,this.body?e?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,e-1),this.body=!0),this.nodes[this.getBoxPosition(t)].insert(t,e-1)):((e=new o({top:t.plotX||NaN,left:t.plotY||NaN,width:.1,height:.1})).body=t,e.isInternal=!1,this.nodes.push(e)):(this.isInternal=!1,this.body=t))},o.prototype.updateMassAndCenter=function(){var t=0,e=0,o=0;if(this.isInternal){for(var i=0,s=this.nodes;i<s.length;i++){var r=s[i];r.isEmpty||(t+=r.mass,e+=r.plotX*r.mass,o+=r.plotY*r.mass)}e/=t,o/=t}else this.body&&(t=this.body.mass,e=this.body.plotX,o=this.body.plotY);this.mass=t,this.plotX=e,this.plotY=o},o}),e(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],function(s){function t(t,e,o,i){this.box={left:t,top:e,width:o,height:i},this.maxDepth=25,this.root=new s(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}return t.prototype.calculateMassAndCenter=function(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})},t.prototype.insertNodes=function(t){for(var e=0,o=t;e<o.length;e++){var i=o[e];this.root.insert(i,this.maxDepth)}},t.prototype.visitNodeRecursive=function(t,e,o){var i;if(!1!==(i=(t=t||this.root)===this.root&&e?e(t):i)){for(var s=0,r=t.nodes;s<r.length;s++){var n=r[s];if(n.isInternal){if(!1===(i=e?e(n):i))continue;this.visitNodeRecursive(n,e,o)}else n.body&&e&&e(n.body);o&&o(n)}t===this.root&&o&&o(t)}},t}),e(t,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(t,e,o){var i=t.getMass(),s=-o.x*e*this.diffTemperature,o=-o.y*e*this.diffTemperature;t.fromNode.fixedPosition||(t.fromNode.plotX-=s*i.fromNode/t.fromNode.degree,t.fromNode.plotY-=o*i.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=s*i.toNode/t.toNode.degree,t.toNode.plotY+=o*i.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return(e-t)/t},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,o=this.barycenter.yFactor,e=(e-(this.box.left+this.box.width)/2)*t,o=(o-(this.box.top+this.box.height)/2)*t;this.nodes.forEach(function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=o/t.mass/t.degree)})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function(t,e){var o=-t.options.friction,i=t.options.maxSpeed,s=e.prevX,r=e.prevY,s=(e.plotX+e.dispX-s)*o,r=(e.plotY+e.dispY-r)*o,n=(o=Math.abs)(s)/(s||1),o=o(r)/(r||1),s=n*Math.min(i,Math.abs(s)),r=o*Math.min(i,Math.abs(r));e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=s,e.plotY+=r,e.temperature=t.vectorLength({x:s,y:r})},repulsive:function(t,e,o){e=e*this.diffTemperature/t.mass/t.degree,t.fixedPosition||(t.plotX+=o.x*e,t.plotY+=o.y*e)},repulsiveForceFunction:function(t,e){return(e-t)/t*(t<e?1:0)}}}),e(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],function(e,t,o,i,s,r){var a=t.win,n=s.clamp,h=s.defined,p=s.isFunction,d=s.fireEvent,g=s.pick;function l(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.options=void 0,this.quadTree=void 0,this.repulsiveForce=void 0,this.series=[],this.simulation=!1}return l.compose=function(t){o.compose(t),o.integrations.euler=e,o.integrations.verlet=r,o.layouts["reingold-fruchterman"]=l},l.prototype.init=function(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=o.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=g(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=g(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation},l.prototype.updateSimulation=function(t){this.enableSimulation=g(t,this.options.enableSimulation)},l.prototype.start=function(){var t=this,e=this.series,o=this.options;t.currentStep=0,t.forces=e[0]&&e[0].forces||[],t.chart=e[0]&&e[0].chart,t.initialRendering&&(t.initPositions(),e.forEach(function(t){t.finishedAnimating=!0,t.render()})),t.setK(),t.resetSimulation(o),t.enableSimulation&&t.step()},l.prototype.step=function(){var t=this,e=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(var o=0,i=this.forces||[];o<i.length;o++)this[i[o]+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(var s=0,r=e;s<r.length;s++){var n=r[s];n.chart&&n.render()}this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&a.cancelAnimationFrame(this.simulation),this.simulation=a.requestAnimationFrame(function(){return t.step()})):(this.simulation=!1,this.series.forEach(function(t){d(t,"afterSimulation")}))}},l.prototype.stop=function(){this.simulation&&a.cancelAnimationFrame(this.simulation)},l.prototype.setArea=function(t,e,o,i){this.box={left:t,top:e,width:o,height:i}},l.prototype.setK=function(){this.k=this.options.linkLength||this.integration.getK(this)},l.prototype.addElementsToCollection=function(t,e){for(var o=0,i=t;o<i.length;o++){var s=i[o];-1===e.indexOf(s)&&e.push(s)}},l.prototype.removeElementFromCollection=function(t,e){t=e.indexOf(t);-1!==t&&e.splice(t,1)},l.prototype.clear=function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},l.prototype.resetSimulation=function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},l.prototype.restartSimulation=function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},l.prototype.setMaxIterations=function(t){this.maxIterations=g(t,this.options.maxIterations)},l.prototype.setTemperature=function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},l.prototype.setDiffTemperature=function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},l.prototype.setInitialRendering=function(t){this.initialRendering=t},l.prototype.createQuadTree=function(){this.quadTree=new i(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},l.prototype.initPositions=function(){var t=this.options.initialPositions;if(p(t)){t.call(this);for(var e=0,o=this.nodes;e<o.length;e++){var i=o[e];h(i.prevX)||(i.prevX=i.plotX),h(i.prevY)||(i.prevY=i.plotY),i.dispX=0,i.dispY=0}}else"circle"===t?this.setCircularPositions():this.setRandomPositions()},l.prototype.setCircularPositions=function(){for(var t,e=this.box,o=this.nodes,i=o.length+1,s=2*Math.PI/i,i=o.filter(function(t){return 0===t.linksTo.length}),r={},n=this.options.initialPositionRadius,a=function(t){for(var e=0,o=t.linksFrom||[];e<o.length;e++){var i=o[e];r[i.toNode.id]||(r[i.toNode.id]=!0,h.push(i.toNode),a(i.toNode))}},h=[],p=0,d=i;p<d.length;p++){var l=d[p];h.push(l),a(l)}if(h.length)for(var u=0,c=o;u<c.length;u++){var f=c[u];-1===h.indexOf(f)&&h.push(f)}else h=o;for(var m=0,y=h.length;m<y;++m)(t=h[m]).plotX=t.prevX=g(t.plotX,e.width/2+n*Math.cos(m*s)),t.plotY=t.prevY=g(t.plotY,e.height/2+n*Math.sin(m*s)),t.dispX=0,t.dispY=0},l.prototype.setRandomPositions=function(){for(var t,e=this.box,o=this.nodes,i=o.length+1,s=function(t){t=t*t/Math.PI;return t-=Math.floor(t)},r=0,n=o.length;r<n;++r)(t=o[r]).plotX=t.prevX=g(t.plotX,e.width*s(r)),t.plotY=t.prevY=g(t.plotY,e.height*s(i+r)),t.dispX=0,t.dispY=0},l.prototype.force=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.integration[t].apply(this,e)},l.prototype.barycenterForces=function(){this.getBarycenter(),this.force("barycenter")},l.prototype.getBarycenter=function(){for(var t=0,e=0,o=0,i=0,s=this.nodes;i<s.length;i++){var r=s[i];e+=r.plotX*r.mass,o+=r.plotY*r.mass,t+=r.mass}return this.barycenter={x:e,y:o,xFactor:e/t,yFactor:o/t},this.barycenter},l.prototype.barnesHutApproximation=function(t,e){var o,i,s=this.getDistXY(t,e),r=this.vectorLength(s);return t!==e&&0!==r&&(e.isInternal?o=!(e.boxSize/r<this.options.theta&&0!==r)||(i=this.repulsiveForce(r,this.k),this.force("repulsive",t,i*e.mass,s,r),!1):(i=this.repulsiveForce(r,this.k),this.force("repulsive",t,i*e.mass,s,r))),o},l.prototype.repulsiveForces=function(){var o=this;if("barnes-hut"===this.approximation)for(var t=this,e=0,i=this.nodes;e<i.length;e++)!function(e){t.quadTree.visitNodeRecursive(null,function(t){return o.barnesHutApproximation(e,t)})}(p=i[e]);else for(var s,r,n,a=0,h=this.nodes;a<h.length;a++)for(var p=h[a],d=0,l=this.nodes;d<l.length;d++){var u=l[d];p===u||p.fixedPosition||(n=this.getDistXY(p,u),0!==(r=this.vectorLength(n))&&(s=this.repulsiveForce(r,this.k),this.force("repulsive",p,s*u.mass,n,r)))}},l.prototype.attractiveForces=function(){for(var t,e,o,i=0,s=this.links;i<s.length;i++){var r=s[i];r.fromNode&&r.toNode&&(t=this.getDistXY(r.fromNode,r.toNode),0!==(e=this.vectorLength(t))&&(o=this.attractiveForce(e,this.k),this.force("attractive",r,o,t,e)))}},l.prototype.applyLimits=function(){for(var t=0,e=this.nodes;t<e.length;t++){var o=e[t];if(o.fixedPosition)return;this.integration.integrate(this,o),this.applyLimitBox(o,this.box),o.dispX=0,o.dispY=0}},l.prototype.applyLimitBox=function(t,e){var o=t.radius;t.plotX=n(t.plotX,e.left+o,e.width-o),t.plotY=n(t.plotY,e.top+o,e.height-o)},l.prototype.coolDown=function(t,e,o){return t-e*o},l.prototype.isStable=function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0},l.prototype.getSystemTemperature=function(){for(var t=0,e=0,o=this.nodes;e<o.length;e++)t+=o[e].temperature;return t},l.prototype.vectorLength=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},l.prototype.getDistR=function(t,e){t=this.getDistXY(t,e);return this.vectorLength(t)},l.prototype.getDistXY=function(t,e){var o=t.plotX-e.plotX,t=t.plotY-e.plotY;return{x:o,y:t,absX:Math.abs(o),absY:Math.abs(t)}},l}),e(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],function(t,e){var i=t.syncTimeout,s=e.animObject;return{initDataLabels:function(){var t,e=this,o=e.options.dataLabels;return e.dataLabelsGroup?(e.dataLabelsGroup.attr({opacity:1}),e.dataLabelsGroup):(t=this.initDataLabelsGroup(),!e.chart.styledMode&&null!=o&&o.style&&t.css(o.style),t.attr({opacity:0}),e.visible&&t.show(),t)},initDataLabelsDefer:function(){var t,e=this,o=this.options.dataLabels;null!=o&&o.defer&&null!=(t=this.options.layoutAlgorithm)&&t.enableSimulation?i(function(){e.deferDataLabels=!1},o?s(o.animation).defer:0):this.deferDataLabels=!1}}}),e(t,"Series/Networkgraph/NetworkgraphSeries.js",[t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/Networkgraph/NetworkgraphPoint.js"],t["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],t["Series/NodesComposition.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"]],function(e,r,t,o,i,s,n,a,h,p){var d,l,u=this&&this.__extends||(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.noop,c=a.series,f=a.seriesTypes,m=f.column.prototype,y=f.line.prototype,f=h.initDataLabels,g=h.initDataLabelsDefer,v=p.addEvent,b=p.defined,h=p.extend,x=p.merge,k=p.pick,p=(u(N,l=c),N.compose=function(t){e.compose(t),n.compose(t)},N.prototype.deferLayout=function(){var t,e=this.options.layoutAlgorithm,o=this.chart.graphLayoutsStorage,i=this.chart.graphLayoutsLookup,s=this.chart.options.chart;this.visible&&(o||(this.chart.graphLayoutsStorage=o={},this.chart.graphLayoutsLookup=i=[]),(t=o[e.type])||(e.enableSimulation=b(s.forExport)?!s.forExport:e.enableSimulation,o[e.type]=t=new r.layouts[e.type],t.init(e),i.splice(t.index,0,t)),(this.layout=t).setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),t.addElementsToCollection([this],t.series),t.addElementsToCollection(this.nodes,t.nodes),t.addElementsToCollection(this.points,t.links))},N.prototype.destroy=function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),s.destroy.call(this)},N.prototype.drawDataLabels=function(){var t,e;this.deferDataLabels||(null!=(t=this.options.dataLabels)&&t.textPath&&(e=t.textPath),c.prototype.drawDataLabels.call(this,this.nodes),null!=t&&t.linkTextPath&&(t.textPath=t.linkTextPath),c.prototype.drawDataLabels.call(this,this.data),null!=t&&t.textPath&&(t.textPath=e))},N.prototype.generatePoints=function(){var t,e;for(s.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(t){this.nodeLookup[t.id]||(this.nodeLookup[t.id]=this.createNode(t.id))},this),e=this.nodes.length-1;0<=e;e--)(t=this.nodes[e]).degree=t.getDegree(),t.radius=k(t.marker&&t.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[t.id]||t.remove();this.data.forEach(function(t){t.formatPrefix="link"}),this.indexateNodes()},N.prototype.getPointsCollection=function(){return this.nodes||[]},N.prototype.indexateNodes=function(){this.nodes.forEach(function(t,e){t.index=e})},N.prototype.init=function(t,e){var o=this;return l.prototype.init.call(this,t,e),g.call(this),v(this,"updatedData",function(){o.layout&&o.layout.stop()}),v(this,"afterUpdate",function(){o.nodes.forEach(function(t){t&&t.series&&t.resolveColor()})}),v(this,"afterSimulation",function(){this.deferDataLabels=!1,this.drawDataLabels()}),this},N.prototype.markerAttribs=function(t,e){e=c.prototype.markerAttribs.call(this,t,e);return b(t.plotY)||(e.y=0),e.x=(t.plotX||0)-(e.width||0)/2,e},N.prototype.pointAttribs=function(t,e){var e=e||t&&t.state||"normal",o=c.prototype.pointAttribs.call(this,t,e),e=this.options.states[e];return t&&!t.isNode&&(o=t.getLinkAttributes(),e&&(o={stroke:e.linkColor||o.stroke,dashstyle:e.linkDashStyle||o.dashstyle,opacity:k(e.linkOpacity,o.opacity),"stroke-width":e.linkColor||o["stroke-width"]})),o},N.prototype.render=function(){var t=this,e=t.points,o=t.chart.hoverPoint,i=[];t.points=t.nodes,y.render.call(this),(t.points=e).forEach(function(t){t.fromNode&&t.toNode&&(t.renderLink(),t.redrawLink())}),o&&o.series===t&&t.redrawHalo(o),t.chart.hasRendered&&!t.options.dataLabels.allowOverlap&&(t.nodes.concat(t.points).forEach(function(t){t.dataLabel&&i.push(t.dataLabel)}),t.chart.hideOverlappingLabels(i))},N.prototype.setState=function(t,e){e?(this.points=this.nodes.concat(this.data),c.prototype.setState.apply(this,arguments),this.points=this.data):c.prototype.setState.apply(this,arguments),this.layout.simulation||t||this.render()},N.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(t){t.isInside=!0,t.linksFrom.forEach(function(t){t.shapeType="path",t.y=1})})},N.defaultOptions=x(c.defaultOptions,i),N);function N(){var t=null!==l&&l.apply(this,arguments)||this;return t.data=void 0,t.nodes=void 0,t.options=void 0,t.points=void 0,t.deferDataLabels=!0,t}return h(p.prototype,{pointClass:o,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],initDataLabels:f,buildKDTree:t,createNode:s.createNode,drawTracker:m.drawTracker,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,onMouseUp:e.onMouseUp,redrawHalo:e.redrawHalo}),a.registerSeriesType("networkgraph",p),p}),e(t,"masters/modules/networkgraph.src.js",[t["Core/Globals.js"],t["Series/Networkgraph/NetworkgraphSeries.js"]],function(t,e){e.compose(t.Chart)})});