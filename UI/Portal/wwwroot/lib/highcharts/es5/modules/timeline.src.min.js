!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/timeline",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/Timeline/TimelinePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(i,t,e){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes,s=t.line.prototype.pointClass,a=t.pie.prototype.pointClass,l=e.defined,h=e.isNumber,p=e.merge,c=e.objectEach,d=e.pick;function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return r(u,n=s),u.prototype.alignConnector=function(){var t=this,e=t.series,i=t.dataLabel,o=i.connector,n=i.options||{},r=n.connectorWidth||0,s=t.series.chart,a=o.getBBox(),a={x:a.x+(i.translateX||0),y:a.y+(i.translateY||0)};s.inverted?a.y-=r/2:a.x+=r/2,o[s.isInsidePlot(a.x,a.y)?"animate":"attr"]({d:t.getConnectorPath()}),o.addClass("highcharts-color-"+t.colorIndex),e.chart.styledMode||o.attr({stroke:n.connectorColor||t.color,"stroke-width":n.connectorWidth,opacity:i[l(i.newOpacity)?"newOpacity":"opacity"]})},u.prototype.drawConnector=function(){var t=this,e=t.dataLabel,i=t.series;e&&(e.connector||(e.connector=i.chart.renderer.path(t.getConnectorPath()).attr({zIndex:-1}).add(e)),t.series.chart.isInsidePlot(e.x||0,e.y||0)&&t.alignConnector())},u.prototype.getConnectorPath=function(){var t,i,e=this,o=e.plotX,o=void 0===o?0:o,n=e.plotY,n=void 0===n?0:n,r=e.series,s=e.dataLabel,e=r.chart,a=r.xAxis.len,l=e.inverted,p=l?"x2":"y2";return s?(t=s.targetPosition,r=(s.alignAttr||s)[p[0]]<r.yAxis.len/2,i={x1:o,y1:n,x2:o,y2:(h(t.y)?t:s).y},l&&(i={x1:n,y1:a-o,x2:t.x||s.x,y2:a-o}),r&&(i[p]+=s[l?"width":"height"]||0),c(i,function(t,e){i[e]-=(s.alignAttr||s)[e[0]]}),e.renderer.crispLine([["M",i.x1,i.y1],["L",i.x2,i.y2]],(null==(n=s.options)?void 0:n.connectorWidth)||0)):[]},u.prototype.init=function(){var t=n.prototype.init.apply(this,arguments);return t.name=d(t.name,"Event"),t.y=1,t},u.prototype.isValid=function(){return null!==this.options.y},u.prototype.setState=function(){var t=n.prototype.setState;this.isNull||t.apply(this,arguments)},u.prototype.setVisible=function(t,e){var i=this.series;e=d(e,i.options.ignoreHiddenPoint),a.prototype.setVisible.call(this,t,!1),i.processData(),e&&i.chart.redraw()},u.prototype.applyOptions=function(t,e){return t=i.prototype.optionsToObject.call(this,t),this.userDLOptions=p(this.userDLOptions,t.dataLabels),n.prototype.applyOptions.call(this,t,e)},u}),e(t,"Series/Timeline/TimelineSeriesDefaults.js",[],function(){return{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:"#ffffff",borderWidth:1,borderColor:"#999999",borderRadius:3,color:"#333333",connectorWidth:1,distance:void 0,formatter:function(){var t=this.series.chart.styledMode?'<span class="highcharts-color-'+this.point.colorIndex+'">● </span>':'<span style="color:'+this.point.color+'">● </span>';return t+='<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.point.label||"")},style:{textOutline:"none",fontWeight:"normal",fontSize:"0.8em"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x",legendSymbol:"rectangle"}}),e(t,"Series/Timeline/TimelineSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Series/Timeline/TimelinePoint.js"],t["Series/Timeline/TimelineSeriesDefaults.js"],t["Core/Utilities.js"]],function(t,e,i,o){var n,d,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=t.seriesTypes,a=s.column,s=s.line,l=o.addEvent,p=o.arrayMax,h=o.arrayMin,c=o.defined,u=o.extend,y=o.merge,f=o.pick,o=(r(v,d=s),v.prototype.alignDataLabel=function(t,e,i,o){var n,r=this,s=r.chart.inverted,a=r.visibilityMap.filter(function(t){return!!t}),l=r.visiblePointsCount||0,a=a.indexOf(t),p=r.options.dataLabels,h=t.userDLOptions||{},a=p.alternate?!a||a===l-1?1.5:2:1,l=Math.floor(r.xAxis.len/l),c=e.padding;t.visible&&(n=Math.abs(h.x||t.options.dataLabels.x),t=s?(s=2*(n-c)-(t.itemHeight||0)/2,{width:f(null==(n=p.style)?void 0:n.width,.4*r.yAxis.len+"px"),textOverflow:(e.width||0)/s*(e.height||0)/2>l*a?"ellipsis":"none"}):{width:(h.width||p.width||l*a-2*c)+"px"},e.css(t),r.chart.styledMode||e.shadow(p.shadow)),d.prototype.alignDataLabel.apply(r,arguments)},v.prototype.bindAxes=function(){d.prototype.bindAxes.call(this),this.xAxis.userOptions.type||(this.xAxis.categories=this.xAxis.hasNames=!0)},v.prototype.distributeDL=function(){var t=this.options.dataLabels,e=this.chart.inverted,i=1;if(t)for(var o=f(t.distance,e?20:100),n=0,r=this.points;n<r.length;n++){var s,a=r[n];(s={})[e?"x":"y"]=t.alternate&&i%2?-o:o;e&&(s.align=t.alternate&&i%2?"right":"left"),a.options.dataLabels=y(s,a.userDLOptions),i++}},v.prototype.generatePoints=function(){d.prototype.generatePoints.call(this);for(var t=this.points,e=0,i=t.length;e<i;++e)t[e].applyOptions({x:this.xData[e]},this.xData[e])},v.prototype.getVisibilityMap=function(){return(this.data.length?this.data:this.userOptions.data||[]).map(function(t){return!(!t||!1===t.visible||t.isNull)&&t})},v.prototype.getXExtremes=function(t){var i=this,t=t.filter(function(t,e){return i.points[e].isValid()&&i.points[e].visible});return{min:h(t),max:p(t)}},v.prototype.init=function(){var r=this;d.prototype.init.apply(r,arguments),r.eventsToUnbind.push(l(r,"afterTranslate",function(){for(var t,e=Number.MAX_VALUE,i=0,o=r.points;i<o.length;i++){var n=o[i];n.isInside=n.isInside&&n.visible,n.visible&&!n.isNull&&(c(t)&&(e=Math.min(e,Math.abs(n.plotX-t))),t=n.plotX)}r.closestPointRangePx=e})),r.eventsToUnbind.push(l(r,"drawDataLabels",function(){r.distributeDL()})),r.eventsToUnbind.push(l(r,"afterDrawDataLabels",function(){for(var t=0,e=r.points;t<e.length;t++){var i,o=e[t];(i=o.dataLabel)&&(i.animate=function(t){return this.targetPosition&&(this.targetPosition=t),this.renderer.Element.prototype.animate.apply(this,arguments)},i.targetPosition||(i.targetPosition={}),o.drawConnector())}})),r.eventsToUnbind.push(l(r.chart,"afterHideOverlappingLabel",function(){for(var t=0,e=r.points;t<e.length;t++){var i=e[t];i.dataLabel&&i.dataLabel.connector&&i.dataLabel.oldOpacity!==i.dataLabel.newOpacity&&i.alignConnector()}}))},v.prototype.markerAttribs=function(t,e){var i=this,o=i.options.marker,n=t.marker||{},r=n.symbol||o.symbol,s=f(n.width,o.width,i.closestPointRangePx),a=f(n.height,o.height),l=0;if(i.xAxis.dateTime)return d.prototype.markerAttribs.call(this,t,e);e&&(o=o.states[e]||{},n=n.states&&n.states[e]||{},l=f(n.radius,o.radius,l+(o.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url");e={x:Math.floor(t.plotX)-s/2-l/2,y:t.plotY-a/2-l/2,width:s+l,height:a+l};return i.chart.inverted?{y:e.x&&e.width&&i.xAxis.len-e.x-e.width,x:e.y,width:e.height,height:e.width}:e},v.prototype.processData=function(){var t,e=this,i=0;e.visibilityMap=e.getVisibilityMap();for(var o=0,n=e.visibilityMap;o<n.length;o++)n[o]&&i++;for(e.visiblePointsCount=i,t=0;t<e.xData.length;t++)e.yData[t]=1;d.prototype.processData.call(this,arguments)},v.defaultOptions=y(s.defaultOptions,i),v);function v(){var t=null!==d&&d.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.userOptions=void 0,t.visibilityMap=void 0,t}return u(o.prototype,{drawTracker:a.prototype.drawTracker,pointClass:e,trackerGroups:["markerGroup","dataLabelsGroup"]}),t.registerSeriesType("timeline",o),o}),e(t,"masters/modules/timeline.src.js",[],function(){})});