!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/sonification",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,i,n){e.hasOwnProperty(t)||(e[t]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Extensions/Sonification/Options.js",[],function(){return{sonification:{enabled:!0,duration:6e3,afterSeriesWait:700,updateInterval:200,masterVolume:.7,order:"sequential",showTooltip:!0,showCrosshair:!0,pointGrouping:{enabled:!0,groupTimespan:15,algorithm:"minmax",prop:"y"},defaultInstrumentOptions:{roundToMusicalNotes:!0,instrument:"piano",mapping:{time:"x",pan:"x",noteDuration:200,pitch:{mapTo:"y",min:"c2",max:"c6",within:"yAxis"},gapBetweenNotes:100}},defaultSpeechOptions:{language:"en-US",mapping:{time:"x",rate:1.3,volume:.4},pointGrouping:{algorithm:"last"}}},exporting:{menuItemDefinitions:{downloadMIDI:{textKey:"downloadMIDI",onclick:function(){this.sonification&&this.sonification.downloadMIDI()}},playAsSound:{textKey:"playAsSound",onclick:function(){var e=this.sonification;e&&e.isPlaying()?e.cancel():this.sonify()}}}},lang:{downloadMIDI:"Download MIDI",playAsSound:"Play as sound"}}}),t(e,"Extensions/Sonification/SynthPatch.js",[e["Core/Utilities.js"]],function(e){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=e.clamp,o=e.defined,s=e.pick;function r(e,t){var i=(3.5-1.7*e)/1.8;return(.2414*e-.2414)*Math.log(t)+i}function l(e,t,i){e.gain.cancelScheduledValues(t),e.gain.setTargetAtTime(i,t,p.stopRampTime/4),e.gain.setValueAtTime(i,t+p.stopRampTime)}function c(n,e,o,t,s){void 0===s&&(s=1);var e="attack"===e,a=t.gain;a.cancelScheduledValues(o),n.length?(1<n[0].t&&n.unshift({t:0,vol:e?0:1}),n.forEach(function(e,t){var t=n[t-1],i=t?(e.t-t.t)/1e3:0,t=o+(t?t.t/1e3+p.stopRampTime:0);a.setTargetAtTime(e.vol*s,t,Math.max(i,p.stopRampTime)/2)})):l(t,o,e?s:0)}t.prototype.connect=function(e){this.masterGain.connect(e)},t.prototype.getFrequencyFacade=function(){var n=this;return{cancelScheduledValues:function(e){return n.sawOscA.frequency.cancelScheduledValues(e),n.sawOscB.frequency.cancelScheduledValues(e),n.delayNode.delayTime.cancelScheduledValues(e),n.sawOscA.frequency},setValueAtTime:function(e,t){return this.cancelScheduledValues(t),n.sawOscA.frequency.setValueAtTime(e,t),n.sawOscB.frequency.setValueAtTime(e,t),n.delayNode.delayTime.setValueAtTime(Math.round(1e4*n.pulseWidth/e)/1e4,t),n.sawOscA.frequency},setTargetAtTime:function(e,t,i){return this.cancelScheduledValues(t),n.sawOscA.frequency.setTargetAtTime(e,t,i),n.sawOscB.frequency.setTargetAtTime(e,t,i),n.delayNode.delayTime.setTargetAtTime(Math.round(1e4*n.pulseWidth/e)/1e4,t,i),n.sawOscA.frequency}}},t.prototype.getPWMTarget=function(){return this.delayNode.delayTime},t.prototype.start=function(){this.sawOscA.start(),this.sawOscB.start()},t.prototype.stop=function(e){this.sawOscA.stop(e),this.sawOscB.stop(e)};var u=t;function t(e,t){this.pulseWidth=Math.min(Math.max(0,t.pulseWidth||.5));function i(){return new OscillatorNode(e,{type:"sawtooth",detune:t.detune,frequency:Math.max(1,t.frequency||350)})}this.sawOscA=i(),this.sawOscB=i(),this.phaseInverter=new GainNode(e,{gain:-1}),this.masterGain=new GainNode(e),this.delayNode=new DelayNode(e,{delayTime:this.pulseWidth/this.sawOscA.frequency.value}),this.sawOscA.connect(this.masterGain),this.sawOscB.connect(this.phaseInverter),this.phaseInverter.connect(this.delayNode),this.delayNode.connect(this.masterGain)}n.prototype.connect=function(e){[this.lowpassNode,this.highpassNode,this.volTrackingNode,this.vmNode,this.gainNode,this.whiteNoise,this.pulseNode,this.oscNode].reduce(function(e,t){return t?(t.connect(e),t):e},e)},n.prototype.start=function(){this.oscNode&&this.oscNode.start(),this.whiteNoise&&this.whiteNoise.start(),this.pulseNode&&this.pulseNode.start()},n.prototype.stopAtTime=function(e){this.oscNode&&this.oscNode.stop(e),this.whiteNoise&&this.whiteNoise.stop(e),this.pulseNode&&this.pulseNode.stop(e)},n.prototype.setFreqAtTime=function(e,t,i){void 0===i&&(i=0);var n=this.options,t=a(s(n.fixedFrequency,t)*(n.freqMultiplier||1),0,21e3),n=this.getOscTarget(),o=i/5e3;n&&(n.cancelScheduledValues(e),i&&.01<e-(this.lastUpdateTime||-1)?(n.setTargetAtTime(t,e,o),n.setValueAtTime(t,e+o)):n.setValueAtTime(t,e)),this.scheduleVolTrackingChange(t,e,i),this.scheduleFilterTrackingChange(t,e,i),this.lastUpdateTime=e},n.prototype.getFMTarget=function(){return this.oscNode&&this.oscNode.detune||this.whiteNoise&&this.whiteNoise.detune||this.pulseNode&&this.pulseNode.getPWMTarget()},n.prototype.getVMTarget=function(){return this.vmNode&&this.vmNode.gain},n.prototype.runEnvelopeAtTime=function(e,t){this.gainNode&&c(("attack"===e?this.options.attackEnvelope:this.options.releaseEnvelope)||[],e,t,this.gainNode,this.options.volume)},n.prototype.cancelScheduled=function(){this.gainNode&&this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime);var e=this.getOscTarget();e&&e.cancelScheduledValues(0),this.lowpassNode&&this.lowpassNode.frequency.cancelScheduledValues(0),this.highpassNode&&this.highpassNode.frequency.cancelScheduledValues(0),this.volTrackingNode&&this.volTrackingNode.gain.cancelScheduledValues(0)},n.prototype.scheduleVolTrackingChange=function(e,t,i){this.volTrackingNode&&(e=r(this.options.volumePitchTrackingMultiplier||1,e),i=i?i/1e3:p.stopRampTime,this.volTrackingNode.gain.cancelScheduledValues(t),this.volTrackingNode.gain.setTargetAtTime(e,t,i/5),this.volTrackingNode.gain.setValueAtTime(e,t+i))},n.prototype.scheduleFilterTrackingChange=function(n,o,e){function t(e,t){var i=r(t.frequencyPitchTrackingMultiplier||1,n),t=a((t.frequency||1e3)*i,0,21e3);e.frequency.cancelScheduledValues(o),e.frequency.setTargetAtTime(t,o,s/5),e.frequency.setValueAtTime(t,o+s)}var i=this.options,s=e?e/1e3:p.stopRampTime;this.lowpassNode&&i.lowpass&&t(this.lowpassNode,i.lowpass),this.highpassNode&&i.highpass&&t(this.highpassNode,i.highpass)},n.prototype.createGain=function(){var e=this.options;(o(e.volume)||e.attackEnvelope&&e.attackEnvelope.length||e.releaseEnvelope&&e.releaseEnvelope.length)&&(this.gainNode=new GainNode(this.audioContext,{gain:s(e.volume,1)})),this.vmNode=new GainNode(this.audioContext)},n.prototype.createSoundSource=function(){var e=this.options,t=this.audioContext,i=(e.fixedFrequency||0)*(e.freqMultiplier||1);if("whitenoise"===e.type){for(var n=2*t.sampleRate,o=t.createBuffer(1,n,t.sampleRate),s=o.getChannelData(0),a=0;a<n;++a)s[a]=1.2*Math.random()-.6;var r=this.whiteNoise=t.createBufferSource();r.buffer=o,r.loop=!0}else"pulse"===e.type?this.pulseNode=new u(t,{detune:e.detune,pulseWidth:e.pulseWidth,frequency:i}):this.oscNode=new OscillatorNode(t,{type:e.type||"sine",detune:e.detune,frequency:i})},n.prototype.createFilters=function(){var e=this.options;e.lowpass&&e.lowpass.frequency&&(this.lowpassNode=new BiquadFilterNode(this.audioContext,{type:"lowpass",Q:e.lowpass.Q||1,frequency:e.lowpass.frequency})),e.highpass&&e.highpass.frequency&&(this.highpassNode=new BiquadFilterNode(this.audioContext,{type:"highpass",Q:e.highpass.Q||1,frequency:e.highpass.frequency}))},n.prototype.createVolTracking=function(){var e=this.options;e.volumePitchTrackingMultiplier&&1!==e.volumePitchTrackingMultiplier&&(this.volTrackingNode=new GainNode(this.audioContext,{gain:1}))},n.prototype.getOscTarget=function(){return this.oscNode?this.oscNode.frequency:this.pulseNode&&this.pulseNode.getFrequencyFacade()};var h=n;function n(e,t,i){this.audioContext=e,this.options=t,this.fmOscillatorIx=t.fmOscillator,this.vmOscillatorIx=t.vmOscillator,this.createSoundSource(),this.createGain(),this.createFilters(),this.createVolTracking(),i&&this.connect(i)}m.prototype.startSilently=function(){this.outputNode.gain.value=0,this.oscillators.forEach(function(e){return e.start()})},m.prototype.stop=function(){var e=this.audioContext.currentTime,t=e+m.stopRampTime;l(this.outputNode,e,0),this.oscillators.forEach(function(e){return e.stopAtTime(t)}),this.outputNode.disconnect()},m.prototype.silenceAtTime=function(e){!e&&this.outputNode.gain.value<.01?this.outputNode.gain.value=0:this.releaseAtTime((e||0)+this.audioContext.currentTime)},m.prototype.mute=function(){this.cancelScheduled(),l(this.outputNode,this.audioContext.currentTime,0)},m.prototype.playFreqAtTime=function(e,t,i){var n=(e||0)+this.audioContext.currentTime,o=this.options;this.oscillators.forEach(function(e){e.setFreqAtTime(n,t,o.noteGlideDuration),e.runEnvelopeAtTime("attack",n)}),c(o.masterAttackEnvelope||[],"attack",n,this.outputNode,o.masterVolume),i&&this.releaseAtTime(n+i/1e3)},m.prototype.cancelScheduled=function(){this.outputNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.oscillators.forEach(function(e){return e.cancelScheduled()})},m.prototype.connect=function(e){return this.outputNode.connect(e)},m.prototype.createEqChain=function(e){var t=this;this.eqNodes=(this.options.eq||[]).map(function(e){return new BiquadFilterNode(t.audioContext,i({type:"peaking"},e))}),this.eqNodes.reduceRight(function(e,t){return t.connect(e),t},e)},m.prototype.releaseAtTime=function(i){var n=0,e=(this.oscillators.forEach(function(e){var t=e.options.releaseEnvelope;t&&t.length&&(n=Math.max(n,t[t.length-1].t),e.runEnvelopeAtTime("release",i))}),this.options.masterReleaseEnvelope||[]);e.length&&(c(e,"release",i,this.outputNode,this.options.masterVolume),n=Math.max(n,e[e.length-1].t)),l(this.outputNode,i+n/1e3,0)},m.stopRampTime=.012;var p=m;function m(t,e){var n=this,i=(this.audioContext=t,this.options=e,this.eqNodes=[],this.midiInstrument=e.midiInstrument||1,this.outputNode=new GainNode(t,{gain:0}),this.createEqChain(this.outputNode),this.eqNodes.length?this.eqNodes[0]:this.outputNode);this.oscillators=(this.options.oscillators||[]).map(function(e){return new h(t,e,o(e.fmOscillator)||o(e.vmOscillator)?void 0:i)}),this.oscillators.forEach(function(i){function e(e,t){(t=t&&t[e]())&&i.connect(t)}o(i.fmOscillatorIx)&&e("getFMTarget",n.oscillators[i.fmOscillatorIx]),o(i.vmOscillatorIx)&&e("getVMTarget",n.oscillators[i.vmOscillatorIx])})}return p}),t(e,"Extensions/Sonification/InstrumentPresets.js",[],function(){return{piano:{masterVolume:.45,masterAttackEnvelope:[{t:1,vol:.71},{t:40,vol:.79},{t:82,vol:.64},{t:147,vol:.29},{t:260,vol:.15},{t:417,vol:.05},{t:589,vol:0}],eq:[{frequency:200,Q:.7,gain:6},{frequency:450,gain:6},{frequency:1300,gain:2},{frequency:2600,Q:.8,gain:8},{frequency:3500,Q:.8,gain:6},{frequency:6200,Q:.8,gain:10},{frequency:8e3,gain:-23},{frequency:1e4,Q:.4,gain:-12}],oscillators:[{type:"pulse",volume:.5,pulseWidth:.55,volumePitchTrackingMultiplier:.1,lowpass:{frequency:4.5,frequencyPitchTrackingMultiplier:900,Q:-2},highpass:{frequency:270},attackEnvelope:[{t:1,vol:1}],releaseEnvelope:[{t:1,vol:1},{t:282,vol:.64},{t:597,vol:0}]},{type:"whitenoise",volume:.8,lowpass:{frequency:400},highpass:{frequency:300},attackEnvelope:[{t:1,vol:1},{t:19,vol:0}]}]},plucked:{masterVolume:.5,midiInstrument:25,masterAttackEnvelope:[{t:1,vol:.71},{t:4,vol:.71},{t:31,vol:.4},{t:109,vol:.12},{t:234,vol:.04},{t:442,vol:0}],eq:[{frequency:800,gain:-8},{frequency:1400,Q:4,gain:4},{frequency:1600,gain:-14},{frequency:2200,gain:-8},{frequency:3600,gain:-2},{frequency:6400,Q:2,gain:-6}],oscillators:[{type:"sawtooth",volume:.9,volumePitchTrackingMultiplier:.6,highpass:{frequency:100},lowpass:{frequency:8e3},releaseEnvelope:[{t:1,vol:1},{t:315,vol:.56},{t:550,vol:0}]}]},flute:{masterVolume:1.1,midiInstrument:74,noteGlideDuration:30,masterAttackEnvelope:[{t:0,vol:0},{t:29,vol:1},{t:76,vol:.48},{t:600,vol:.36}],masterReleaseEnvelope:[{t:1,vol:.36},{t:24,vol:.15},{t:119,vol:0}],eq:[{frequency:150,Q:.6,gain:-10},{frequency:500,gain:4},{frequency:1100,gain:-4},{frequency:2200,gain:-14},{frequency:5e3,gain:8},{frequency:6400,gain:10},{frequency:8e3,gain:12},{frequency:10800,gain:8}],oscillators:[{type:"triangle",volume:1,volumePitchTrackingMultiplier:.4,lowpass:{frequency:12,frequencyPitchTrackingMultiplier:100},highpass:{frequency:200}},{type:"sine",fixedFrequency:5,volume:.2,vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:48,vol:0},{t:225,vol:.05},{t:600,vol:.77}]},{type:"whitenoise",volume:.13,lowpass:{frequency:9e3,Q:3},highpass:{frequency:6e3,Q:3},vmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:26,vol:1},{t:93,vol:.8}]}]},lead:{masterVolume:1,midiInstrument:20,masterAttackEnvelope:[{t:1,vol:.81},{t:98,vol:.5},{t:201,vol:.18},{t:377,vol:.04},{t:586,vol:0},{t:586,vol:0}],eq:[{frequency:200,gain:-6},{frequency:400,gain:-8},{frequency:800,Q:.5,gain:-10},{frequency:1200,gain:4},{frequency:3600,gain:-4},{frequency:4200,gain:-12},{frequency:7400,gain:-14},{frequency:1e4,gain:2}],oscillators:[{type:"triangle",volume:1.1,volumePitchTrackingMultiplier:.6,lowpass:{frequency:5e3},highpass:{frequency:100}},{type:"sawtooth",volume:.4,lowpass:{frequency:7e3},highpass:{frequency:800,Q:6},releaseEnvelope:[{t:0,vol:.99},{t:200,vol:.83},{t:495,vol:0}]}]},vibraphone:{masterVolume:1,midiInstrument:12,masterAttackEnvelope:[{t:1,vol:0},{t:10,vol:.63},{t:82,vol:.64},{t:149,vol:.26},{t:600,vol:0}],eq:[{frequency:200,Q:.8,gain:-12},{frequency:400,gain:-4},{frequency:1600,Q:.5,gain:6},{frequency:2200,Q:.5,gain:6},{frequency:6400,gain:4},{frequency:12800,gain:4}],oscillators:[{type:"sine",volume:1.5,volumePitchTrackingMultiplier:1e-7,attackEnvelope:[{t:1,vol:1}],releaseEnvelope:[{t:1,vol:1},{t:146,vol:.39},{t:597,vol:0}]},{type:"whitenoise",volume:.03,volumePitchTrackingMultiplier:1e-4,lowpass:{frequency:900},highpass:{frequency:800},attackEnvelope:[{t:1,vol:1},{t:9,vol:0}]},{type:"sine",freqMultiplier:4,volume:.15,volumePitchTrackingMultiplier:1e-4},{type:"sine",fixedFrequency:3,volume:6,fmOscillator:0,releaseEnvelope:[{t:1,vol:1},{t:190,vol:.41},{t:600,vol:0}]},{type:"sine",fixedFrequency:6,volume:3,fmOscillator:2},{type:"sine",freqMultiplier:9,volume:5e-4,volumePitchTrackingMultiplier:1e-4,releaseEnvelope:[{t:1,vol:.97},{t:530,vol:0}]}]},saxophone:{masterVolume:1,midiInstrument:67,noteGlideDuration:10,masterAttackEnvelope:[{t:1,vol:.57},{t:35,vol:1},{t:87,vol:.84},{t:111,vol:.6},{t:296,vol:.49},{t:600,vol:.58}],masterReleaseEnvelope:[{t:1,vol:.58},{t:47,vol:.16},{t:119,vol:0}],eq:[{frequency:200,gain:-2},{frequency:600,gain:2},{frequency:800,gain:-10},{frequency:1100,gain:-2},{frequency:2200,gain:-2},{frequency:3500,gain:10},{frequency:12800,gain:4}],oscillators:[{type:"sawtooth",volume:.45,volumePitchTrackingMultiplier:.06,lowpass:{frequency:18,frequencyPitchTrackingMultiplier:200},highpass:{frequency:300}},{type:"whitenoise",fixedFrequency:1,volume:.4,highpass:{frequency:7e3},vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:51,vol:1},{t:86,vol:.84},{t:500,vol:.78}]},{type:"sine",fixedFrequency:4,volume:2,fmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:15,vol:.94},{t:79,vol:1},{t:172,vol:.47},{t:500,vol:.26}]},{type:"sine",fixedFrequency:7,volume:6,fmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:25,vol:.99},{t:85,vol:0},{t:85,vol:0},{t:387,vol:.02},{t:511,vol:.43},{t:600,vol:0}]}]},trumpet:{masterVolume:.3,midiInstrument:57,noteGlideDuration:40,masterAttackEnvelope:[{t:1,vol:0},{t:17,vol:1},{t:42,vol:.85},{t:76,vol:1},{t:202,vol:.65},{t:226,vol:.86},{t:282,vol:.63}],masterReleaseEnvelope:[{t:1,vol:.62},{t:34,vol:.14},{t:63,vol:.21},{t:96,vol:0}],eq:[{frequency:200,Q:.6,gain:10},{frequency:600,Q:.5,gain:6},{frequency:1500,Q:.7,gain:14},{frequency:3200,Q:2,gain:8},{frequency:3800,Q:.8,gain:10},{frequency:6200,gain:12},{frequency:8400,gain:-20},{frequency:12800,Q:.5,gain:-18}],oscillators:[{type:"sawtooth",volume:.15,pulseWidth:.5,volumePitchTrackingMultiplier:.5,lowpass:{frequency:1900,Q:3}},{type:"sine",fixedFrequency:6,volume:.2,vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:102,vol:.13},{t:556,vol:.24}]},{type:"whitenoise",volume:.45,highpass:{frequency:7e3,Q:9},vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:89,vol:.51},{t:577,vol:.29}]},{type:"sine",fixedFrequency:5.7,volume:20,fmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:89,vol:1},{t:137,vol:.46},{t:283,vol:.15},{t:600,vol:.28}]}]},sawsynth:{masterVolume:.3,midiInstrument:51,noteGlideDuration:40,masterAttackEnvelope:[{t:0,vol:.6},{t:9,vol:1},{t:102,vol:.48}],eq:[{frequency:200,gain:-6}],oscillators:[{type:"sawtooth",volume:.4,volumePitchTrackingMultiplier:.3},{type:"sawtooth",volume:.4,detune:11,volumePitchTrackingMultiplier:.3},{type:"sawtooth",volume:.4,detune:-11,volumePitchTrackingMultiplier:.3}]},basic1:{masterVolume:1,noteGlideDuration:0,masterReleaseEnvelope:[{t:1,vol:.36},{t:24,vol:.15},{t:119,vol:0}],eq:[{frequency:150,Q:.6,gain:-12},{frequency:1100,gain:-2},{frequency:2200,gain:-16},{frequency:5e3,gain:8},{frequency:6400,gain:10},{frequency:8e3,gain:12},{frequency:10800,gain:8}],oscillators:[{type:"triangle",volume:1,volumePitchTrackingMultiplier:.05,lowpass:{frequency:17,frequencyPitchTrackingMultiplier:100},highpass:{frequency:200}},{type:"whitenoise",volume:.04,lowpass:{frequency:9e3,Q:3},highpass:{frequency:6e3,Q:3},vmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:26,vol:1},{t:71,vol:.73}]}]},basic2:{masterVolume:.3,eq:[{frequency:200,Q:.7,gain:6},{frequency:450,gain:2},{frequency:1300,gain:-2},{frequency:2600,Q:.8,gain:6},{frequency:3500,Q:.8,gain:6},{frequency:6200,Q:.8,gain:10},{frequency:8e3,gain:-18},{frequency:1e4,Q:.4,gain:-12}],oscillators:[{type:"pulse",volume:.4,pulseWidth:.55,volumePitchTrackingMultiplier:.1,lowpass:{frequency:4.5,frequencyPitchTrackingMultiplier:900,Q:-2},highpass:{frequency:270}}]},chord:{masterVolume:1,masterAttackEnvelope:[{t:1,vol:.79},{t:27,vol:.86},{t:62,vol:.81},{t:150,vol:.35},{t:408,vol:.04},{t:600,vol:0}],eq:[{frequency:200,gain:-8},{frequency:600,Q:2,gain:4},{frequency:800,gain:-10},{frequency:1600,gain:-2},{frequency:2200,gain:-6},{frequency:3600,Q:.7,gain:-2},{frequency:6400,gain:6},{frequency:12800,gain:6}],oscillators:[{type:"triangle",volume:1.1,volumePitchTrackingMultiplier:.05,lowpass:{frequency:8e3},highpass:{frequency:100},releaseEnvelope:[{t:1,vol:1},{t:315,vol:.56},{t:540,vol:0}]},{type:"triangle",freqMultiplier:1.17,volume:.4,volumePitchTrackingMultiplier:.07,lowpass:{frequency:5e3},highpass:{frequency:100},releaseEnvelope:[{t:0,vol:1},{t:476,vol:0}]},{type:"triangle",freqMultiplier:1.58333,volume:.7,volumePitchTrackingMultiplier:.02,highpass:{frequency:200},releaseEnvelope:[{t:0,vol:1},{t:422,vol:.56},{t:577,vol:0}]},{type:"sine",fixedFrequency:10,volume:4,fmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:157,vol:.65}]},{type:"sine",fixedFrequency:5,volume:.3,vmOscillator:2,attackEnvelope:[{t:1,vol:1},{t:155,vol:.91},{t:289,vol:.78}]}]},wobble:{masterVolume:.9,masterReleaseEnvelope:[{t:1,vol:.36},{t:24,vol:.15},{t:119,vol:0}],eq:[{frequency:150,Q:.6,gain:-12},{frequency:1100,gain:-2},{frequency:2200,gain:-16},{frequency:5e3,gain:8},{frequency:6400,gain:10},{frequency:8e3,gain:12},{frequency:10800,gain:8}],oscillators:[{type:"triangle",volume:.9,volumePitchTrackingMultiplier:.1,lowpass:{frequency:17,frequencyPitchTrackingMultiplier:100},highpass:{frequency:200}},{type:"whitenoise",volume:.04,lowpass:{frequency:9e3,Q:3},highpass:{frequency:6e3,Q:3},vmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:26,vol:1},{t:71,vol:.73}]},{type:"sine",freqMultiplier:.011,volume:30,fmOscillator:0}]},sine:{masterVolume:1,oscillators:[{type:"sine",volumePitchTrackingMultiplier:.07}]},sineGlide:{masterVolume:1,noteGlideDuration:100,oscillators:[{type:"sine",volumePitchTrackingMultiplier:.07}]},triangle:{masterVolume:.5,oscillators:[{type:"triangle",volume:1,volumePitchTrackingMultiplier:.07}]},sawtooth:{masterVolume:.25,midiInstrument:82,oscillators:[{type:"sawtooth",volume:.3,volumePitchTrackingMultiplier:.07}]},square:{masterVolume:.3,midiInstrument:81,oscillators:[{type:"square",volume:.2,volumePitchTrackingMultiplier:.07}]},chop:{masterVolume:1,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:44,vol:0}],oscillators:[{type:"whitenoise",volume:1,lowpass:{frequency:600},highpass:{frequency:200}}]},shaker:{masterVolume:.4,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:44,vol:0}],oscillators:[{type:"whitenoise",volume:1,lowpass:{frequency:6500},highpass:{frequency:5e3}}]},step:{masterVolume:1,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:44,vol:0}],eq:[{frequency:200,gain:-1},{frequency:400,gain:-14},{frequency:800,gain:8},{frequency:1e3,Q:5,gain:-24},{frequency:1600,gain:8},{frequency:2200,gain:-10},{frequency:5400,gain:4},{frequency:12800,gain:-36}],oscillators:[{type:"whitenoise",volume:1.5,lowpass:{frequency:300},highpass:{frequency:100,Q:6}}]},kick:{masterVolume:.55,masterAttackEnvelope:[{t:1,vol:.8},{t:15,vol:1},{t:45,vol:.35},{t:121,vol:.11},{t:242,vol:0}],eq:[{frequency:50,gain:6},{frequency:400,gain:-18},{frequency:1600,gain:18}],oscillators:[{type:"triangle",fixedFrequency:90,volume:1,lowpass:{frequency:300},attackEnvelope:[{t:1,vol:1},{t:6,vol:1},{t:45,vol:.01}]},{type:"whitenoise",volume:.4,lowpass:{frequency:200},attackEnvelope:[{t:1,vol:1},{t:30,vol:0}]},{type:"triangle",freqMultiplier:.1,volume:1,lowpass:{frequency:200}}]},shortnote:{masterVolume:.8,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:15,vol:0}],eq:[{frequency:400,gain:-4},{frequency:800,gain:-12},{frequency:2400,gain:4},{frequency:7200,gain:-20},{frequency:1e3,Q:5,gain:-12},{frequency:5400,gain:-32},{frequency:12800,gain:-14}],oscillators:[{type:"sawtooth",volume:.6,lowpass:{frequency:1e3}},{type:"whitenoise",volume:.2,lowpass:{frequency:1e4},highpass:{frequency:7e3},attackEnvelope:[{t:1,vol:1},{t:10,vol:0}]},{type:"whitenoise",volume:1.3,lowpass:{frequency:700,Q:4},highpass:{frequency:250}}]},noise:{masterVolume:.3,midiInstrument:122,oscillators:[{type:"whitenoise"}]},filteredNoise:{masterVolume:.3,midiInstrument:122,eq:[{frequency:1600,gain:-8},{frequency:2200,gain:-4}],oscillators:[{type:"whitenoise",lowpass:{frequency:5,frequencyPitchTrackingMultiplier:1300,Q:6},highpass:{frequency:5,frequencyPitchTrackingMultiplier:300,Q:6}}]},wind:{masterVolume:.75,midiInstrument:122,noteGlideDuration:150,masterReleaseEnvelope:[{t:0,vol:1},{t:124,vol:.24},{t:281,vol:0}],oscillators:[{type:"whitenoise",volume:1,lowpass:{frequency:100,frequencyPitchTrackingMultiplier:6,Q:23},highpass:{frequency:170,frequencyPitchTrackingMultiplier:6}},{type:"sine",freqMultiplier:.016,volume:1e3,fmOscillator:0}]}}}),t(e,"Extensions/Sonification/SonificationInstrument.js",[e["Extensions/Sonification/SynthPatch.js"],e["Extensions/Sonification/InstrumentPresets.js"],e["Core/Utilities.js"]],function(n,o,e){var s=e.defined,a=e.extend;function r(e,t,i){this.audioContext=e,this.curParams={},this.midiTrackName=i.midiTrackName,this.masterVolNode=new GainNode(e),this.masterVolNode.connect(t),this.volumeNode=new GainNode(e),this.createNodesFromCapabilities(a({pan:!0},i.capabilities||{})),this.connectCapabilityNodes(this.volumeNode,this.masterVolNode),this.synthPatch=new n(e,"string"==typeof i.synthPatch?o[i.synthPatch]:i.synthPatch),this.midiInstrument=this.synthPatch.midiInstrument||1,this.synthPatch.startSilently(),this.synthPatch.connect(this.volumeNode)}return r.prototype.setMasterVolume=function(e){this.masterVolNode.gain.setTargetAtTime(e,0,r.rampTime)},r.prototype.scheduleEventAtTime=function(e,t){var i=a(this.curParams,t),t=s(t.frequency)?t.frequency:s(t.note)?r.musicalNoteToFrequency(t.note):220;s(t)&&this.synthPatch.playFreqAtTime(e,t,i.noteDuration),(s(i.tremoloDepth)||s(i.tremoloSpeed))&&this.setTremoloAtTime(e,i.tremoloDepth,i.tremoloSpeed),s(i.pan)&&this.setPanAtTime(e,i.pan),s(i.volume)&&this.setVolumeAtTime(e,i.volume),(s(i.lowpassFreq)||s(i.lowpassResonance))&&this.setFilterAtTime("lowpass",e,i.lowpassFreq,i.lowpassResonance),(s(i.highpassFreq)||s(i.highpassResonance))&&this.setFilterAtTime("highpass",e,i.highpassFreq,i.highpassResonance)},r.prototype.silenceAtTime=function(e){this.synthPatch.silenceAtTime(e)},r.prototype.cancel=function(){this.synthPatch.mute(),[this.tremoloDepth&&this.tremoloDepth.gain,this.tremoloOsc&&this.tremoloOsc.frequency,this.lowpassNode&&this.lowpassNode.frequency,this.lowpassNode&&this.lowpassNode.Q,this.highpassNode&&this.highpassNode.frequency,this.highpassNode&&this.highpassNode.Q,this.panNode&&this.panNode.pan,this.volumeNode.gain].forEach(function(e){return e&&e.cancelScheduledValues(0)})},r.prototype.destroy=function(){this.cancel(),this.synthPatch.stop(),this.tremoloOsc&&this.tremoloOsc.stop(),[this.tremoloDepth,this.tremoloOsc,this.lowpassNode,this.highpassNode,this.panNode,this.volumeNode,this.masterVolNode].forEach(function(e){return e&&e.disconnect()})},r.prototype.setPanAtTime=function(e,t){this.panNode&&this.panNode.pan.setTargetAtTime(t,e+this.audioContext.currentTime,r.rampTime)},r.prototype.setFilterAtTime=function(e,t,i,n){e=this[e+"Node"],t=this.audioContext.currentTime+t;e&&(s(n)&&e.Q.setTargetAtTime(n,t,r.rampTime),s(i)&&e.frequency.setTargetAtTime(i,t,r.rampTime))},r.prototype.setVolumeAtTime=function(e,t){this.volumeNode&&this.volumeNode.gain.setTargetAtTime(t,e+this.audioContext.currentTime,r.rampTime)},r.prototype.setTremoloAtTime=function(e,t,i){e=this.audioContext.currentTime+e;this.tremoloDepth&&s(t)&&this.tremoloDepth.gain.setTargetAtTime(t,e,r.rampTime),this.tremoloOsc&&s(i)&&this.tremoloOsc.frequency.setTargetAtTime(15*i,e,r.rampTime)},r.prototype.createNodesFromCapabilities=function(e){var t=this.audioContext;e.pan&&(this.panNode=new StereoPannerNode(t)),e.tremolo&&(this.tremoloOsc=new OscillatorNode(t,{type:"sine",frequency:3}),this.tremoloDepth=new GainNode(t),this.tremoloOsc.connect(this.tremoloDepth),this.tremoloDepth.connect(this.masterVolNode.gain),this.tremoloOsc.start()),e.filters&&(this.lowpassNode=new BiquadFilterNode(t,{type:"lowpass",frequency:2e4}),this.highpassNode=new BiquadFilterNode(t,{type:"highpass",frequency:0}))},r.prototype.connectCapabilityNodes=function(e,t){[this.panNode,this.lowpassNode,this.highpassNode,e].reduce(function(e,t){return t?(t.connect(e),t):e},t)},r.noteStringToC0Distance=function(e){var e=e.match(/^([a-g][#b]?)([0-8])$/i),t=e?e[1]:"a",i=t[0].toLowerCase(),t=t[1],e=e?parseInt(e[2],10):4;return({c:0,d:2,e:4,f:5,g:7,a:9,b:11}[i]||0)+("#"===t?1:"b"===t?-1:0)+12*e},r.musicalNoteToFrequency=function(e){e="string"==typeof e?this.noteStringToC0Distance(e):e;return 16.3516*Math.pow(2,Math.min(e,107)/12)},r.rampTime=n.stopRampTime/4,r}),t(e,"Extensions/Sonification/SonificationSpeaker.js",[e["Core/Utilities.js"]],function(e){var i=e.pick;function t(e){this.options=e,this.masterVolume=1,this.synthesis=window.speechSynthesis,void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=this.setVoice.bind(this)),this.setVoice(),this.scheduled=[]}return t.prototype.say=function(e,t){this.synthesis&&(this.synthesis.cancel(),e=new SpeechSynthesisUtterance(e),this.voice&&(e.voice=this.voice),e.rate=t&&t.rate||this.options.rate||1,e.pitch=t&&t.pitch||this.options.pitch||1,e.volume=i(t&&t.volume,this.options.volume,1)*this.masterVolume,this.synthesis.speak(e))},t.prototype.sayAtTime=function(e,t,i){this.scheduled.push(setTimeout(this.say.bind(this,t,i),e))},t.prototype.cancel=function(){this.scheduled.forEach(clearTimeout),this.scheduled=[],this.synthesis.cancel()},t.prototype.destroy=function(){this.cancel()},t.prototype.setMasterVolume=function(e){this.masterVolume=e},t.prototype.setVoice=function(){if(this.synthesis){for(var e=this.options.name,t=this.options.language||"en-US",i=this.synthesis.getVoices(),n=i.length,o=void 0,s=0;s<n;++s){if(e&&i[s].name===e)return void(this.voice=i[s]);if(!o&&i[s].lang===t&&(o=i[s],!e))break}this.voice=o}},t}),t(e,"Extensions/Sonification/TimelineChannel.js",[],function(){function e(e,t,i,n,o){void 0===i&&(i=!1),this.type=e,this.engine=t,this.showPlayMarker=i,this.muted=o,this.events=n||[]}return e.prototype.addEvent=function(e){var t=this.events[this.events.length-1];if(t&&e.time<t.time){for(var i=this.events.length;i--&&this.events[i].time>e.time;);this.events.splice(i+1,0,e)}else this.events.push(e);return e},e.prototype.mute=function(){this.muted=!0},e.prototype.unmute=function(){this.muted=!1},e.prototype.cancel=function(){this.engine.cancel()},e.prototype.destroy=function(){this.engine.destroy()},e}),t(e,"Extensions/Sonification/MIDI.js",[e["Extensions/Sonification/SonificationInstrument.js"],e["Core/Utilities.js"]],function(c,e){function o(e,t,i,n){var o=0,i=p(i,n),n=h(e).reduce(function(e,t){var i=l(t.timeMS-o);return o=t.timeMS,e.concat(i,t.data)},[]),e=[0,255,47,0],s=(t?r.length:0)+i.length+n.length+e.length;return[77,84,114,107,a(3,s),a(2,s),a(1,s),a(0,s)].concat(t?r:[],i,n,e)}var u=e.pick,a=function(e,t){return t>>>8*e&255},r=[0,255,81,3,7,161,32],l=function(e){for(var t=127&e,i=[];e>>=7;)t=t<<8|127&e|128;for(;;){if(i.push(255&t),!(128&t))break;t>>=8}return i},h=function(e){function a(e){for(var t=i.length;t--&&i[t].timeMS>e.timeMS;);i.splice(t+1,0,e)}var r,l,i=[];return e.forEach(function(e){var t=e.instrumentEventOptions||{},n=e.time,i=l=u(t.noteDuration,l),e=i&&e.time+i,i=[{valMap:function(e){return 64+63*e&127},data:{10:t.pan,92:t.tremoloDepth,93:t.tremoloSpeed}},{valMap:function(e){return 127*e/2e4&127},data:{74:t.lowpassFreq,75:t.highpassFreq}},{valMap:function(e){return 63*Math.min(18,Math.max(-18,e))/18+63&127},data:{71:t.lowpassResonance,76:t.highpassResonance}}],o=r=void 0===t.volume?u(r,127):127*t.volume&127,s=t.frequency,t=t.note||0,s=12+(s?Math.round(12*Math.log(s)/Math.LN2-48.37632):"string"==typeof t?c.noteStringToC0Distance(t):t)&127;i.forEach(function(i){return Object.keys(i.data).forEach(function(e){var t=i.data[e];void 0!==t&&a({timeMS:n,type:"CTRL_CHG",data:[176,parseInt(e,10),i.valMap(t)]})})}),e&&(a({timeMS:n,type:"NON",data:[144,s,o]}),a({timeMS:e,type:"NOF",data:[128,s,o]}))}),i},p=function(e,t){var i=[];if(t&&i.push(0,192,127&t),e){for(var n=[],o=0;o<e.length;++o){var s=e.charCodeAt(o);s<128&&n.push(s)}return i.concat([0,255,3],l(n.length),n)}return i};return function(e){var t=(e=e.filter(function(e){return!!e.events.length})).length,n=1<t;return new Uint8Array([77,84,104,100,0,0,0,6,0,1<(t=n?t+1:t)?1:0,a(1,t),a(0,t),1,244].concat(n?o([],!0):[],e.reduce(function(e,t){var i=t.engine;return e.concat(o(t.events,!n,i.midiTrackName,i.midiInstrument))},[])))}}),t(e,"Extensions/DownloadURL.js",[e["Core/Globals.js"]],function(e){var a=e.isSafari,r=e.win,l=e.win.document,s=r.URL||r.webkitURL||r;function c(e){e=e.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(e&&3<e.length&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&r.Blob&&s.createObjectURL){for(var t=r.atob(e[3]),i=new r.ArrayBuffer(t.length),n=new r.Uint8Array(i),o=0;o<n.length;++o)n[o]=t.charCodeAt(o);return s.createObjectURL(new r.Blob([n],{type:e[1]}))}}return{dataURLtoBlob:c,downloadURL:function(t,e){var i=r.navigator,n=l.createElement("a");if("string"==typeof t||t instanceof String||!i.msSaveOrOpenBlob){t=""+t;var o=/Edge\/\d+/.test(i.userAgent),s=a&&"string"==typeof t&&0===t.indexOf("data:application/pdf");if((s||o||2e6<t.length)&&!(t=c(t)||""))throw new Error("Failed to convert to blob");if(void 0!==n.download)n.href=t,n.download=e,l.body.appendChild(n),n.click(),l.body.removeChild(n);else try{if(!r.open(t,"chart"))throw new Error("Failed to open window")}catch(e){r.location.href=t}}else i.msSaveOrOpenBlob(t,e)}}}),t(e,"Extensions/Sonification/SonificationTimeline.js",[e["Extensions/Sonification/TimelineChannel.js"],e["Extensions/Sonification/MIDI.js"],e["Extensions/DownloadURL.js"],e["Core/Utilities.js"]],function(c,e,t,i){var n=t.downloadURL,h=i.defined,y=i.find,v=i.merge;function o(e,t){this.chart=t,this.isPaused=!1,this.isPlaying=!1,this.channels=[],this.scheduledCallbacks=[],this.playTimestamp=0,this.resumeFromTime=0,this.options=e||{}}return o.prototype.addChannel=function(e,t,i,n){if(void 0===i&&(i=!1),"instrument"===e&&!t.scheduleEventAtTime||"speech"===e&&!t.sayAtTime)throw new Error("Highcharts Sonification: Invalid channel engine.");e=new c(e,t,i,n);return this.channels.push(e),e},o.prototype.play=function(e,t,i,n){var o,s,u=this,h=(void 0===t&&(t=!0),void 0===i&&(i=!0),this.isPlaying?this.cancel():this.clearScheduledCallbacks(),this.onEndArgument=n,this.playTimestamp=Date.now(),this.resumeFromTime=0,this.isPaused=!1,this.isPlaying=!0,this.options.skipThreshold||2),a=this.options.onPlay,p=this.options.showTooltip,m=this.options.showCrosshair,e=e?(o=e,e=this.playingChannels||this.channels,s=(e=e.map(function(e){return e.cancel(),{channel:e,filteredEvents:e.muted?[]:e.events.filter(o)}})).reduce(function(e,t){return Math.min(e,t.filteredEvents.length?t.filteredEvents[0].time:1/0)},1/0),e.map(function(e){return new c(e.channel.type,e.channel.engine,e.channel.showPlayMarker,e.filteredEvents.map(function(e){return v(e,{time:e.time-s})}),e.channel.muted)})):this.channels,f=[],d=(t&&(this.playingChannels=e),a&&a({chart:this.chart,timeline:this}),0),r=(e.forEach(function(s){if(!s.muted)for(var a=s.events.length,r=-1/0,l=-1/0,c="",e=(d=Math.max(s.events[a-1]&&s.events[a-1].time||0,d),function(e){var t=s.events[e],i=(i=t,Object.keys(i.speechOptions||{}).concat(Object.keys(i.instrumentEventOptions||{})).join());if(i===c&&t.time-l<h)return"continue";c=i,l=t.time,"instrument"===s.type?s.engine.scheduleEventAtTime(t.time/1e3,t.instrumentEventOptions||{}):s.engine.sayAtTime(t.time,t.message||"",t.speechOptions||{});var n=t.relatedPoint,o=n&&n.series&&n.series.chart,i=t.callback||n&&(p||m)&&!1!==s.showPlayMarker&&(50<t.time-r||e===a-1);n&&f.push(n),i&&(u.scheduledCallbacks.push(setTimeout(function(){var e;t.callback&&t.callback(),n&&(m&&((e=n.series)&&e.xAxis&&e.xAxis.crosshair&&e.xAxis.drawCrosshair(void 0,n),e&&e.yAxis&&e.yAxis.crosshair&&e.yAxis.drawCrosshair(void 0,n)),!p||o&&o.hoverPoints&&1<o.hoverPoints.length&&y(o.hoverPoints,function(e){return e===n})&&n.onMouseOver||n.onMouseOver())},t.time)),r=t.time)}),t=0;t<a;++t)e(t)}),this.options.onEnd),l=this.options.onStop;this.scheduledCallbacks.push(setTimeout(function(){var e=u.chart,t={chart:e,timeline:u,pointsPlayed:f};u.isPlaying=!1,i&&u.resetPlayState(),l&&l(t),r&&r(t),n&&n(t),e&&(e.tooltip&&e.tooltip.hide(0),e.hoverSeries&&e.hoverSeries.onMouseOut(),e.axes.forEach(function(e){return e.hideCrosshair()}))},d+250)),this.resumeFromTime=t?d:this.getLength()},o.prototype.pause=function(){return this.isPaused=!0,this.cancel(),this.resumeFromTime=Date.now()-this.playTimestamp-10,this.resumeFromTime},o.prototype.getCurrentTime=function(){return this.isPlaying?Date.now()-this.playTimestamp:this.resumeFromTime},o.prototype.getLength=function(){return this.channels.reduce(function(e,t){t=t.events[t.events.length-1];return t?Math.max(t.time,e):e},0)},o.prototype.resume=function(){var t;this.playingChannels?(t=this.resumeFromTime-50,this.play(function(e){return e.time>t},!1,!1,this.onEndArgument),this.playTimestamp-=t):this.play(void 0,!1,!1,this.onEndArgument)},o.prototype.anchorPlayMoment=function(n,e){this.isPlaying&&this.pause();var o=0;this.play(function(e,t,i){t=n(e,t,i);return t&&e.time>o&&(o=e.time),t},!1,!1,e),this.playingChannels=this.playingChannels||this.channels,this.isPaused=!0,this.isPlaying=!1,this.resumeFromTime=o},o.prototype.playAdjacent=function(c,e,t,u){this.isPlaying&&this.pause();var h=this.resumeFromTime,o=this.channels.reduce(function(e,t){for(var i=u?t.events.filter(u):t.events,n=0,o=i.length,s=e;n<o;){var a=n+o>>1,r=i[a].time,l=r-h;0<l?(c&&r<s&&(s=r),o=a):l<0?(!c&&s<r&&(s=r),n=1+a):c?n=1+a:o=a}return s},c?1/0:-1/0);o===1/0||o===-1/0?t&&t({chart:this.chart,timeline:this,attemptedNext:c}):this.anchorPlayMoment(function(e,t,i){var n=c?e.time>h&&e.time<=o+.02:e.time<h&&e.time>=o-.02;return u?n&&u(e,t,i):n},e)},o.prototype.playClosestToPropValue=function(a,r,e,t,l){var c=1/0,u=null;(this.playingChannels||this.channels).forEach(function(e){for(var t,i,n,o=e.events,s=o.length;s--;)t=o[s],i=s,n=o,l&&!l(t,i,n)||!t.relatedPoint||(i=o[s].relatedPoint[a],!1!==(n=h(i)&&Math.abs(r-i))&&n<c&&(c=n,u=o[s]))}),u?(this.play(function(e){return!!(u&&e.time<u.time+1&&e.time>u.time-1&&e.relatedPoint===u.relatedPoint)},!1,!1,e),this.playingChannels=this.playingChannels||this.channels,this.isPaused=!0,this.isPlaying=!1,this.resumeFromTime=u.time):t&&t({chart:this.chart,timeline:this})},o.prototype.getEventsForPoint=function(i){return this.channels.reduce(function(e,t){t=t.events.filter(function(e){return e.relatedPoint===i});return e.concat(t)},[])},o.prototype.playSegment=function(e,t){var i,a,r,n={first:1/0,last:-1/0};this.channels.forEach(function(e){e.events.length&&(n.first=Math.min(e.events[0].time,n.first),n.last=Math.max(e.events[e.events.length-1].time,n.last))}),n.first<1/0&&(i=(n.last-n.first)/100,a=n.first+e*i,r=a+i,this.channels.some(function(e){for(var t=e.events,i=0,n=t.length;i<n;){var o=i+n>>1,s=t[o].time;if(s<a)i=1+o;else{if(!(r<s))return!0;n=o}}return!1})&&(this.play(function(e){return e.time>=a&&e.time<=r},!1,!1,t),this.playingChannels=this.playingChannels||this.channels,this.isPaused=!0,this.isPlaying=!1,this.resumeFromTime=r))},o.prototype.getLastPlayedPoint=function(n){var o=this.getCurrentTime(),e=this.playingChannels||this.channels,i=1/0,s=null;return e.forEach(function(e){var t,e=e.events.filter(function(e,t,i){return!(!(e.relatedPoint&&e.time<=o)||n&&!n(e,t,i))}),e=e[e.length-1];e&&(t=e.time,(t=Math.abs(t-o))<i&&(i=t,s=e.relatedPoint))}),s},o.prototype.reset=function(){this.isPlaying&&this.cancel(),this.resetPlayState()},o.prototype.cancel=function(){var e=this.options.onStop;e&&e({chart:this.chart,timeline:this}),this.isPlaying=!1,this.channels.forEach(function(e){return e.cancel()}),this.playingChannels&&this.playingChannels!==this.channels&&this.playingChannels.forEach(function(e){return e.cancel()}),this.clearScheduledCallbacks(),this.resumeFromTime=0},o.prototype.destroy=function(){this.cancel(),this.playingChannels&&this.playingChannels!==this.channels&&this.playingChannels.forEach(function(e){return e.destroy()}),this.channels.forEach(function(e){return e.destroy()})},o.prototype.setMasterVolume=function(t){this.channels.forEach(function(e){return e.engine.setMasterVolume(t)})},o.prototype.getMIDIData=function(){return e(this.channels.filter(function(e){return"instrument"===e.type}))},o.prototype.downloadMIDI=function(e){var t=this.getMIDIData(),e=(e||this.chart&&this.chart.options.title&&this.chart.options.title.text||"chart")+".mid",t=new Blob([t],{type:"application/octet-stream"}),t=window.URL.createObjectURL(t);n(t,e),window.URL.revokeObjectURL(t)},o.prototype.resetPlayState=function(){delete this.playingChannels,delete this.onEndArgument,this.playTimestamp=this.resumeFromTime=0,this.isPaused=!1},o.prototype.clearScheduledCallbacks=function(){this.scheduledCallbacks.forEach(clearTimeout),this.scheduledCallbacks=[]},o}),t(e,"Extensions/Sonification/TimelineFromChart.js",[e["Extensions/Sonification/SonificationTimeline.js"],e["Extensions/Sonification/SonificationInstrument.js"],e["Extensions/Sonification/SonificationSpeaker.js"],e["Core/Utilities.js"],e["Core/Templating.js"]],function(i,m,s,e,t){var f=this&&this.__assign||function(){return(f=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=e.clamp,w=e.defined,M=e.extend,x=e.getNestedProperty,b=e.merge,C=e.pick,p=t.format,d=function(e){return/^([a-g][#b]?)[0-8]$/i.test(e)};function A(e,t){var i;if(t){if("number"==typeof(i=e[t]))return i;i=x(t,e)}return"number"==typeof i?i:void 0}function n(e){function o(t,i){Object.keys(t).forEach(function(e){return h(e,t[e],i)})}function s(e){e.forEach(function(e){c[e.valueProp||"x"]=u[e.valueProp||"x"]=!0})}var t=e.options.sonification||{},i=(t.defaultInstrumentOptions||{}).mapping||{time:"x",pitch:"y"},n=t.defaultSpeechOptions&&t.defaultSpeechOptions.mapping||{},a=[],r={},l=function(e,t){null!==t?(a[t]=a[t]||{},a[t][e]=!0):r[e]=!0},c={},u={},h=function(e,t,i){function n(e){return"-"===e.charAt(0)?e.slice(1):e}var o,s;return"string"==typeof t&&"text"!==e?"pitch"===e&&d(t)?void 0:("time"===e&&(u[t]=!0,l(t,i)),void(c[n(t)]=!0)):(o=t)&&o.mapTo&&"string"==typeof o.mapTo?(s=n(o.mapTo),"time"===e&&l(s,i),"time"!==e&&"series"!==o.within||(u[s]=!0),void(c[s]=!0)):void(-1<["tremolo","lowpass","highpass"].indexOf(e)&&"object"==typeof t&&Object.keys(t).forEach(function(e){return h(e,t[e],i)}))},p=(o(i,null),o(n,null),s(t.globalContextTracks||[]),Object.keys(r).length);return e.series.forEach(function(t){var e,i,n=t.options.sonification;!t.visible||n&&!1===n.enabled||(p&&(a[t.index]=b(r)),n&&(e=(n.defaultInstrumentOptions||{}).mapping,i=(n.defaultSpeechOptions||{}).mapping,e&&o(e,t.index),i&&o(i,t.index),s(n.contextTracks||[]),(n.tracks||[]).concat(n.contextTracks||[]).forEach(function(e){e.mapping&&o(e.mapping,t.index)})))}),f({seriesTimeProps:a},function(e,t,i){for(var n=e.series,o=t.length,s=i.length,a=function(e){return e.reduce(function(e,t){return e[t]={min:1/0,max:-1/0},e},{})},r=function(e,t,i){var n=t[i];"number"==typeof(n=void 0===n?x(i,t):n)&&(e[i].min=Math.min(e[i].min,n),e[i].max=Math.max(e[i].max,n))},l=a(t),c=n.length,u=new Array(c);c--;){var h=a(i),p=n[c].options;if(!(!n[c].visible||p&&p.sonification&&!1===p.sonification.enabled)){for(var m=n[c].points||[],f=m.length;f--;){for(var d=o;d--;)r(l,m[f],t[d]);for(d=s;d--;)r(h,m[f],i[d])}u[c]=h}}return{globalExtremes:l,seriesExtremes:u}}(e,Object.keys(c),Object.keys(u)))}function O(e,t,i,n,o){var s=t.max-t.min;if(s<=0)return i.min;var a,r=i.max-i.min,s=r*(e-t.min)/s,r=(o&&(a=(o=0<t.min?function(e){return Math.log(e)/Math.LOG10E}:function(e){var t=Math.abs(e),t=(t<10&&(t+=(10-t)/10),Math.log(t)/Math.LN10);return e<0?-t:t})(t.min),s=r*(o(e)-a)/(o(t.max)-a)),n?i.max-s:i.min+s);return l(r,i.min,i.max)}function I(e,t,i,n,o,s,a){return C(function(e,t,i,n,o,s){if("number"==typeof o)return o;if("function"==typeof o)return o(M({time:0},e));var a,r=o,l=n.mapFunction,c=n.min,u=n.max,h=n.within;if("object"==typeof o&&(r=o.mapTo,l=o.mapFunction||l,c=C(o.min,c),u=C(o.max,u),h=o.within||n.within,a=o.scale),!r)return null;(n="-"===r.charAt(0))&&(r=r.slice(1));var p=e.value,m="value"===r&&void 0!==p&&s;if(!m){o=o.value;if(void 0!==o)p=o;else{if(!e.point)return null;p=e.point[r]}void 0===p&&(p=x(r,e.point))}if("number"!=typeof p||null===p)return null;if(o=null,e.point&&("xAxis"===h||"yAxis"===h?(d=e.point.series[h])&&w(d.dataMin)&&w(d.dataMax)&&(o={min:d.dataMin,max:d.dataMax}):("series"===h||i)&&e.point.series&&(o=t.seriesExtremes[e.point.series.index][m?s:r])),o=o||t.globalExtremes[m?s:r],a){for(var f=[],d=Math.floor(c/12),y=Math.ceil(u/12)+1,v=a.length,g=d;g<y;++g)for(var q=0;q<v;++q){var T=12*g+a[q];c<=T&&T<=u&&f.push(T)}h=O(p,o,{min:0,max:f.length-1},n,"logarithmic"===l);return f[Math.round(h)]}return O(p,o,{min:c,max:u},n,"logarithmic"===l)}(e,t,i,M({min:0,max:1,mapTo:"y",mapFunction:"linear",within:"chart"},s||{}),n,a),o)}function V(e,t,i,n){var o=n.mapping||{},t="speech"===n.type?new s({language:n.language,name:n.preferredVoice}):new m(t,i,{capabilities:{pan:!!o.pan,tremolo:!!o.tremolo,filters:!(!o.highpass&&!o.lowpass)},synthPatch:n.instrument,midiTrackName:n.midiName});return e.addChannel(n.type||"instrument",t,C(n.showPlayMarker,!0))}function j(o,n,s,a,r,l){function e(e,t,i,n){return I(o,a,!1,(n||s)[e],t,i,l)}function t(e,t){void 0===t&&(t=0);var i=e;e.mapTo?("string"==typeof e.min&&(i.min=m.noteStringToC0Distance(e.min)),"string"==typeof e.max&&(i.max=m.noteStringToC0Distance(e.max))):"string"==typeof e&&d(e)&&(i=m.noteStringToC0Distance(e)),u.note=I(o,a,!1,i,-1,{min:0,max:107},l),-1<u.note&&(r&&(u.note=Math.round(u.note)),c.push(n.addEvent({time:o.time+p+h*t,relatedPoint:o.point,instrumentEventOptions:void 0!==t?M({},u):u})))}var c=[],u={noteDuration:e("noteDuration",200,{min:40,max:1e3}),pan:e("pan",0,{min:-1,max:1}),volume:e("volume",1,{min:.1,max:1})},h=(s.frequency&&(u.frequency=e("frequency",440,{min:50,max:6e3})),s.lowpass&&(u.lowpassFreq=e("frequency",2e4,{min:0,max:2e4},s.lowpass),u.lowpassResonance=e("resonance",0,{min:-6,max:12},s.lowpass)),s.highpass&&(u.highpassFreq=e("frequency",2e4,{min:0,max:2e4},s.highpass),u.highpassResonance=e("resonance",0,{min:-6,max:12},s.highpass)),s.tremolo&&(u.tremoloDepth=e("depth",0,{min:0,max:.8},s.tremolo),u.tremoloSpeed=e("speed",0,{min:0,max:.8},s.tremolo)),e("gapBetweenNotes",150,{min:50,max:1e3})),p=e("playDelay",0,{max:200});return s.pitch&&s.pitch.constructor===Array?s.pitch.forEach(t):s.pitch?t(s.pitch):s.frequency&&c.push(n.addEvent({time:o.time+p,relatedPoint:o.point,instrumentEventOptions:u})),c}function F(n,e,o,s,a){function t(e,t,i){return I(n,s,!1,o[e],t,i,a)}var i,r=t("playDelay",0,{max:200}),l=t("pitch",1,{min:.3,max:2}),c=t("rate",1,{min:.4,max:4}),u=t("volume",1,{min:.1}),h=(i=n,h=o.text,p("function"==typeof h?h(i):h,i,i.point&&i.point.series.chart));if(h)return e.addEvent({time:n.time+r,relatedPoint:n.point,speechOptions:{pitch:l,rate:c,volume:u},message:h})}function D(e,t){function i(e){return t[e]?[t[e].point]:[]}var n=e.algorithm||"minmax";if("first"===n)return i(0);if("last"===n)return i(t.length-1);if("middle"===n)return i(t.length>>1);if("firstlast"===n)return i(0).concat(i(t.length-1));if("minmax"===n){var o,s,a,r,l=e.prop||"y";if(t.forEach(function(e){var t=A(e.point,l);void 0!==t&&((!o||t<a)&&(o=e,a=t),(!s||r<t)&&(s=e,r=t))}),o&&s)return o.point===s.point?[o.point]:o.time>s.time?[s.point,o.point]:[o.point,s.point]}return[]}function Q(e,t,i){if("function"==typeof t)return t(e);if("object"!=typeof t)return 1;var n,o,s,a=t.prop,e=C(e.value,e.point&&A(e.point,a));if("number"==typeof e)return a=!0,o=t.crossingUp,n=t.crossingDown,s="number"==typeof i,a=o&&n?s&&(i<o&&o<=e||n<i&&e<=n):(void 0===o||s&&i<o&&o<=e)&&(void 0===n||s&&n<i&&e<=n),o=C(t.max,1/0),s=C(t.min,-1/0),e<=o&&s<=e&&a}return function(q,T,e){var t=e.options.sonification||{},p=t.defaultInstrumentOptions,m=t.defaultSpeechOptions,c=b({enabled:!0,groupTimespan:15,algorithm:"minmax",prop:"y"},t.pointGrouping),u=t.globalTracks||[],f=t.globalContextTracks||[],w="sequential"===t.order,x=Math.max(50,t.duration-300),E=t.afterSeriesWait,S=t.events||{},N=n(e),k=new i({onPlay:S.onPlay,onEnd:S.onEnd,onStop:S.onStop,showCrosshair:t.showCrosshair,showTooltip:t.showTooltip},e),P=(e.sonification&&(e.sonification.propMetrics=N),0);return e.series.forEach(function(d,h){var y,t,i,n,v,g,e,o,s,a,r,l=d.options.sonification||{};d.visible&&!1!==l.enabled&&(y=w?(o=x,s=N,a=E,o-=((e=d).chart.series.length-1)*a,s=s.seriesTimeProps.every(function(e){e=Object.keys(e);return!(1<e.length)&&(r=r||e[0])===e[0]})?(a=(a=s.seriesExtremes[e.index][r]).max-a.min,s=s.seriesExtremes.reduce(function(e,t){return t[r]?e+t[r].max-t[r].min:e},0),Math.round(a/s*o)):(a=e.chart.series.reduce(function(e,t){return e+t.points.length},0),Math.round((e.points||[]).length/a*o)),Math.max(50,s)):x,t=b(p,l.defaultInstrumentOptions),i=b(m,l.defaultSpeechOptions),n=b(c,l.pointGrouping),e=(l.tracks||[t]).concat(u),a=!!k.channels.length&&!w?l.contextTracks||[]:(l.contextTracks||[]).concat(f),v=[],e.forEach(function(e){function a(e){"object"==typeof u&&u.prop&&(g=A(e,u.prop))}function r(e){var t,i;1===m.length?p({point:m[0].point,time:f+e/2}):(t=D(c,m),i=e/t.length,t.forEach(function(e,t){return p({point:e,time:f+i/2+i*t})})),m=[]}var l=b({pointGrouping:n,midiName:e.midiName||d.name},"speech"===e.type?i:t,e),c=l.pointGrouping,u=l.activeWhen,h=V(k,q,T,l),p=function(e){return v.push.apply(v,(e=e,t=h,n=N,s=[],"speech"===(i=l).type&&i.mapping?(o=F(e,t,i.mapping,n))&&(s=[o]):i.mapping&&(s=j(e,t,i.mapping,n,C(i.roundToMusicalNotes,!0))),s));var t,i,n,o,s},m=[],f=0;(d.points||[]).forEach(function(e,t){var i,n,t=t===d.points.length-1,o=(s=P,o=l.mapping&&l.mapping.time||0,I({point:e,time:0},N,w,o,0,{min:0,max:y,mapTo:"x"})+s),s={point:e,time:o};if(!l.mapping||!Q(s,u,g))return a(e),void(t&&m.length&&r(m[m.length-1].time-m[0].time));a(e),c.enabled?(e=o-f,i=c.groupTimespan,n=t&&e<=i?e:i,t||i<e?(e<=i&&m.push(s),r(n),f=Math.floor(o/i)*i,t&&i<e?p({point:s.point,time:f+n/2}):m=[s]):m.push(s)):p(s)})}),o=v.reduce(function(e,t){return t.time<e.time?t:e},{time:1/0}),s=v.reduce(function(e,t){return t.time>e.time?t:e},{time:-1/0}),o.callback=S.onSeriesStart?S.onSeriesStart.bind(null,{series:d,timeline:k}):void 0,s.callback=S.onSeriesEnd?S.onSeriesEnd.bind(null,{series:d,timeline:k}):void 0,a.forEach(function(e){function t(e,t){i.mapping&&Q({time:e,value:t},"object"==typeof r?M({prop:a},r):r,g)?(g=t,"speech"===i.type?F({time:e,value:t},n,i.mapping,N,a):j({time:e,value:t},n,i.mapping,N,C(i.roundToMusicalNotes,!0),a)):g=t}var i="speech"===e.type?b(m,e):b(p,{mapping:{pitch:{mapTo:"value"}}},e),n=V(k,q,T,i),o=(g=void 0,i.timeInterval),s=i.valueInterval,a=i.valueProp||"x",r=i.activeWhen,l=N.seriesExtremes[h][a];if(o)for(var c=0;c<=y;){var u=O(c,{min:0,max:y},l);t(c+P,u),c+=o}if(s)for(u=l.min;u<=l.max;)t((c=O(u,l,{min:0,max:y},!1,"logarithmic"===i.valueMapFunction))+P,u),u+=s}),w&&(P+=y+E))}),k}}),t(e,"Extensions/Sonification/Sonification.js",[e["Core/Defaults.js"],e["Core/Utilities.js"],e["Core/Globals.js"],e["Extensions/Sonification/Options.js"],e["Extensions/Sonification/SonificationInstrument.js"],e["Extensions/Sonification/SonificationSpeaker.js"],e["Extensions/Sonification/SynthPatch.js"],e["Extensions/Sonification/InstrumentPresets.js"],e["Extensions/Sonification/TimelineFromChart.js"]],function(e,t,i,n,s,o,a,r,l){var c,u,h=e.defaultOptions,p=e.getOptions,m=t.addEvent,f=t.extend,d=t.fireEvent,y=t.merge,v=t.pick,g=i.doc,q=i.win,e=(T.prototype.setAudioDestination=function(e){this.audioDestination=e,this.update()},T.prototype.isPlaying=function(){return!!this.timeline&&this.timeline.isPlaying},T.prototype.playSegment=function(e,t){this.ready(this.playSegment.bind(this,e,t))&&this.timeline&&this.timeline.playSegment(e,t)},T.prototype.playAdjacent=function(e,t,i){var n,o=this;this.ready(this.playAdjacent.bind(this,e,t,i))&&this.timeline&&((n=(n=this.chart.options.sonification)&&n.events&&n.events.onBoundaryHit)||this.initBoundaryInstrument(),this.timeline.playAdjacent(e,t,n||function(){o.defaultBoundaryHit()},i))},T.prototype.playAdjacentSeries=function(e,t,i){void 0===t&&(t="x");var n,o=this.getLastPlayedPoint();return o?(n=o.series.index+(e?1:-1),this.playClosestToProp(t,o[t],function(e){return!!e.relatedPoint&&e.relatedPoint.series.index===n},i),this.chart.series[n]||null):null},T.prototype.playClosestToProp=function(e,t,i,n){var o,s=this;this.ready(this.playClosestToProp.bind(this,e,t,i,n))&&this.timeline&&((o=(o=this.chart.options.sonification)&&o.events&&o.events.onBoundaryHit)||this.initBoundaryInstrument(),this.timeline.playClosestToPropValue(e,t,n,o||function(){return s.defaultBoundaryHit()},i))},T.prototype.getLastPlayedPoint=function(){return this.timeline?this.timeline.getLastPlayedPoint():null},T.prototype.playNote=function(e,t,i){var n,o;void 0===i&&(i=0),this.ready(this.playNote.bind(this,e,t))&&(n=t.noteDuration=t.noteDuration||500,(o=new s(this.audioContext,this.audioDestination,{synthPatch:e,capabilities:{filters:!0,tremolo:!0,pan:!0}})).scheduleEventAtTime(i/1e3,t),setTimeout(function(){return o&&o.destroy()},i+n+500))},T.prototype.speak=function(e,t,i){void 0===i&&(i=0),new o(y({language:"en-US",rate:1.5,volume:.4},t||{})).sayAtTime(i,e)},T.prototype.cancel=function(){this.timeline&&this.timeline.cancel(),d(this,"cancel")},T.prototype.downloadMIDI=function(){this.ready(this.downloadMIDI.bind(this))&&this.timeline&&(this.timeline.reset(),this.timeline.downloadMIDI())},T.prototype.sonifyChart=function(e,t){this.ready(this.sonifyChart.bind(this,e,t))&&this.timeline&&(this.timeline.reset(),this.beforePlay(),this.timeline.play(void 0,void 0,e,t))},T.prototype.sonifySeries=function(t,e,i){this.ready(this.sonifySeries.bind(this,t,e,i))&&this.timeline&&(this.timeline.reset(),this.beforePlay(),this.timeline.play(function(e){return!!e.relatedPoint&&e.relatedPoint.series===t},void 0,e,i))},T.prototype.sonifyPoint=function(t,e){this.ready(this.sonifyPoint.bind(this,t,e))&&this.timeline&&(this.timeline.reset(),this.beforePlay(),this.timeline.anchorPlayMoment(function(e){return e.relatedPoint===t},e))},T.prototype.setMasterVolume=function(e){this.timeline&&this.timeline.setMasterVolume(e)},T.prototype.destroy=function(){this.unbindKeydown(),this.timeline&&(this.timeline.destroy(),delete this.timeline),this.boundaryInstrument&&this.boundaryInstrument.stop(),this.audioContext&&(this.audioContext.close(),delete this.audioContext)},T.prototype.update=function(){var e=this.chart.options&&this.chart.options.sonification;if(this.ready(this.update.bind(this))&&e){var t=Date.now(),i=e.updateInterval;if(t-this.lastUpdate<i&&!this.forceReady)return clearTimeout(this.scheduledUpdate),void(this.scheduledUpdate=setTimeout(this.update.bind(this),i/2));i=e.events||{};i.beforeUpdate&&i.beforeUpdate({chart:this.chart,timeline:this.timeline}),this.lastUpdate=t,this.timeline&&this.timeline.destroy(),this.audioContext&&this.audioDestination&&(this.timeline=l(this.audioContext,this.audioDestination,this.chart),e=this.chart.options.sonification,this.timeline.setMasterVolume(v(e&&e.masterVolume,1))),i.afterUpdate&&i.afterUpdate({chart:this.chart,timeline:this.timeline})}},T.prototype.ready=function(e){var t=this;return!(!(this.audioContext&&this.audioDestination&&this.chart.options)||this.chart.options.sonification&&!1===this.chart.options.sonification.enabled)&&("suspended"!==this.audioContext.state||this.forceReady?!(this.retryContextCounter=0):(this.retryContextCounter++<20&&setTimeout(function(){t.audioContext&&"suspended"===t.audioContext.state?t.audioContext.resume().then(e):e()},5),!1))},T.prototype.beforePlay=function(){var e=this.chart.options.sonification,e=e&&e.events&&e.events.beforePlay;e&&e({chart:this.chart,timeline:this.timeline})},T.prototype.initBoundaryInstrument=function(){this.boundaryInstrument||(this.boundaryInstrument=new a(this.audioContext,y(r.chop,{masterVolume:.3})),this.boundaryInstrument.startSilently(),this.boundaryInstrument.connect(this.audioDestination))},T.prototype.defaultBoundaryHit=function(){this.boundaryInstrument&&(this.boundaryInstrument.playFreqAtTime(.1,1,200),this.boundaryInstrument.playFreqAtTime(.2,1,200))},T);function T(t){this.chart=t,this.retryContextCounter=0,this.lastUpdate=0,this.unbindKeydown=m(g,"keydown",function(e){t&&t.sonification&&("Esc"===e.key||"Escape"===e.key)&&t.sonification.cancel()});try{this.audioContext=new q.AudioContext,this.audioContext.suspend(),this.audioDestination=this.audioContext.destination}catch(e){}}function w(){var e=this.sonification,t=this.options&&this.options.sonification;t&&t.enabled?e?e.update():(this.sonification=new c(this),this.sonification.update()):e&&(e.destroy(),delete this.sonification)}function x(){this&&this.sonification&&this.sonification.destroy()}function E(){this.updateSonificationEnabled&&this.updateSonificationEnabled()}function S(e){e=e.options.sonification;e&&(y(!0,this.options.sonification,e),E.call(this))}return c=e=T||{},u=[],c.compose=function(e,t,i){-1===u.indexOf(e)&&(u.push(e),f(e.prototype,{updateSonificationEnabled:w,sonify:function(e){this.sonification&&this.sonification.sonifyChart(!1,e)},toggleSonify:function(e,t){var i;void 0===e&&(e=!0),this.sonification&&(i=this.sonification.timeline,q.speechSynthesis&&q.speechSynthesis.cancel(),i&&this.sonification.isPlaying()?e?this.sonification.cancel():i.pause():i&&i.isPaused?i.resume():this.sonification.sonifyChart(e,t))}}),m(e,"destroy",x),m(e,"render",E),m(e,"update",S)),-1===u.indexOf(t)&&(u.push(t),t.prototype.sonify=function(e){this.chart.sonification&&this.chart.sonification.sonifySeries(this,!1,e)}),-1===u.indexOf(i)&&(u.push(i),i.prototype.sonify=function(e){this.series.chart.sonification&&this.series.chart.sonification.sonifyPoint(this,e)}),(e=p().exporting)&&e.buttons&&e.buttons.contextButton.menuItems&&e.buttons.contextButton.menuItems.push("separator","downloadMIDI","playAsSound")},y(!0,h,n),e}),t(e,"Extensions/Sonification/Scales.js",[],function(){return{minor:[0,2,3,5,7,8,10],dorian:[0,2,3,5,7,9,10],harmonicMinor:[0,2,3,5,7,8,11],phrygian:[0,1,3,5,7,8,11],major:[0,2,4,5,7,9,11],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],majorPentatonic:[0,2,4,7,9],minorPentatonic:[0,3,5,7,10]}}),t(e,"masters/modules/sonification.src.js",[e["Core/Globals.js"],e["Extensions/Sonification/Sonification.js"],e["Extensions/Sonification/SynthPatch.js"],e["Extensions/Sonification/InstrumentPresets.js"],e["Extensions/Sonification/Scales.js"],e["Extensions/Sonification/SonificationInstrument.js"],e["Extensions/Sonification/SonificationSpeaker.js"],e["Extensions/Sonification/SonificationTimeline.js"]],function(e,t,i,n,o,s,a,r){e.sonification={InstrumentPresets:n,Scales:o,SynthPatch:i,SonificationInstrument:s,SonificationSpeaker:a,SonificationTimeline:r,Sonification:t},t.compose(e.Chart,e.Series,e.Point)})});