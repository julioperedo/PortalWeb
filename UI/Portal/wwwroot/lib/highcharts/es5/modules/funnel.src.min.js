!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/Funnel/FunnelSeriesDefaults.js",[],function(){return{animation:!1,borderRadius:0,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:"#cccccc",borderColor:"#000000"}}}}),e(t,"Series/Funnel/FunnelSeries.js",[t["Series/Funnel/FunnelSeriesDefaults.js"],t["Core/Globals.js"],t["Extensions/BorderRadius.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,X,i,n){var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),U=e.noop,e=i.seriesTypes,s=e.column,a=e.pie,d=n.addEvent,e=n.extend,q=n.fireEvent,l=n.isArray,h=n.merge,G=n.pick,p=n.pushUnique,N=n.relativeLength,u=n.splat,f=i.series.prototype.alignDataLabel;function V(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}r(g,c=a),g.prototype.alignDataLabel=function(t,e,i,n,o){var r=t.series,s=r.options.reversed,a=t.dlBox||t.shapeArgs,d=i.align,l=i.verticalAlign,h=((r.options||{}).dataLabels||{}).inside,p=r.center[1],p=s?2*p-t.plotY:t.plotY,p=r.getWidthAt(p-a.height/2+e.height),p="middle"===l?(a.topWidth-a.bottomWidth)/4:(p-a.bottomWidth)/2,u=a.y,c=a.x,y=G(e.height,e.getBBox().height);"middle"===l?u=a.y-a.height/2+y/2:"top"===l&&(u=a.y-a.height+y+(i.padding||0)),("top"===l&&!s||"bottom"===l&&s||"middle"===l)&&("right"===d?c=a.x-i.padding+p:"left"===d&&(c=a.x+i.padding-p)),n={x:c,y:s?u-a.height:u,width:a.bottomWidth,height:a.height},i.verticalAlign="bottom",h&&!t.visible||f.call(r,t,e,i,n,o),h&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))},g.prototype.drawDataLabels=function(){(u(this.options.dataLabels)[0].inside?s:a).prototype.drawDataLabels.call(this)},g.prototype.getDataLabelPosition=function(t,e){var i=t.plotY||0,n=t.half?1:-1,o=this.getX(i,!!t.half,t);return{distance:e,natural:{x:0,y:i},computed:{},alignment:t.half?"right":"left",connectorPosition:{breakAt:{x:o+(e-5)*n,y:i},touchingSliceAt:{x:o+e*n,y:i}}}},g.prototype.translate=function(){function t(t){var e=Math.tan(t/2),i=Math.cos(C),n=Math.sin(C),o=I,r=o/e,t=Math.tan((Math.PI-t)/3.2104);return P<r&&(o=(r=P)*e),{dx:[r*i,(r-(t*=o))*i,r-t,r],dy:[r*n,(r-t)*n,r-t,r].map(function(t){return s?-t:t})}}var e,i,n=this,o=n.chart,r=n.options,s=r.reversed,a=r.ignoreHiddenPoint,d=X.optionsToObject(r.borderRadius),l=o.plotWidth,o=o.plotHeight,h=r.center,p=V(h[0],l),u=V(h[1],o),c=V(r.width,l),y=V(r.height,o),f=V(r.neckWidth,l),g=V(r.neckHeight,o),x=u-y/2+y-g,v=n.data,I=N(d.radius,c),b=d.scope,Y="left"===r.dataLabels.position?1:0,m=0,B=0;n.getWidthAt=function(t){return x<t||y===g?f:f+(c-f)*(1-(t-(u-y/2))/(y-g))},n.getX=function(t,e,i){return p+(e?-1:1)*(n.getWidthAt(s?2*u-t:t)/2+(null!=(i=null==(t=null==(e=i.dataLabel)?void 0:e.dataLabelPosition)?void 0:t.distance)?i:N((null==(e=this.options.dataLabels)?void 0:e.distance)||0,c)))},n.center=[p,u,y],n.centerX=p;for(var L=0,E=v;L<E.length;L++)!(O=E[L]).y||!O.isValid()||a&&!1===O.visible||(m+=O.y);for(var S=0,T=v;S<T.length;S++){var j,R,C,P,_,M,A,W,O=T[S],w=null,k=m?O.y/m:0,D=(A=u-y/2+B*y)+k*y,F=n.getWidthAt(A),H=(W=p-F/2)+F;F=n.getWidthAt(D),i=(e=p-F/2)+F,x<A?(W=e=p-f/2,H=i=p+f/2):x<D&&(w=D,F=n.getWidthAt(x),i=(e=p-F/2)+F,D=x),s&&(A=2*u-A,D=2*u-D,null!==w&&(w=2*u-w)),!I||"point"!==b&&0!==O.index&&O.index!==v.length-1&&null===w?(M=[["M",W,A],["L",H,A],["L",i,D]],null!==w&&M.push(["L",i,w],["L",e,w]),M.push(["L",e,D])):(F=Math.abs(D-A),_=H-i,j=i-e,R=Math.sqrt(_*_+F*F),C=Math.atan(F/_),P=R/2,null!==w&&(P=Math.min(P,Math.abs(w-D)/2)),1<=j&&(P=Math.min(P,j/2)),F=t(C),M="stack"===b&&0!==O.index?[["M",W,A],["L",H,A]]:[["M",W+F.dx[0],A+F.dy[0]],["C",W+F.dx[1],A+F.dy[1],W+F.dx[2],A,W+F.dx[3],A],["L",H-F.dx[3],A],["C",H-F.dx[2],A,H-F.dx[1],A+F.dy[1],H-F.dx[0],A+F.dy[0]]],null!==w?(_=t(Math.PI/2),F=t(Math.PI/2+C),M.push(["L",i+F.dx[0],D-F.dy[0]],["C",i+F.dx[1],D-F.dy[1],i,D+F.dy[2],i,D+F.dy[3]]),"stack"===b&&O.index!==v.length-1?M.push(["L",i,w],["L",e,w]):M.push(["L",i,w-_.dy[3]],["C",i,w-_.dy[2],i-_.dx[2],w,i-_.dx[3],w],["L",e+_.dx[3],w],["C",e+_.dx[2],w,e,w-_.dy[2],e,w-_.dy[3]]),M.push(["L",e,D+F.dy[3]],["C",e,D+F.dy[2],e-F.dx[1],D-F.dy[1],e-F.dx[0],D-F.dy[0]])):1<=j?(F=t(Math.PI-C),"stack"===b&&0===O.index?M.push(["L",i,D],["L",e,D]):M.push(["L",i+F.dx[0],D-F.dy[0]],["C",i+F.dx[1],D-F.dy[1],i-F.dx[2],D,i-F.dx[3],D],["L",e+F.dx[3],D],["C",e+F.dx[2],D,e-F.dx[1],D-F.dy[1],e-F.dx[0],D-F.dy[0]])):(F=t(Math.PI-2*C),M.push(["L",e+F.dx[0],D-F.dy[0]],["C",e+F.dx[1],D-F.dy[1],e-F.dx[1],D-F.dy[1],e-F.dx[0],D-F.dy[0]]))),M.push(["Z"]),O.shapeType="path",O.shapeArgs={d:M},O.percentage=100*k,O.plotX=p,O.plotY=(A+(w||D))/2,O.tooltipPos=[p,O.plotY],O.dlBox={x:e,y:A,topWidth:H-W,bottomWidth:i-e,height:Math.abs(G(w,D)-A),width:NaN},O.slice=U,O.half=Y,!O.isValid()||a&&!1===O.visible||(B+=k)}q(n,"afterTranslate")},g.prototype.sortByAngle=function(t){t.sort(function(t,e){return t.plotY-e.plotY})},g.defaultOptions=h(a.defaultOptions,t);var c,y,n=g;function g(){var t=null!==c&&c.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}function x(){for(var t=0,e=this.series;t<e.length;t++){var i=e[t],n=i.options&&i.options.dataLabels;l(n)&&(n=n[0]),i.is("pie")&&i.placeDataLabels&&n&&!n.inside&&i.placeDataLabels()}}return e(n.prototype,{animate:U}),n=n||{},y=[],n.compose=function(t){p(y,t)&&d(t,"afterHideAllOverlappingLabels",x)},i.registerSeriesType("funnel",n),n}),e(t,"Series/Pyramid/PyramidSeriesDefaults.js",[],function(){return{neckWidth:"0%",neckHeight:"0%",reversed:!0}}),e(t,"Series/Pyramid/PyramidSeries.js",[t["Series/Funnel/FunnelSeries.js"],t["Series/Pyramid/PyramidSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,n){var o,r,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=n.merge,s=(s(a,r=t),a.defaultOptions=n(t.defaultOptions,e),a);function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return i.registerSeriesType("pyramid",s),s}),e(t,"masters/modules/funnel.src.js",[t["Core/Globals.js"],t["Series/Funnel/FunnelSeries.js"]],function(t,e){e.compose(t.Chart)})});