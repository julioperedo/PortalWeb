!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/DrawPointUtilities.js",[t["Core/Utilities.js"]],function(t){var l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};t.isNumber;return{draw:function(t,e){var o=e.animatableAttribs,i=e.onComplete,n=e.css,r=e.renderer,a=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,s=t.graphic;e.attribs=l(l({},e.attribs),{class:t.getClassName()})||{},t.shouldDraw()?(s||(s="text"===e.shapeType?r.text():"image"===e.shapeType?r.image(e.imageUrl||"").attr(e.shapeArgs||{}):r[e.shapeType](e.shapeArgs||{}),(t.graphic=s).add(e.group)),n&&s.css(n),s.attr(e.attribs).animate(o,!e.isNew&&a,i)):s&&(r=function(){t.graphic=s=s&&s.destroy(),"function"==typeof i&&i()},Object.keys(o).length?s.animate(o,void 0,r):r())}}}),e(t,"Series/Wordcloud/WordcloudPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.seriesTypes.column.prototype.pointClass,e=e.extend,n=(n(r,o=t),r.prototype.isValid=function(){return!0},r);function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.dimensions=void 0,t.options=void 0,t.polygon=void 0,t.rect=void 0,t.series=void 0,t}return e(n.prototype,{weight:1}),n}),e(t,"Series/Wordcloud/WordcloudSeriesDefaults.js",[],function(){return{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}}}),e(t,"Series/Wordcloud/WordcloudUtils.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var n=t.deg2rad,f=e.extend,s=e.find,r=e.isNumber,m=e.isObject,a=e.merge;function l(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function o(t){var r=t.axes||[];return r.length||(r=[],t.concat([t[0]]).reduce(function(t,e){i=(o=e)[0]-t[0];var o,i,n=[[-(o=e[1]-t[1]),i],[o,-i]][0];return s(r,function(t){return t[0]===n[0]&&t[1]===n[1]})||r.push(n),e}),t.axes=r),r}function u(t,o){t=t.map(function(t){var e=t[0],t=t[1];return e*o[0]+t*o[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function d(i,n){var t=o(i),e=o(n),t=t.concat(e);return!s(t,function(t){return o=n,e=u(e=i,t=t),!!((o=u(o,t)).min>e.max||o.max<e.min);var e,o})}function y(o,t){function i(t){var e=l(n,t.rect);return e=e&&(o.rotation%90||t.rotation%90)?d(r,t.polygon):e}var n=o.rect,r=o.polygon,e=o.lastCollidedWith,a=!1;return e&&!(a=i(e))&&delete o.lastCollidedWith,a=a||!!s(t,function(t){var e=i(t);return e&&(o.lastCollidedWith=t),e})}function i(t,e){function o(t){return"boolean"==typeof t}var i=4*t,n=Math.ceil((Math.sqrt(i)-1)/2),r=2*n+1,a=Math.pow(r,2),s=!1;return--r,t<=1e4&&(o(s)&&a-r<=i&&(s={x:n-(a-i),y:-n}),a-=r,o(s)&&a-r<=i&&(s={x:-n,y:a-i-n}),a-=r,(s=o(s)?a-r<=i?{x:a-i-n,y:n}:{x:n,y:n-(a-i-r)}:s).x*=5,s.y*=5),s}function h(t,e){e=r(e)?e:14,e=Math.pow(10,e);return Math.round(t*e)/e}function c(t,e){var o=t[0],t=t[1],e=n*-e,i=Math.cos(e),e=Math.sin(e);return[h(o*i-t*e),h(o*e+t*i)]}function p(t,e,o){t=c([t[0]-e[0],t[1]-e[1]],o);return[t[0]+e[0],t[1]+e[1]]}return{archimedeanSpiral:function(t,e){var e=(e=e.field).width*e.width+e.height*e.height,o=.8*t,i=!1;return t<=1e4&&(i={x:o*Math.cos(o),y:o*Math.sin(o)},Math.min(Math.abs(i.x),Math.abs(i.y))<e||(i=!1)),i},extendPlayingField:function(t,e){var o,i,n=m(t)&&m(e)?(n=e.bottom-e.top,e=e.right-e.left,o=t.ratioX,i=t.ratioY,a(t,{width:t.width+2*((e=n*i<e*o?e:n)*o),height:t.height+2*(e*i)})):t;return n},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var o=e[0],e=e[1];return t.left=Math.min(o,t.left),t.right=Math.max(o,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,o){var o=o.reduce(function(t,e){var e=e.dimensions,o=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=o*o,t},{maxHeight:0,maxWidth:0,area:0}),o=Math.max(o.maxHeight,o.maxWidth,.85*Math.sqrt(o.area)),i=e<t?t/e:1;return{width:o*i,height:o*(e=t<e?e/t:1),ratioX:i,ratioY:e}},getPolygon:function(t,e,o,i,n){var r=[t,e],a=t-o/2,t=t+o/2;return[[a,o=e-i/2],[t,o],[t,e=e+i/2],[a,e]].map(function(t){return p(t,r,-n)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,o,i){var n=!1;return n=r(t)&&r(e)&&r(o)&&r(i)&&0<t&&-1<e&&o<i?o+e%t*((i-o)/(t-1||1)):n},getScale:function(t,e,o){var i=2*Math.max(Math.abs(o.top),Math.abs(o.bottom)),o=2*Math.max(Math.abs(o.left),Math.abs(o.right));return Math.min(0<o?1/o*t:1,0<i?1/i*e:1)},getSpiral:function(t,e){for(var o=[],i=1;i<1e4;i++)o.push(t(i,e));return function(t){return t<=1e4&&o[t-1]}},intersectionTesting:function(t,e){var o,i,n,r,a,s=e.placed,l=e.field,u=e.rectangle,d=e.polygon,h=e.spiral,c=t.rect=f({},u),p=1,g={x:0,y:0};for(t.polygon=d,t.rotation=e.rotation;!1!==g&&(y(t,s)||(o=c,a=r=n=void 0,n=-(i=l).width/2,r=l.width/2,a=-l.height/2,i=l.height/2,!(n<o.left&&r>o.right&&a<o.top&&i>o.bottom)));)g=h(p),m(g)&&(c.left=u.left+g.x,c.right=u.right+g.x,c.top=u.top+g.y,c.bottom=u.bottom+g.y,t.polygon=function(e,o,t){return t.map(function(t){return[t[0]+e,t[1]+o]})}(g.x,g.y,d)),p++;return g},isPolygonsColliding:d,isRectanglesIntersecting:l,rectangularSpiral:function(t,e){return t=i(t),e=e.field,t&&(t.x*=e.ratioX,t.y*=e.ratioY),t},rotate2DToOrigin:c,rotate2DToPoint:p,squareSpiral:i,updateFieldBoundaries:function(t,e){return(!r(t.left)||t.left>e.left)&&(t.left=e.left),(!r(t.right)||t.right<e.right)&&(t.right=e.right),(!r(t.top)||t.top>e.top)&&(t.top=e.top),(!r(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}}}),e(t,"Series/Wordcloud/WordcloudSeries.js",[t["Series/DrawPointUtilities.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Wordcloud/WordcloudPoint.js"],t["Series/Wordcloud/WordcloudSeriesDefaults.js"],t["Series/Wordcloud/WordcloudUtils.js"]],function(D,o,t,e,i,n,r){var a,s,l=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),u=o.noop,d=t.seriesTypes.column,U=e.extend,h=e.isArray,z=e.isNumber,N=e.isObject,e=e.merge,c=r.archimedeanSpiral,X=r.extendPlayingField,B=r.getBoundingBoxFromPolygon,R=r.getPlayingField,E=r.getPolygon,p=r.getRandomPosition,g=r.getRotation,H=r.getScale,L=r.getSpiral,Y=r.intersectionTesting,f=r.isPolygonsColliding,m=r.rectangularSpiral,y=r.rotate2DToOrigin,x=r.rotate2DToPoint,v=r.squareSpiral,q=r.updateFieldBoundaries,r=(l(b,s=d),b.prototype.pointAttribs=function(t,e){t=o.seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete t.stroke,delete t["stroke-width"],t},b.prototype.deriveFontSize=function(t,e,o){t=z(t)?t:0,e=z(e)?e:1,o=z(o)?o:1;return Math.floor(Math.max(o,t*e))},b.prototype.drawPoints=function(){var t=this,e=t.hasRendered,o=t.xAxis,i=t.yAxis,n=t.chart,r=t.group,a=t.options,s=a.animation,l=a.allowExtendPlayingField,u=n.renderer,d=[],h=t.placementStrategy[a.placementStrategy],c=a.rotation,n=t.points.map(function(t){return t.weight}),p=Math.max.apply(null,n),g=t.points.concat().sort(function(t,e){return e.weight-t.weight}),f=u.text().add(r);t.group.attr({scaleX:1,scaleY:1});for(var m=0,y=g;m<y.length;m++){var x=1/p*(_=y[m]).weight,v=t.deriveFontSize(x,a.maxFontSize,a.minFontSize),b=U({fontSize:v+"px"},a.style),w=(f.css(b).attr({x:0,y:0,text:_.name}),f.getBBox(!0));_.dimensions={height:w.height,width:w.width}}for(var S=R(o.len,i.len,g),M=L(t.spirals[a.spiral],{field:S}),P=0,j=g;P<j.length;P++){var _,x=1/p*(_=j[P]).weight,v=t.deriveFontSize(x,a.maxFontSize,a.minFontSize),b=U({fontSize:v+"px"},a.style),A=h(_,{data:g,field:S,placed:d,rotation:c}),W=U(t.pointAttribs(_,_.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:A.x,y:A.y,text:_.name,rotation:z(A.rotation)?A.rotation:void 0}),F=E(A.x,A.y,_.dimensions.width,_.dimensions.height,A.rotation),C=B(F),O=Y(_,{rectangle:C,polygon:F,field:S,placed:d,spiral:M,rotation:A.rotation}),T=void 0;!O&&l&&(S=X(S,C),O=Y(_,{rectangle:C,polygon:F,field:S,placed:d,spiral:M,rotation:A.rotation})),N(O)?(W.x=(W.x||0)+O.x,W.y=(W.y||0)+O.y,C.left+=O.x,C.right+=O.x,C.top+=O.y,C.bottom+=O.y,S=q(S,C),d.push(_),_.isNull=!1,_.isInside=!0):_.isNull=!0,s&&(T={x:W.x,y:W.y},e?(delete W.x,delete W.y):(W.x=0,W.y=0)),D.draw(_,{animatableAttribs:T,attribs:W,css:b,group:r,renderer:u,shapeArgs:void 0,shapeType:"text"})}f=f.destroy(),n=H(o.len,i.len,S);t.group.attr({scaleX:n,scaleY:n})},b.prototype.hasData=function(){return N(this)&&!0===this.visible&&h(this.points)&&0<this.points.length},b.prototype.getPlotBox=function(){var t=this.chart,e=t.inverted,o=this[e?"yAxis":"xAxis"],e=this[e?"xAxis":"yAxis"],i=o?o.len:t.plotWidth,n=e?e.len:t.plotHeight;return{translateX:(o?o.left:t.plotLeft)+i/2,translateY:(e?e.top:t.plotTop)+n/2,scaleX:1,scaleY:1}},b.defaultOptions=e(d.defaultOptions,n),b);function b(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return U(r.prototype,{animate:u,animateDrilldown:u,animateDrillupFrom:u,isCartesian:!1,pointClass:i,setClip:u,placementStrategy:{random:function(t,e){var o=e.field,e=e.rotation;return{x:p(o.width)-o.width/2,y:p(o.height)-o.height/2,rotation:g(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:g(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:c,rectangular:m,square:v},utils:{extendPlayingField:X,getRotation:g,isPolygonsColliding:f,rotate2DToOrigin:y,rotate2DToPoint:x}}),t.registerSeriesType("wordcloud",r),r}),e(t,"masters/modules/wordcloud.src.js",[],function(){})});