!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,i,r){e.hasOwnProperty(t)||(e[t]=r.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],function(l,r){var e,o=r.addEvent,i=r.find,u=r.fireEvent,n=r.isArray,f=r.isNumber,g=r.pick,t=e=e||{},s=[];function a(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function d(){var e;null!=(e=this.brokenAxis)&&e.hasBreaks&&(this.options.ordinal=!1)}function c(){var e=this,t=e.brokenAxis;if(null!=t&&t.hasBreaks){for(var i=e.tickPositions,r=e.tickPositions.info,o=[],n=0;n<i.length;n++)t.isInAnyBreak(i[n])||o.push(i[n]);e.tickPositions=o,e.tickPositions.info=r}}function h(){var e=this;e.brokenAxis||(e.brokenAxis=new x(e))}function p(){var e=this,t=e.isDirty,i=e.options.connectNulls,r=e.points,o=e.xAxis,n=e.yAxis;if(t)for(var s=r.length;s--;){var a=r[s],l=!(null===a.y&&!1===i)&&((null==(l=null==o?void 0:o.brokenAxis)?void 0:l.isInAnyBreak(a.x,!0))||(null==(l=null==n?void 0:n.brokenAxis)?void 0:l.isInAnyBreak(a.y,!0)));a.visible=!l&&!1!==a.options.visible}}function m(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}function v(o,e){var t,n,s,a,i,l=this,d=l.points;null!=(t=null==o?void 0:o.brokenAxis)&&t.hasBreaks&&(i=o.brokenAxis,e.forEach(function(e){n=(null==i?void 0:i.breakArray)||[],s=o.isXAxis?o.min:g(l.options.threshold,o.min);var t,r=null==(t=null==(t=null==o?void 0:o.options)?void 0:t.breaks)?void 0:t.filter(function(e){for(var t=!0,i=0;i<n.length;i++){var r=n[i];if(r.from===e.from&&r.to===e.to){t=!1;break}}return t});d.forEach(function(i){a=g(i["stack"+e.toUpperCase()],i[e]),n.forEach(function(e){var t;f(s)&&f(a)&&(t="",s<e.from&&a>e.to||s>e.from&&a<e.from?t="pointBreak":(s<e.from&&a>e.from&&a<e.to||s>e.from&&a>e.to&&a<e.from)&&(t="pointInBreak"),t&&u(o,t,{point:i,brk:e}))}),null!=r&&r.forEach(function(e){u(o,"pointOutsideOfBreak",{point:i,brk:e})})})}))}function k(){var e=this.currentDataGrouping,e=null==e?void 0:e.gapSize,t=this.points.slice(),i=this.yAxis,r=this.options.gapSize,o=t.length-1;if(r&&0<o){"value"!==this.options.gapUnit&&(r*=this.basePointRange),e&&r<e&&e>=this.basePointRange&&(r=e);for(var n,s,a=void 0;o--;)a&&!1!==a.visible||(a=t[o+1]),n=t[o],!1!==a.visible&&!1!==n.visible&&(a.x-n.x>r&&(s=(n.x+a.x)/2,t.splice(o+1,0,{isNull:!0,x:s}),i.stacking&&this.options.stacking&&((i.stacking.stacks[this.stackKey][s]=new l(i,i.options.stackLabels,!1,s,this.stack)).total=0)),a=n)}return this.getGraphPath(t)}t.compose=function(e,t){var i;return r.pushUnique(s,e)&&(e.keepProps.push("brokenAxis"),o(e,"init",h),o(e,"afterInit",a),o(e,"afterSetTickPositions",c),o(e,"afterSetOptions",d)),r.pushUnique(s,t)&&((i=t.prototype).drawBreaks=v,i.gappedPath=k,o(t,"afterGeneratePoints",p),o(t,"afterRender",m)),e},b.isInBreak=function(e,t){var i=e.repeat||1/0,r=e.from,o=e.to-e.from,r=r<=t?(t-r)%i:i-(r-t)%i,t=e.inclusive?r<=o:r<o&&0!=r;return t},b.lin2Val=function(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!f(e))return e;for(var r,o=e,n=0;n<i.length&&!((r=i[n]).from>=o);n++)(r.to<o||b.isInBreak(r,o))&&(o+=r.len);return o},b.val2Lin=function(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!f(e))return e;for(var r,o=e,n=0;n<i.length;n++)if((r=i[n]).to<=e)o-=r.len;else{if(r.from>=e)break;if(b.isInBreak(r,e)){o-=e-r.from;break}}return o},b.prototype.findBreakAt=function(t,e){return i(e,function(e){return e.from<t&&t<e.to})},b.prototype.isInAnyBreak=function(e,t){var i,r,o,n=this.axis,s=n.options.breaks||[],a=s.length;if(a&&f(e)){for(;a--;)b.isInBreak(s[a],e)&&(i=!0,r=r||g(s[a].showPoints,!n.isXAxis));o=i&&t?i&&!r:i}return o},b.prototype.setBreaks=function(e,t){var h=this,p=h.axis,i=n(e)&&!!e.length&&!!Object.keys(e[0]).length;p.isDirty=h.hasBreaks!==i,h.hasBreaks=i,e!==p.options.breaks&&(p.options.breaks=p.userOptions.breaks=e),p.forceRedraw=!0,p.series.forEach(function(e){e.isDirty=!0}),i||p.val2lin!==b.val2Lin||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.lin2val=b.lin2Val,p.val2lin=b.val2Lin,p.setExtremes=function(e,t,i,r,o){if(h.hasBreaks){for(var n=this.options.breaks||[],s=void 0;s=h.findBreakAt(e,n);)e=s.to;for(;s=h.findBreakAt(t,n);)t=s.from;t<e&&(t=e)}p.constructor.prototype.setExtremes.call(this,e,t,i,r,o)},p.setAxisTranslation=function(){var e,t,i,r,o,n,s,a,l,d,c;p.constructor.prototype.setAxisTranslation.call(this),h.unitLength=void 0,h.hasBreaks&&(e=p.options.breaks||[],t=[],i=[],r=g(p.pointRangePadding,0),o=0,a=p.userMin||p.min,l=p.userMax||p.max,e.forEach(function(e){s=e.repeat||1/0,f(a)&&f(l)&&(b.isInBreak(e,a)&&(a+=e.to%s-a%s),b.isInBreak(e,l)&&(l-=l%s-e.from%s))}),e.forEach(function(e){if(d=e.from,s=e.repeat||1/0,f(a)&&f(l)){for(;a<d-s;)d-=s;for(;d<a;)d+=s;for(c=d;c<l;c+=s)t.push({value:c,move:"in"}),t.push({value:c+e.to-e.from,move:"out",size:e.breakSize})}}),t.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),n=0,d=a,t.forEach(function(e){1===(n+="in"===e.move?1:-1)&&"in"===e.move&&(d=e.value),0===n&&f(d)&&(i.push({from:d,to:e.value,len:e.value-d-(e.size||0)}),o+=e.value-d-(e.size||0))}),h.breakArray=i,f(a)&&f(l)&&f(p.min)&&(h.unitLength=l-a-o+r,u(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:h.unitLength&&(p.transA*=(l-p.min+r)/h.unitLength),r&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=a,p.max=l))}),g(t,!0)&&p.chart.redraw()};var x=b;function b(e){this.hasBreaks=!1,this.axis=e}return t.Additions=x,e}),t(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(d,l,r){var m,e,t=l.dateFormats,o=r.addEvent,n=r.defined,c=r.erase,h=r.find,s=r.isArray,v=r.isNumber,p=r.merge,g=r.pick,u=r.timeUnits,a=r.wrap,f=((e=m=m||{})[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left",[]);function k(e){return r.isObject(e,!0)}function x(r,e){var o={width:0,height:0};return e.forEach(function(e){var t,e=r[e],i=0;k(e)&&(t=(e=k(e.label)?e.label:{}).getBBox?e.getBBox().height:0,e.textStr&&!v(e.textPxLength)&&(e.textPxLength=e.getBBox().width),i=v(e.textPxLength)?Math.round(e.textPxLength):0,e.textStr&&(i=Math.round(e.getBBox().width)),o.height=Math.max(t,o.height),o.width=Math.max(i,o.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(e=this.treeGrid.mapOfPosToGridNode[-1].height||0,o.width+=this.options.labels.indentation*(e-1)),o}function b(){var e=this.grid;(e&&e.columns||[]).forEach(function(e){e.getOffset()})}function y(e){var t,i,r,o,n,s,a,l,d,c,h,p,u,f=this;!0===(f.options.grid||{}).enabled&&(p=f.axisTitle,t=f.height,i=f.horiz,r=f.left,o=f.offset,n=f.opposite,h=f.options,s=f.top,a=f.width,u=f.tickSize(),l=p&&p.getBBox().width,d=h.title.x,c=h.title.y,h=g(h.title.margin,i?5:10),p=p?f.chart.renderer.fontMetrics(p).f:0,u=(i?s+t:r)+(i?1:-1)*(n?-1:1)*(u?u[0]/2:0)+(f.side===m.bottom?p:0),e.titlePosition.x=i?r-(l||0)/2-h+d:u+(n?a:0)+o+d,e.titlePosition.y=i?u-(n?t:0)+(n?p:-p)/2+o+c:s-h+c)}function G(){var e,t=this,i=t.chart,r=t.options.grid,o=void 0===r?{}:r,n=t.userOptions;if(o.enabled&&((e=(r=t).options).labels.align=g(e.labels.align,"center"),r.categories||(e.showLastLabel=!1),r.labelRotation=0,e.labels.rotation=0,e.minTickInterval=1),o.columns)for(var s=t.grid.columns=[],a=t.grid.columnIndex=0;++a<o.columns.length;){var l=p(n,o.columns[o.columns.length-a-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}}),l=(delete l.grid.columns,new d(t.chart,l,"yAxis"));l.grid.isColumn=!0,l.grid.columnIndex=a,c(i.axes,l),c(i[t.coll]||[],l),s.push(l)}}function P(){var e=this,t=e.grid,i=e.options;if(!0===(i.grid||{}).enabled){var r,o=e.min||0,n=e.max||0;if(e.maxLabelDimensions=e.getMaxLabelDimensions(e.ticks,e.tickPositions),e.rightWall&&e.rightWall.destroy(),e.grid&&e.grid.isOuterAxis()&&e.axisLine&&((r=i.lineWidth)&&(s=(r=e.getLinePath(r))[0],l=r[1],a=((e.tickSize("tick")||[1])[0]-1)*(e.side===m.top||e.side===m.left?-1:1),"M"===s[0]&&"L"===l[0]&&(e.horiz?(s[2]+=a,l[2]+=a):(s[1]+=a,l[1]+=a)),!e.horiz&&e.chart.marginRight&&(a=[s,["L",e.left,s[2]||0]],s=["L",e.chart.chartWidth-e.chart.marginRight,e.toPixels(n+e.tickmarkOffset)],l=[["M",l[1]||0,e.toPixels(n+e.tickmarkOffset)],s],e.grid.upperBorder||o%1==0||(e.grid.upperBorder=e.grid.renderBorder(a)),e.grid.upperBorder&&(e.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.upperBorder.animate({d:a})),e.grid.lowerBorder||n%1==0||(e.grid.lowerBorder=e.grid.renderBorder(l)),e.grid.lowerBorder&&(e.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.lowerBorder.animate({d:l}))),e.grid.axisLineExtra?(e.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.axisLineExtra.animate({d:r})):e.grid.axisLineExtra=e.grid.renderBorder(r),e.axisLine[e.showAxis?"show":"hide"]())),(t&&t.columns||[]).forEach(function(e){return e.render()}),!e.horiz&&e.chart.hasRendered&&(e.scrollbar||e.linkedParent&&e.linkedParent.scrollbar)){for(var s=e.tickmarkOffset,a=e.tickPositions[e.tickPositions.length-1],l=e.tickPositions[0],d=void 0,c=void 0;(d=e.hiddenLabels.pop())&&d.element;)d.show();for(;(c=e.hiddenMarks.pop())&&c.element;)c.show();(d=e.ticks[l].label)&&(s<o-l?e.hiddenLabels.push(d.hide()):d.show()),(d=e.ticks[a].label)&&(s<a-n?e.hiddenLabels.push(d.hide()):d.show());i=e.ticks[a].mark;i&&a-n<s&&0<a-n&&e.ticks[a].isLast&&e.hiddenMarks.push(i.hide())}}}function A(){var e=this,t=e.tickPositions&&e.tickPositions.info,i=e.options,r=i.grid||{},o=e.userOptions.labels||{};r.enabled&&(e.horiz?(e.series.forEach(function(e){e.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!n(o.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",n(o.x)||(i.labels.x=3))):"treegrid"!==this.options.type&&e.grid&&e.grid.columns&&(this.minPointOffset=this.tickInterval))}function T(e){var c,t=this.options,e=e.userOptions,i=t&&k(t.grid)?t.grid:{};!0===i.enabled&&(c=p(!0,{className:"highcharts-grid-axis "+(e.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},e),"xAxis"===this.coll&&(n(e.linkedTo)&&!n(e.tickPixelInterval)&&(c.tickPixelInterval=350),n(e.tickPixelInterval)||!n(e.linkedTo)||n(e.tickPositioner)||n(e.tickInterval)||(c.tickPositioner=function(e,t){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){for(var r=c.units||[],o=void 0,n=1,s="year",a=0;a<r.length;a++){var l=r[a];if(l&&l[0]===i.unitName){o=a;break}}var d=v(o)&&r[o+1],d=(d?(s=d[0]||"year",n=(d=d[1])&&d[0]||1):"year"===i.unitName&&(n=10*i.count),u[s]);return this.tickInterval=d*n,this.chart.time.getTimeTicks({unitRange:d,count:n,unitName:s},e,t,this.options.startOfWeek)}})),p(!0,this.options,c),this.horiz&&(t.minPadding=g(e.minPadding,0),t.maxPadding=g(e.maxPadding,0)),v(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=i.borderWidth))}function O(e){var e=e.userOptions,e=e&&e.grid||{},t=e.columns;e.enabled&&t&&p(!0,this.options,t[t.length-1])}function B(){(this.grid.columns||[]).forEach(function(e){return e.setScale()})}function C(e){var t,i=this.horiz,r=this.maxLabelDimensions,o=this.options.grid,o=void 0===o?{}:o;o.enabled&&r&&(t=2*this.options.labels.distance,i=i?o.cellHeight||t+r.height:t+r.width,s(e.tickSize)?e.tickSize[0]=i:e.tickSize=[i,0])}function w(){this.axes.forEach(function(e){(e.grid&&e.grid.columns||[]).forEach(function(e){e.setAxisSize(),e.setAxisTranslation()})})}function I(t){var e=this.grid;(e.columns||[]).forEach(function(e){return e.destroy(t.keepEvents)}),e.columns=void 0}function N(e){var t=this,e=e.userOptions||{},i=e.grid||{};i.enabled&&n(i.borderColor)&&(e.tickColor=e.lineColor=i.borderColor),t.grid||(t.grid=new j(t)),t.hiddenLabels=[],t.hiddenMarks=[]}function E(e){var t,i,r,o=this.label,n=this.axis,s=n.reversed,a=n.chart,l=n.options.grid||{},d=n.options.labels,c=d.align,h=m[n.side],p=e.tickmarkOffset,u=n.tickPositions,f=this.pos-p,u=v(u[e.index+1])?u[e.index+1]-p:(n.max||0)+p,p=n.tickSize("tick"),g=p?p[0]:0,p=p?p[1]/2:0;!0===l.enabled&&(r=i=l=void 0,"top"===h?t=(l=n.top+n.offset)-g:"bottom"===h?l=(t=a.chartHeight-n.bottom+n.offset)+g:(l=n.top+n.len-(n.translate(s?u:f)||0),t=n.top+n.len-(n.translate(s?f:u)||0)),"right"===h?r=(i=a.chartWidth-n.right+n.offset)+g:"left"===h?i=(r=n.left+n.offset)-g:(i=Math.round(n.left+(n.translate(s?u:f)||0))-p,r=Math.min(Math.round(n.left+(n.translate(s?f:u)||0))-p,n.left+n.len)),this.slotWidth=r-i,e.pos.x="left"===c?i:"right"===c?r:i+(r-i)/2,e.pos.y=t+(l-t)/2,o&&(h=a.renderer.fontMetrics(o),g=o.getBBox().height,d.useHTML?e.pos.y+=h.b+-g/2:(s=Math.round(g/h.h),e.pos.y+=(h.b-(h.h-h.f))/2+-((s-1)*h.h)/2)),e.pos.x+=n.horiz&&d.x||0)}function L(e){var t,i,r,o,n,s=e.axis,a=e.value;s.options.grid&&s.options.grid.enabled&&(r=s.tickPositions,t=(s.linkedParent||s).series[0],i=a===r[0],r=a===r[r.length-1],n=void 0,(o=t&&h(t.options.data,function(e){return e[s.isXAxis?"x":"y"]===a}))&&t.is("gantt")&&(n=p(o),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(n)),e.isFirst=i,e.isLast=r,e.point=n)}function S(){var e=this,t=e.options,i=t.grid||{},r=e.categories,o=e.tickPositions,n=o[0],s=o[o.length-1],a=e.linkedParent&&e.linkedParent.min,l=e.linkedParent&&e.linkedParent.max,a=a||e.min,l=l||e.max,d=e.tickInterval,s=l<s&&s-d<l;!0!==i.enabled||r||!e.horiz&&!e.isLinked||(n<a&&a<n+d&&!t.startOnTick&&(o[0]=a),s&&!t.endOnTick&&(o[o.length-1]=l))}function M(e){var t=this.options.grid;return!0===(void 0===t?{}:t).enabled&&this.categories?this.tickInterval:e.apply(this,(t=arguments,Array.prototype.slice.call(t,1)))}i.prototype.isOuterAxis=function(){var i=this.axis,e=i.chart,t=i.grid.columnIndex,r=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns,o=t?i.linkedParent:i,n=-1,s=0;return(e[i.coll]||[]).forEach(function(e,t){e.side!==i.side||e.options.isInternal||(s=t,e===o&&(n=t))}),s===n&&(!v(t)||r.length===t)},i.prototype.renderBorder=function(e){var t=this.axis,i=t.chart.renderer,r=t.options,e=i.path(e).addClass("highcharts-axis-line").add(t.axisBorder);return i.styledMode||e.attr({stroke:r.lineColor,"stroke-width":r.lineWidth,zIndex:7}),e};var j=i;function i(e){this.axis=e}return t.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},t.W=function(e){var t=this,i=new this.Date(e),e=(["Hours","Milliseconds","Minutes","Seconds"].forEach(function(e){t.set(e,i,0)}),(this.get("Day",i)+6)%7),r=new this.Date(i.valueOf()),e=(this.set("Date",r,this.get("Date",i)-e+3),new this.Date(this.get("FullYear",r),0,1));return 4!==this.get("Day",e)&&(this.set("Month",i,0),this.set("Date",i,1+(11-this.get("Day",e))%7)),(1+Math.floor((r.valueOf()-e.valueOf())/6048e5)).toString()},{compose:function(e,t,i){return r.pushUnique(f,e)&&(e.keepProps.push("grid"),e.prototype.getMaxLabelDimensions=x,a(e.prototype,"unsquish",M),o(e,"init",N),o(e,"afterGetOffset",b),o(e,"afterGetTitlePosition",y),o(e,"afterInit",G),o(e,"afterRender",P),o(e,"afterSetAxisTranslation",A),o(e,"afterSetOptions",T),o(e,"afterSetOptions",O),o(e,"afterSetScale",B),o(e,"afterTickSize",C),o(e,"trimTicks",S),o(e,"destroy",I)),r.pushUnique(f,t)&&o(t,"afterSetChartSize",w),r.pushUnique(f,i)&&(o(i,"afterGetLabelPosition",E),o(i,"labelFormat",L)),e}}}),t(e,"Gantt/Tree.js",[e["Core/Utilities.js"]],function(e){var p=e.extend,u=e.isNumber,f=e.pick;function g(r,e,o,t,n,s){var a,l,i=s&&s.after,d=s&&s.before,e={data:t,depth:o-1,id:r,level:o,parent:e||""},c=0,h=0,d=("function"==typeof d&&d(e,s),(n[r]||[]).map(function(e){var t=g(e.id,r,o+1,e,n,s),i=e.start||NaN,e=!0===e.milestone?i:e.end||NaN;return a=!u(a)||i<a?i:a,l=!u(l)||l<e?e:l,c=c+1+t.descendants,h=Math.max(t.height+1,h),t}));return t&&(t.start=f(t.start,a),t.end=f(t.end,l)),p(e,{children:d,descendants:c,height:h}),"function"==typeof i&&i(e,s),e}return{getNode:g,getTree:function(e,t){return g("",null,1,null,e.reduce(function(e,t){var i=f(t.parent,"");return void 0===e[i]&&(e[i]=[]),e[i].push(t),e},{}),t)}}}),t(e,"Core/Axis/TreeGrid/TreeGridTick.js",[e["Core/Utilities.js"]],function(t){var v=t.addEvent,k=t.isObject,x=t.isNumber,b=t.pick,i=t.wrap,r=[];function o(){this.treeGrid||(this.treeGrid=new e(this))}function n(e,t,i,r,o,n,s,a,l){var d=this,n=b(d.options&&d.options.labels,n),c=d.pos,h=d.axis,p="treegrid"===h.options.type,e=e.apply(d,[t,i,r,o,n,s,a,l]);return p&&(d=n&&k(n.symbol,!0)?n.symbol:{},t=n&&x(n.indentation)?n.indentation:0,o=(r=(i=h.treeGrid.mapOfPosToGridNode)&&i[c])&&r.depth||1,e.x+=(d.width||0)+2*(d.padding||0)+(o-1)*t),e}function s(e){var t,i,r,o,n,s=this,a=s.pos,l=s.axis,d=s.label,c=l.treeGrid.mapOfPosToGridNode,h=l.options,p=b(s.options&&s.options.labels,h&&h.labels),u=p&&k(p.symbol,!0)?p.symbol:{},c=c&&c[a],f=c&&c.depth,h="treegrid"===h.type,a=-1<l.tickPositions.indexOf(a),g="highcharts-treegrid-node-",m=l.chart.styledMode;h&&c&&d&&d.element&&d.addClass(g+"level-"+f),e.apply(s,Array.prototype.slice.call(arguments,1)),h&&d&&d.element&&c&&c.descendants&&0<c.descendants&&(f=l.treeGrid.isCollapsed(c),e=s,h={color:!m&&d.styles&&d.styles.color||"",collapsed:f,group:d.parentGroup,options:u,renderer:d.renderer,show:a,xy:d.xy},l=!(e=e.treeGrid).labelIcon,c=h.renderer,u=h.xy,a=h.options,t=a.width||0,i=a.height||0,u={x:u.x-t/2-(a.padding||0),y:u.y-i/2},r=h.collapsed?90:180,o=h.show&&x(u.y),(n=e.labelIcon)||(e.labelIcon=n=c.path(c.symbols[a.type](a.x||0,a.y||0,t,i)).addClass("highcharts-label-icon").add(h.group)),n[o?"show":"hide"](),c.styledMode||n.attr({cursor:"pointer",fill:b(h.color,"#666666"),"stroke-width":1,stroke:a.lineColor,strokeWidth:a.lineWidth||0}),n[l?"attr":"animate"]({translateX:u.x,translateY:u.y,rotation:r}),e=g+(f?"expanded":"collapsed"),d.addClass(g+(f?"collapsed":"expanded")).removeClass(e),m||d.css({cursor:"pointer"}),[d,s.treeGrid.labelIcon].forEach(function(e){e&&!e.attachedTreeGridEvents&&(v(e.element,"mouseover",function(){var e;(e=d).addClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:"underline"})}),v(e.element,"mouseout",function(){var e,t;e=d,t=k((t=p).style)?t.style:{},e.removeClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:t.textDecoration})}),v(e.element,"click",function(){s.treeGrid.toggleCollapse()}),e.attachedTreeGridEvents=!0)}))}a.compose=function(e){t.pushUnique(r,e)&&(v(e,"init",o),i(e.prototype,"getLabelPosition",n),i(e.prototype,"renderLabel",s),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})},a.prototype.collapse=function(e){var t=this.tick,i=t.axis,r=i.brokenAxis;r&&i.treeGrid.mapOfPosToGridNode&&(t=t.pos,t=i.treeGrid.mapOfPosToGridNode[t],i=i.treeGrid.collapse(t),r.setBreaks(i,b(e,!0)))},a.prototype.destroy=function(){this.labelIcon&&this.labelIcon.destroy()},a.prototype.expand=function(e){var t=this.tick,i=t.axis,r=i.brokenAxis;r&&i.treeGrid.mapOfPosToGridNode&&(t=t.pos,t=i.treeGrid.mapOfPosToGridNode[t],i=i.treeGrid.expand(t),r.setBreaks(i,b(e,!0)))},a.prototype.toggleCollapse=function(e){var t=this.tick,i=t.axis,r=i.brokenAxis;r&&i.treeGrid.mapOfPosToGridNode&&(t=t.pos,t=i.treeGrid.mapOfPosToGridNode[t],i=i.treeGrid.toggleCollapse(t),r.setBreaks(i,b(e,!0)))};var e=a;function a(e){this.tick=e}return e}),t(e,"Series/TreeUtilities.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(f,e){var h=e.extend,l=e.isArray,d=e.isNumber,c=e.isObject,p=e.merge,g=e.pick;return{getColor:function(e,t){var i,r,o,n=t.index,s=t.mapOptionsToLevel,a=t.parentColor,l=t.parentColorIndex,d=t.series,c=t.colors,h=t.siblings,p=d.points,u=d.chart.options.chart;return e&&(p=p[e.i],s=s[e.level]||{},p&&s.colorByPoint&&(i=p.index%(c?c.length:u.colorCount),o=c&&c[i]),d.chart.styledMode||(r=g(p&&p.options.color,s&&s.color,o,a&&(e=a,(u=s&&s.colorVariation)&&"brightness"===u.key&&n&&h?f.parse(e).brighten(u.to*(n/h)).get():e),d.color)),o=g(p&&p.options.colorIndex,s&&s.colorIndex,i,l,t.colorIndex)),{color:r,colorIndex:o}},getLevelOptions:function(e){var o,t,i,n,r,s,a={};if(c(e))for(n=d(e.from)?e.from:1,s=e.levels,t={},o=c(e.defaults)?e.defaults:{},l(s)&&(t=s.reduce(function(e,t){var i,r;return c(t)&&d(t.level)&&(r=p({},t),i=g(r.levelIsConstant,o.levelIsConstant),delete r.levelIsConstant,delete r.level,t=t.level+(i?0:n-1),c(e[t])?p(!0,e[t],r):e[t]=r),e},{})),r=d(e.to)?e.to:1,i=0;i<=r;i++)a[i]=p({},o,c(t[i])?t[i]:{});return a},setTreeValues:function r(o,n){var e=n.before,t=n.idRoot,i=n.mapIdToNode[t],s=!1!==n.levelIsConstant,a=n.points[o.i],l=a&&a.options||{},d=[],c=0,s=(o.levelDynamic=o.level-(s?0:i.level),o.name=g(a&&a.name,""),o.visible=t===o.id||!0===n.visible,(o="function"==typeof e?e(o,n):o).children.forEach(function(e,t){var i=h({},n);h(i,{index:t,siblings:o.children.length,visible:o.visible}),e=r(e,i),d.push(e),e.visible&&(c+=e.val)}),g(l.value,c));return o.visible=0<=s&&(0<c||o.visible),o.children=d,o.childrenTotal=c,o.isLeaf=o.visible&&!c,o.val=s,o},updateRootId:function(e){var t;return c(e)&&(t=c(e.options)?e.options:{},t=g(e.rootNode,t.rootId,""),c(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}}),t(e,"Core/Axis/TreeGrid/TreeGridAxis.js",[e["Core/Axis/BrokenAxis.js"],e["Core/Axis/GridAxis.js"],e["Gantt/Tree.js"],e["Core/Axis/TreeGrid/TreeGridTick.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"]],function(n,s,u,a,e,l){var d,c=e.getLevelOptions,h=l.addEvent,f=l.find,r=l.fireEvent,p=l.isArray,g=l.isObject,m=l.isString,v=l.merge,o=l.pick,k=l.wrap,x=[];function b(e,t){var i=e.collapseEnd||0,e=e.collapseStart||0;return t<=i&&(e-=.5),{from:e,to:i,showPoints:!1}}function y(e,t,i){var a,s=[],r=[],l={},d="boolean"==typeof t&&t,c={},h=-1,t=u.getTree(e,{after:function(e){var e=c[e.pos],t=0,i=0;e.children.forEach(function(e){i+=(e.descendants||0)+1,t=Math.max((e.height||0)+1,t)}),e.descendants=i,e.height=t,e.collapsed&&r.push(e)},before:function(e){var t,i,r=g(e.data,!0)?e.data:{},o=m(r.name)?r.name:"",n=l[e.parent],n=g(n,!0)?c[n.pos]:null;d&&g(n,!0)&&(t=f(n.children,function(e){return e.name===o}))?(i=t.pos,t.nodes.push(e)):i=h++,c[i]||(c[i]=t={depth:n?n.depth+1:0,name:o,id:r.id,nodes:[e],children:[],pos:i},-1!==i&&s.push(o),g(n,!0)&&n.children.push(t)),m(e.id)&&(l[e.id]=e),t&&!0===r.collapsed&&(t.collapsed=!0),e.pos=i}});function p(e,i,t){var r=e.nodes,o=i+(-1===i?0:a-1),n=(o-i)/2,s=i+n;return r.forEach(function(e){var t=e.data;g(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=s}),(t[s]=e).pos=s,e.tickmarkOffset=.5+n,e.collapseStart=o+.5,e.children.forEach(function(e){p(e,o+1,t),o=(e.collapseEnd||0)-.5}),e.collapseEnd=o+.5,t}return a=i,c=p(c[-1],-1,{}),{categories:s,mapOfIdToNode:l,mapOfPosToGridNode:c,collapsedNodes:r,tree:t}}function G(l){l.target.axes.filter(function(e){return"treegrid"===e.options.type}).forEach(function(e){var i,t=e.options||{},r=t.labels,o=t.uniqueNames,n=t.max,t=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty}),s=0;if(t){if(i=e.series.reduce(function(t,i){return i.visible&&((i.options.data||[]).forEach(function(e){i.options.keys&&i.options.keys.length&&(e=i.pointClass.prototype.optionsToObject.call({series:i},e),i.pointClass.setGanttPointAliases(e)),g(e,!0)&&(e.seriesIndex=s,t.push(e))}),!0===o&&s++),t},[]),n&&i.length<n)for(var a=i.length;a<=n;a++)i.push({name:a+"​"});t=y(i,o||!1,!0===o?s:1),e.categories=t.categories,e.treeGrid.mapOfPosToGridNode=t.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=t.tree,e.series.forEach(function(e){var t=(e.options.data||[]).map(function(t){return p(t)&&e.options.keys&&e.options.keys.length&&i.forEach(function(e){0<=t.indexOf(e.x)&&0<=t.indexOf(e.x2)&&(t=e)}),g(t,!0)?v(t):t});e.visible&&e.setData(t,!1)}),e.treeGrid.mapOptionsToLevel=c({defaults:r,from:1,levels:r&&r.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===l.type&&(e.treeGrid.collapsedNodes=t.collapsedNodes)}})}function P(e,t){var i,r=this,o=r.treeGrid.mapOptionsToLevel||{},n="treegrid"===r.options.type,s=r.ticks,a=s[t];n&&r.treeGrid.mapOfPosToGridNode?((o=o[(n=r.treeGrid.mapOfPosToGridNode[t]).depth])&&(i={labels:o}),!a&&d?s[t]=a=new d(r,t,void 0,void 0,{category:n.name,tickmarkOffset:n.tickmarkOffset,options:i}):(a.parameters.category=n.name,a.options=i,a.addLabel())):e.apply(r,Array.prototype.slice.call(arguments,1))}function A(e,t,i,r){var o=this,n="treegrid"===i.type;o.treeGrid||(o.treeGrid=new O(o)),n&&(h(t,"beforeRender",G),h(t,"beforeRedraw",G),h(t,"addSeries",function(e){e.options.data&&(e=y(e.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),h(o,"foundExtremes",function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach(function(t){var e=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(e,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter(function(e){return t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd})))})}),h(o,"afterBreaks",function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)}),i=v({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),e.apply(o,[t,i,r]),n&&(o.hasNames=!0,o.options.showLastLabel=!0)}function T(e){var t=this,i=t.options;"treegrid"===i.type?(t.min=o(t.userMin,i.min,t.dataMin),t.max=o(t.userMax,i.max,t.dataMax),r(t,"foundExtremes"),t.setAxisTranslation(),t.tickmarkOffset=.5,t.tickInterval=1,t.tickPositions=t.treeGrid.mapOfPosToGridNode?t.treeGrid.getTickPositions():[]):e.apply(t,Array.prototype.slice.call(arguments,1))}t.compose=function(e,t,i,r){var o;return l.pushUnique(x,e)&&(-1===e.keepProps.indexOf("treeGrid")&&e.keepProps.push("treeGrid"),o=e.prototype,k(o,"generateTick",P),k(o,"init",A),k(o,"setTickInterval",T),o.utils={getNode:u.getNode}),l.pushUnique(x,r)&&(d=d||r),s.compose(e,t,r),n.compose(e,i),a.compose(r),e},t.prototype.setCollapsedStatus=function(r){var e=this.axis,o=e.chart;e.series.forEach(function(e){var t,i=e.options.data;r.id&&i&&(t=o.get(r.id),i=i[e.data.indexOf(t)],t&&i&&(t.collapsed=r.collapsed,i.collapsed=r.collapsed))})},t.prototype.collapse=function(e){var t=this.axis,i=t.options.breaks||[],r=b(e,t.max);return i.push(r),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i},t.prototype.expand=function(e){var t=this.axis,i=t.options.breaks||[],r=b(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===r.to&&t.from===r.from||e.push(t),e},[])},t.prototype.getTickPositions=function(){var i=this.axis,r=Math.floor(i.min/i.tickInterval)*i.tickInterval,o=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){t=+t;return!(r<=t&&t<=o)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])},t.prototype.isCollapsed=function(e){var t=this.axis,i=t.options.breaks||[],r=b(e,t.max);return i.some(function(e){return e.from===r.from&&e.to===r.to})},t.prototype.toggleCollapse=function(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)};var O=t;function t(e){this.axis=e}return O}),t(e,"masters/modules/treegrid.src.js",[e["Core/Globals.js"],e["Core/Axis/TreeGrid/TreeGridAxis.js"]],function(e,t){t.compose(e.Axis,e.Chart,e.Series,e.Tick)})});