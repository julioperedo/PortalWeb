!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,s,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),e(t,"Extensions/DragPanes/AxisResizer.js",[t["Extensions/DragPanes/AxisResizerDefaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e,s){var a=e.hasTouch,h=s.addEvent,b=s.clamp,E=s.isNumber,L=s.relativeLength;return i.prototype.init=function(t,e){this.axis=t,this.options=t.options.resize||{},this.render(),e||this.addMouseEvents()},i.prototype.render=function(){var t=this.axis,e=t.chart,s=this.options,i=s.x||0,o=s.y,n=b(t.top+t.height+o,e.plotTop,e.plotTop+e.plotHeight),r={},o=(e.styledMode||(r={cursor:s.cursor,stroke:s.lineColor,"stroke-width":s.lineWidth,dashstyle:s.lineDashStyle}),this.lastPos=n-o,this.controlLine||(this.controlLine=e.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),e.styledMode?this.controlLine.strokeWidth():s.lineWidth);r.d=e.renderer.crispLine([["M",t.left+i,n],["L",t.left+t.width+i,n]],o),this.controlLine.attr(r)},i.prototype.addMouseEvents=function(){var t,e,s,i=this,o=i.controlLine.element,n=i.axis.chart.container,r=[];i.mouseMoveHandler=t=function(t){return i.onMouseMove(t)},i.mouseUpHandler=e=function(t){return i.onMouseUp(t)},i.mouseDownHandler=s=function(t){return i.onMouseDown(t)},r.push(h(n,"mousemove",t),h(n.ownerDocument,"mouseup",e),h(o,"mousedown",s)),a&&r.push(h(n,"touchmove",t),h(n.ownerDocument,"touchend",e),h(o,"touchstart",s)),i.eventsToUnbind=r},i.prototype.onMouseMove=function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},i.prototype.onMouseUp=function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=void 0},i.prototype.onMouseDown=function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},i.prototype.updateAxes=function(t){function e(t){return 100*t/h+"%"}function s(t,e,s){return Math.round(b(t,e,s))}var i=this.axis.chart,o=this.options.controlledAxis,n=0===o.next.length?[i.yAxis.indexOf(this.axis)+1]:o.next,o=[this.axis].concat(o.prev),r=[],a=i.plotTop,h=i.plotHeight,u=a+h,c=!1;if(!((v=(t=b(t,a,u))-this.lastPos)*v<1)){for(var d=!0,p=0,l=[o,n];p<l.length;p++)for(var f=l[p],x=0;x<f.length;x++){var g,v,y=f[x],y=E(y)?i.yAxis[y]:d?y:i.get(y),m=y&&y.options,z=void 0,D=void 0;m&&"navigator-y-axis"!==m.id?(D=y.top,g=Math.round(L(m.minLength||NaN,h)),m=Math.round(L(m.maxLength||NaN,h)),d?((z=s(t-D,g,m))===m&&(c=!0),t=D+z,r.push({axis:y,options:{height:e(z)}})):(v=t-this.lastPos,z=s(y.len-v,g,m),(D=y.top+v)+z>u&&(t+=m=u-z-D,D+=m),(z=D<a&&(D=a)+z>u?h:z)===g&&(c=!0),r.push({axis:y,options:{top:e(D-a),height:e(z)}})),d=!1):d=!1}if(!c){for(var M=0;M<r.length;M++){var P=r[M];P.axis.update(P.options,!1)}i.redraw(!1)}}},i.prototype.destroy=function(){delete this.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(t){return t()}),this.controlLine.destroy();for(var t=0,e=Object.keys(this);t<e.length;t++)this[e[t]]=null},i.resizerOptions=t,i;function i(t){this.axis=void 0,this.controlLine=void 0,this.lastPos=void 0,this.options=void 0,this.init(t)}}),e(t,"Extensions/DragPanes/DragPanes.js",[t["Extensions/DragPanes/AxisResizer.js"],t["Core/Utilities.js"]],function(s,i){var o=i.addEvent,n=i.merge,r=i.wrap,a=[];function h(){var t=this.resizer,e=this.options.resize;e&&(e=!1!==e.enabled,t?e?t.init(this,!0):t.destroy():e&&(this.resizer=new s(this)))}function u(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()}function c(t){this.chart.activeResizer||t.apply(this,[].slice.call(arguments,1))}function d(t){this.chart.activeResizer||t.apply(this,[].slice.call(arguments,1))}return{compose:function(t,e){i.pushUnique(a,t)&&(n(!0,t.defaultOptions,s.resizerOptions),t.keepProps.push("resizer"),o(t,"afterRender",h),o(t,"destroy",u)),i.pushUnique(a,e)&&(r(e.prototype,"runPointActions",d),r(e.prototype,"drag",c))}}}),e(t,"masters/modules/drag-panes.src.js",[t["Core/Globals.js"],t["Extensions/DragPanes/AxisResizer.js"],t["Extensions/DragPanes/DragPanes.js"]],function(t,e,s){t.AxisResizer=e,s.compose(t.Axis,t.Pointer)})});