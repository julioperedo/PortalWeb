!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/map",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Core/Axis/Color/ColorAxisComposition.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(t,s){var e,a,l,o=t.parse,p=s.addEvent,h=s.extend,c=s.merge,u=s.pick,i=s.splat;function d(){var e=this,t=this.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=i(t.colorAxis),t.colorAxis.map(function(t){return new a(e,t)}))}function f(e){function o(t){-1!==(t=e.allItems.indexOf(t))&&(r.destroyItem(e.allItems[t]),e.allItems.splice(t,1))}var i,t,r=this,n=this.chart.colorAxis||[],s=[];for(n.forEach(function(t){(i=t.options)&&i.showInLegend&&(i.dataClasses&&i.visible?s=s.concat(t.getDataClassLegendSymbols()):i.visible&&s.push(t),t.series.forEach(function(t){t.options.showInLegend&&!i.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){o(t)}):o(t))}))}),t=s.length;t--;)e.allItems.unshift(s[t])}function y(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function m(e){var t;null!=(t=this.chart.colorAxis)&&t.forEach(function(t){t.update({},e.redraw)})}function g(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function b(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function v(t){var e=this,o=t?"show":"hide";e.visible=e.options.visible=Boolean(t),["graphic","dataLabel"].forEach(function(t){e[t]&&e[t][o]()}),this.series.buildKDTree()}function x(){var o=this,t=this.data.length?this.data:this.points,i=this.options.nullColor,r=this.colorAxis,n=this.colorKey;t.forEach(function(t){var e=t.getNestedProperty(n),e=t.options.color||(t.isNull||null===t.value?i:r&&void 0!==e?r.toColor(e,t):t.color||o.color);e&&t.color!==e&&(t.color=e,"point"===o.options.legendType&&t.legendItem&&t.legendItem.label&&o.chart.legend.colorizeItem(t,t.visible))})}function M(){this.elem.attr("fill",o(this.start).tweenTo(o(this.end),this.pos),void 0,!0)}function j(){this.elem.attr("stroke",o(this.start).tweenTo(o(this.end),this.pos),void 0,!0)}return t=e=e||{},l=[],t.compose=function(t,e,o,i,r){var n;a=a||t,s.pushUnique(l,e)&&((t=e.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],p(e,"afterGetAxes",d),n=e.prototype.createAxis,e.prototype.createAxis=function(t,e){var o=this;if("colorAxis"!==t)return n.apply(o,arguments);t=new a(o,c(e.axis,{index:o[t].length,isX:!1}));return o.isDirtyLegend=!0,o.axes.forEach(function(t){t.series=[]}),o.series.forEach(function(t){t.bindAxes(),t.isDirtyData=!0}),u(e.redraw,!0)&&o.redraw(e.animation),t}),s.pushUnique(l,o)&&((t=o.prototype).fillSetter=M,t.strokeSetter=j),s.pushUnique(l,i)&&(p(i,"afterGetAllItems",f),p(i,"afterColorizeItem",y),p(i,"afterUpdate",m)),s.pushUnique(l,r)&&(h(r.prototype,{optionalAxis:"colorAxis",translateColors:x}),h(r.prototype.pointClass.prototype,{setVisible:v}),p(r,"afterTranslate",g,{order:1}),p(r,"bindAxes",b))},t.pointSetVisible=v,e}),e(t,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}}),e(t,"Core/Axis/Color/ColorAxisLike.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],function(t,e){var o,d=t.parse,f=e.merge;return(t=o=o||{}).initDataClasses=function(t){var e,o,i,r=this,n=r.chart,s=r.legendItem=r.legendItem||{},a=r.options,l=t.dataClasses||[],p=n.options.chart.colorCount,h=0;r.dataClasses=o=[],s.labels=[];for(var c=0,u=l.length;c<u;++c)e=l[c],e=f(e),o.push(e),!n.styledMode&&e.color||("category"===a.dataClassColor?(n.styledMode||(p=(i=n.options.colors||[]).length,e.color=i[h]),e.colorIndex=h,++h===p&&(h=0)):e.color=d(a.minColor).tweenTo(d(a.maxColor),u<2?.5:c/(u-1)))},t.initStops=function(){for(var t=this.options,e=this.stops=t.stops||[[0,t.minColor||""],[1,t.maxColor||""]],o=0,i=e.length;o<i;++o)e[o].color=d(e[o][1])},t.normalizedValue=function(t){var e=this.max||0,o=this.min||0;return 1-(e-(t=this.logarithmic?this.logarithmic.log2lin(t):t))/(e-o||1)},t.toColor=function(t,e){var o,i,r,n,s,a,l=this.dataClasses,p=this.stops;if(l){for(a=l.length;a--;)if(i=(s=l[a]).from,r=s.to,(void 0===i||i<=t)&&(void 0===r||t<=r)){n=s.color,e&&(e.dataClass=a,e.colorIndex=s.colorIndex);break}}else{for(o=this.normalizedValue(t),a=p.length;a--&&!(o>p[a][0]););i=p[a]||p[a+1],o=1-((r=p[a+1]||i)[0]-o)/(r[0]-i[0]||1),n=i.color.tweenTo(r.color,o)}return n},o}),e(t,"Core/Axis/Color/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Axis/Color/ColorAxisDefaults.js"],t["Core/Axis/Color/ColorAxisLike.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,r,e,o,d,i,n){var s,p,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),h=i.series,f=n.extend,y=n.fireEvent,l=n.isArray,c=n.isNumber,u=n.merge,m=n.pick,i=(a(g,p=t),g.compose=function(t,e,o,i){r.compose(g,t,e,o,i)},g.prototype.init=function(t,e){var o=this,i=t.options.legend||{},r=e.layout?"vertical"!==e.layout:"vertical"!==i.layout,n=e.visible,i=u(g.defaultColorAxisOptions,e,{showEmpty:!1,title:null,visible:i.enabled&&!1!==n});o.side=e.side||r?2:1,o.reversed=e.reversed||!r,o.opposite=!r,p.prototype.init.call(this,t,i,"colorAxis"),this.userOptions=e,l(t.userOptions.colorAxis)&&(t.userOptions.colorAxis[this.index]=e),e.dataClasses&&o.initDataClasses(e),o.initStops(),o.horiz=r,o.zoomEnabled=!1},g.prototype.hasData=function(){return!!(this.tickPositions||[]).length},g.prototype.setTickPositions=function(){if(!this.dataClasses)return p.prototype.setTickPositions.call(this)},g.prototype.setOptions=function(t){p.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},g.prototype.setAxisSize=function(){var t,e,o,i=this.legendItem&&this.legendItem.symbol,r=this.chart,n=r.options.legend||{};i?(this.left=t=i.attr("x"),this.top=e=i.attr("y"),this.width=o=i.attr("width"),this.height=i=i.attr("height"),this.right=r.chartWidth-t-o,this.bottom=r.chartHeight-e-i,this.len=this.horiz?o:i,this.pos=this.horiz?t:e):this.len=(this.horiz?n.symbolWidth:n.symbolHeight)||g.defaultLegendLength},g.prototype.getOffset=function(){var e,t=this,o=t.legendItem&&t.legendItem.group,i=t.chart.axisOffset[t.side];o&&(t.axisParent=o,p.prototype.getOffset.call(this),(e=this.chart.legend).allItems.forEach(function(t){t instanceof g&&t.drawLegendSymbol(e,t)}),e.render(),this.chart.getMargins(!0),t.added||(t.added=!0,t.labelLeft=0,t.labelRight=t.width),t.chart.axisOffset[t.side]=i)},g.prototype.setLegendColor=function(){var t=this.horiz,e=this.reversed,o=e?1:0,e=e?0:1,t=t?[o,0,e,0]:[0,e,0,o];this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},g.prototype.drawLegendSymbol=function(t,e){var e=e.legendItem||{},o=t.padding,i=t.options,r=this.options.labels,n=m(i.itemDistance,10),s=this.horiz,a=m(i.symbolWidth,s?g.defaultLegendLength:12),l=m(i.symbolHeight,s?12:g.defaultLegendLength),p=m(i.labelPadding,s?16:30);this.setLegendColor(),e.symbol||(e.symbol=this.chart.renderer.symbol("roundedRect",0,t.baseline-11,a,l,{r:null!=(t=i.symbolRadius)?t:3}).attr({zIndex:1}).add(e.group)),e.labelWidth=a+o+(s?n:m(r.x,r.distance)+this.maxLabelLength),e.labelHeight=l+o+(s?p:0)},g.prototype.setState=function(e){this.series.forEach(function(t){t.setState(e)})},g.prototype.setVisible=function(){},g.prototype.getSeriesExtremes=function(){var t,e,o,i,r,n,s,a,l=this.series,p=l.length;for(this.dataMin=1/0,this.dataMax=-1/0;p--;){if(e=(r=l[p]).colorKey=m(r.options.colorKey,r.colorKey,r.pointValKey,r.zoneAxis,"y"),a=r.pointArrayMap,i=r[e+"Min"]&&r[e+"Max"],r[e+"Data"])t=r[e+"Data"];else if(a){if(t=[],o=a.indexOf(e),n=r.yData,0<=o&&n)for(s=0;s<n.length;s++)t.push(m(n[s][o],n[s]))}else t=r.yData;i?(r.minColorValue=r[e+"Min"],r.maxColorValue=r[e+"Max"]):(a=h.prototype.getExtremes.call(r,t),r.minColorValue=a.dataMin,r.maxColorValue=a.dataMax),void 0!==r.minColorValue&&(this.dataMin=Math.min(this.dataMin,r.minColorValue),this.dataMax=Math.max(this.dataMax,r.maxColorValue)),i||h.prototype.applyExtremes.call(r)}},g.prototype.drawCrosshair=function(t,e){var o,i=this,r=i.legendItem||{},n=e&&e.plotX,s=e&&e.plotY,a=i.pos,l=i.len;e&&((o=i.toPixels(e.getNestedProperty(e.series.colorKey)))<a?o=a-2:a+l<o&&(o=a+l+2),e.plotX=o,e.plotY=i.len-o,p.prototype.drawCrosshair.call(this,t,e),e.plotX=n,e.plotY=s,i.cross&&!i.cross.addedToColorAxis&&r.group&&(i.cross.addClass("highcharts-coloraxis-marker").add(r.group),i.cross.addedToColorAxis=!0,i.chart.styledMode||"object"!=typeof i.crosshair||i.cross.attr({fill:i.crosshair.color})))},g.prototype.getPlotLinePath=function(t){var e=this.left,o=t.translatedValue,i=this.top;return c(o)?this.horiz?[["M",o-4,i-6],["L",o+4,i-6],["L",o,i],["Z"]]:[["M",e,o],["L",e-6,o+6],["L",e-6,o-6],["Z"]]:p.prototype.getPlotLinePath.call(this,t)},g.prototype.update=function(t,e){var o=this,i=o.chart.legend;this.series.forEach(function(t){t.isDirtyData=!0}),(t.dataClasses&&i.allItems||o.dataClasses)&&o.destroyItems(),p.prototype.update.call(this,t,e),o.legendItem&&o.legendItem.label&&(o.setLegendColor(),i.colorizeItem(this,!0))},g.prototype.destroyItems=function(){var t=this.chart,e=this.legendItem||{};if(e.label)t.legend.destroyItem(this);else if(e.labels)for(var o=0,i=e.labels;o<i.length;o++){var r=i[o];t.legend.destroyItem(r)}t.isDirtyLegend=!0},g.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),p.prototype.destroy.apply(this,[].slice.call(arguments))},g.prototype.remove=function(t){this.destroyItems(),p.prototype.remove.call(this,t)},g.prototype.getDataClassLegendSymbols=function(){function s(o){return l.series.reduce(function(t,e){return t.push.apply(t,e.points.filter(function(t){return t.dataClass===o})),t},[])}var a,l=this,p=l.chart,h=l.legendItem&&l.legendItem.labels||[],t=p.options.legend,c=m(t.valueDecimals,-1),u=m(t.valueSuffix,"");return h.length||l.dataClasses.forEach(function(t,r){var e=t.from,o=t.to,i=p.numberFormatter,n=!0;a="",void 0===e?a="< ":void 0===o&&(a="> "),void 0!==e&&(a+=i(e,c)+u),void 0!==e&&void 0!==o&&(a+=" - "),void 0!==o&&(a+=i(o,c)+u),h.push(f({chart:p,name:a,options:{},drawLegendSymbol:d.rectangle,visible:!0,isDataClass:!0,setState:function(t){for(var e=0,o=s(r);e<o.length;e++)o[e].setState(t)},setVisible:function(){this.visible=n=l.visible=!n;for(var t=[],e=0,o=s(r);e<o.length;e++){var i=o[e];i.setVisible(n),-1===t.indexOf(i.series)&&t.push(i.series)}p.legend.colorizeItem(this,n),t.forEach(function(t){y(t,"afterDataClassLegendClick")})}},t))}),h},g.defaultColorAxisOptions=e,g.defaultLegendLength=200,g.keepProps=["legendItem"],g);function g(t,e){var o=p.call(this,t,e)||this;return o.beforePadding=!1,o.chart=void 0,o.coll="colorAxis",o.dataClasses=void 0,o.options=void 0,o.stops=void 0,o.visible=!0,o.init(t,e),o}return f(i.prototype,o),Array.prototype.push.apply(t.keepProps,i.keepProps),i}),e(t,"Maps/MapNavigationDefaults.js",[],function(){return{lang:{zoomIn:"Zoom in",zoomOut:"Zoom out"},mapNavigation:{buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}}),e(t,"Maps/MapPointer.js",[t["Core/Utilities.js"]],function(t){var e,i,o,r,n=t.defined,s=t.extend,a=t.pick,l=t.pushUnique,p=t.wrap;function h(t){var e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)}function c(t){var e=this.chart,o=(t=this.normalize(t),n(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail);1<=Math.abs(o)&&(r+=Math.abs(o),i&&clearTimeout(i),i=setTimeout(function(){r=0},50)),r<10&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-o,void 0,[t.chartX,t.chartY],!(Math.abs(o)<1)&&void 0)}function u(t,e,o){var i=this.chart;return e=t.call(this,e,o),i&&i.mapView&&((t=i.mapView.pixelsToLonLat({x:e.chartX-i.plotLeft,y:e.chartY-i.plotTop}))&&s(e,t)),e}function d(t,e,o,i,r,n,s){t.call(this,e,o,i,r,n,s),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=i.scaleX>i.scaleY,this.pinchTranslateDirection(!t,e,o,i,r,n,s,t?i.scaleX:i.scaleY))}function f(t){var e=this.chart.options.mapNavigation;e&&a(e.enableTouchZoom,e.enabled)&&(this.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}return e=e||{},o=[],r=0,e.compose=function(t){l(o,t)&&(t=t.prototype,s(t,{onContainerDblClick:h,onContainerMouseWheel:c}),p(t,"normalize",u),p(t,"pinchTranslate",d),p(t,"zoomOption",f))},e}),e(t,"Maps/MapSymbols.js",[t["Core/Utilities.js"]],function(t){var s,e=t.pushUnique,o=[];function i(t,e,o,i,r){var n;return r&&(n=(null==r?void 0:r.r)||0,r.brBoxY=e-n,r.brBoxHeight=i+n),s.roundedRect(t,e,o,i,r)}function r(t,e,o,i,r){var n;return r&&(n=(null==r?void 0:r.r)||0,r.brBoxHeight=i+n),s.roundedRect(t,e,o,i,r)}return{compose:function(t){e(o,t)&&((s=t.prototype.symbols).bottombutton=i,s.topbutton=r)}}}),e(t,"Maps/MapNavigation.js",[t["Core/Defaults.js"],t["Maps/MapNavigationDefaults.js"],t["Maps/MapPointer.js"],t["Maps/MapSymbols.js"],t["Core/Utilities.js"]],function(t,i,r,n,e){var s=t.setOptions,f=e.addEvent,y=e.extend,m=e.merge,o=e.objectEach,a=e.pick,l=e.pushUnique,p=[];function g(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function h(t){this.navButtonsGroup=void 0,this.chart=t,this.navButtons=[],this.init(t)}return h.compose=function(t,e,o){r.compose(e),n.compose(o),l(p,t)&&f(t,"beforeRender",function(){this.mapNavigation=new h(this),this.mapNavigation.update()}),l(p,s)&&s(i)},h.prototype.init=function(t){this.chart=t},h.prototype.update=function(t){function l(t){this.handler.call(c,t),g(t)}var p,i,h=this,c=h.chart,u=h.navButtons,d=c.options.mapNavigation;for(t&&(d=c.options.mapNavigation=m(c.options.mapNavigation,t));u.length;)u.pop().destroy();!c.renderer.forExport&&a(d.enableButtons,d.enabled)&&(h.navButtonsGroup||(h.navButtonsGroup=c.renderer.g().attr({zIndex:4}).add()),o(d.buttons,function(t,e){t=m(d.buttonOptions,t),!c.styledMode&&t.theme&&((p=t.theme).style=m(t.theme.style,t.style));var o,i=t.text,r=t.width,r=void 0===r?0:r,n=t.height,n=void 0===n?0:n,s=t.padding,s=void 0===s?0:s,a=c.renderer.button("+"!==i&&"-"!==i&&i||"",0,0,l,p,void 0,void 0,void 0,"zoomIn"===e?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[e]).attr({width:r,height:n,title:c.options.lang[e],padding:t.padding,zIndex:5}).add(h.navButtonsGroup);"+"!==i&&"-"!==i||(r=[["M",s+3,s+n/2],["L",s+(e=r+1)-3,s+n/2]],"+"===i&&r.push(["M",s+e/2,s+3],["L",s+e/2,s+n-3]),c.renderer.path(r).addClass("highcharts-button-symbol").attr(c.styledMode?{}:{stroke:null==(i=t.style)?void 0:i.color,"stroke-width":3,"stroke-linecap":"round"}).add(a)),a.handler=t.onclick,f(a.element,"dblclick",g),u.push(a),y(t,{width:a.width,height:2*(a.height||0)}),c.hasLoaded?a.align(t,!1,t.alignTo):o=f(c,"load",function(){a.element&&a.align(t,!1,t.alignTo),o()})}),i=function(t,e){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)},c.hasLoaded||f(c,"render",function(){var t,e,o=c.exportingGroup&&c.exportingGroup.getBBox();o&&(e=h.navButtonsGroup.getBBox(),i(o,e)&&(t=-e.y-e.height+o.y-5,o=o.y+o.height-e.y+5,e=d.buttonOptions&&d.buttonOptions.verticalAlign,h.navButtonsGroup.attr({translateY:"bottom"===e?t:o})))})),this.updateEvents(d)},h.prototype.updateEvents=function(t){var e=this.chart;a(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||f(e.container,"dblclick",function(t){e.pointer.onContainerDblClick(t)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),a(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||f(e.container,"wheel",function(t){return e.pointer.inClass(t.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(t),g(t)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},h}),e(t,"Series/ColorMapComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,o){var e,i,r,t=t.seriesTypes.column.prototype,n=o.addEvent,s=o.defined;function a(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}return i=e=e||{},r=[],i.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0&&(void 0===this.value||!isNaN(this.value))}},i.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){var e={};!s(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color);return e},pointAttribs:t.pointAttribs},i.compose=function(t){var e=t.prototype.pointClass;return o.pushUnique(r,e)&&n(e,"afterSetState",a),t},e}),e(t,"Core/Chart/MapChart.js",[t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r,n,s,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=e.getOptions,p=i.isNumber,h=i.merge,c=i.pick,e=(a(u,n=t),u.prototype.init=function(t,e){var o=l().credits,o=h({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:c(o.mapText,' © <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:c(o.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},t);n.prototype.init.call(this,o,e)},u.prototype.mapZoom=function(t,e,o,i,r){this.mapView&&(p(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,p(e)&&p(o)?this.mapView.projection.inverse([e,o]):void 0,p(i)&&p(r)?[i,r]:void 0))},u);function u(){return null!==n&&n.apply(this,arguments)||this}return(s=e=u||{}).maps={},s.mapChart=function(t,e,o){return new s(t,e,o)},s.splitPath=function(t){return t="string"==typeof t?(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(t){return/[A-za-z]/.test(t)?t:parseFloat(t)}):t,o.prototype.pathToSegments(t)},e}),e(t,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(t){var o,i=-Number.MAX_VALUE,r=Number.MAX_VALUE,n=-Number.MAX_VALUE,s=Number.MAX_VALUE;if(t.forEach(function(t){var e=t[t.length-2],t=t[t.length-1];"number"==typeof e&&"number"==typeof t&&(r=Math.min(r,e),i=Math.max(i,e),s=Math.min(s,t),n=Math.max(n,t),o=!0)}),o)return{x1:r,y1:s,x2:i,y2:n}},pointInPolygon:function(t,e){for(var o=!1,i=t.x,r=t.y,n=0,s=e.length-1;n<e.length;s=n++)e[n][1]>r!=e[s][1]>r&&i<(e[s][0]-e[n][0])*(r-e[n][1])/(e[s][1]-e[n][1])+e[n][0]&&(o=!o);return o}}}),e(t,"Series/Map/MapPoint.js",[t["Series/ColorMapComposition.js"],t["Maps/MapUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r,n,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=e.boundsFromPath,e=o.seriesTypes.scatter.prototype.pointClass,l=i.extend,p=i.isNumber,h=i.pick,o=(s(c,n=e),c.getProjectedPath=function(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]},c.prototype.applyOptions=function(t,e){var o=this.series,t=n.prototype.applyOptions.call(this,t,e),e=o.joinBy;return o.mapData&&o.mapMap&&(e=e[1],(e=void 0!==(e=n.prototype.getNestedProperty.call(this,e))&&o.mapMap[e])?l(t,e):-1!==o.pointArrayMap.indexOf("value")&&(t.value=t.value||null)),t},c.prototype.getProjectedBounds=function(t){var e,o,i=c.getProjectedPath(this,t),i=a(i),r=this.properties,n=this.series.chart.mapView;if(i)return e=r&&r["hc-middle-lon"],o=r&&r["hc-middle-lat"],n&&p(e)&&p(o)?(n=t.forward([e,o]),i.midX=n[0],i.midY=n[1]):(t=r&&r["hc-middle-x"],e=r&&r["hc-middle-y"],i.midX=i.x1+(i.x2-i.x1)*h(this.middleX,p(t)?t:.5),o=h(this.middleY,p(e)?e:.5),this.geometry||(o=1-o),i.midY=i.y2-(i.y2-i.y1)*o),i},c.prototype.onMouseOver=function(t){i.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?n.prototype.onMouseOver.call(this,t):this.series.onMouseOut()},c.prototype.setVisible=function(t){var e=t?"show":"hide";this.visible=this.options.visible=!!t,this.dataLabel&&this.dataLabel[e](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))},c.prototype.zoomTo=function(t){var e,o,i=this,r=i.series.chart,n=r.mapView,s=i.bounds;n&&s&&((o=p(i.insetIndex)&&n.insets[i.insetIndex])&&(e=o.projectedUnitsToPixels({x:s.x1,y:s.y1}),o=o.projectedUnitsToPixels({x:s.x2,y:s.y2}),e=n.pixelsToProjectedUnits({x:e.x,y:e.y}),o=n.pixelsToProjectedUnits({x:o.x,y:o.y}),s={x1:e.x,y1:e.y,x2:o.x,y2:o.y}),n.fitToBounds(s,void 0,!1),i.series.isDirty=!0,r.redraw(t))},c);function c(){var t=null!==n&&n.apply(this,arguments)||this;return t.options=void 0,t.path=void 0,t.series=void 0,t}return l(o.prototype,{dataLabelOnNull:t.pointMembers.dataLabelOnNull,moveToTopOnHover:t.pointMembers.moveToTopOnHover,isValid:t.pointMembers.isValid}),o}),e(t,"Series/Map/MapSeriesDefaults.js",[t["Core/Utilities.js"]],function(t){var o=t.isNumber;return{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return o(e)?t(e,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}}),e(t,"Maps/MapViewDefaults.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0,insetOptions:{borderColor:"#cccccc",borderWidth:1,padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}}),e(t,"Maps/GeoJSONComposition.js",[t["Core/Globals.js"],t["Core/Templating.js"],t["Core/Utilities.js"]],function(t,e,o){var i,r,u=t.win,d=e.format,f=o.error,y=o.extend,n=o.merge,s=o.pushUnique,a=o.wrap;function l(t){return this.mapView&&this.mapView.lonLatToProjectedUnits(t)}function p(t){return this.mapView&&this.mapView.projectedUnitsToLonLat(t)}function h(t,e){var o,i,r,n,s,a,l,p,h,c=this.options.chart.proj4||u.proj4;{if(c)return o=void 0===(o=e.jsonmarginX)?0:o,i=void 0===(i=e.jsonmarginY)?0:i,r=void 0===(r=e.jsonres)?1:r,n=void 0===(n=e.scale)?1:n,s=void 0===(s=e.xoffset)?0:s,a=void 0===(a=e.xpan)?0:a,l=void 0===(l=e.yoffset)?0:l,p=void 0===(p=e.ypan)?0:p,c=c(e.crs,[t.lon,t.lat]),t=e.cosAngle||e.rotation&&Math.cos(e.rotation),h=e.sinAngle||e.rotation&&Math.sin(e.rotation),{x:(((e=e.rotation?[c[0]*t+c[1]*h,-c[0]*h+c[1]*t]:c)[0]-s)*n+a)*r+o,y:-(((l-e[1])*n+p)*r-i)};f(21,!1,this)}}function c(t,e){var o,i,r,n,s,a,l,p,h=this.options.chart.proj4||u.proj4;if(h){if(null!==t.y)return i=e.jsonmarginX,o=e.jsonmarginY,r=e.jsonres,l=e.scale,p=e.xoffset,a=e.xpan,n=e.yoffset,s=e.ypan,a={x:((t.x-(void 0===i?0:i))/(i=void 0===r?1:r)-(void 0===a?0:a))/(r=void 0===l?1:l)+(void 0===p?0:p),y:((t.y-(void 0===o?0:o))/i+(void 0===s?0:s))/r+(void 0===n?0:n)},l=e.cosAngle||e.rotation&&Math.cos(e.rotation),p=e.sinAngle||e.rotation&&Math.sin(e.rotation),{lat:(t=h(e.crs,"WGS84",e.rotation?{x:a.x*l+a.y*-p,y:a.x*p+a.y*l}:a)).y,lon:t.x}}else f(21,!1,this)}function m(t,e){e=e||Object.keys(t.objects)[0];e=t.objects[e];if(e["hc-decoded-geojson"])return e["hc-decoded-geojson"];var r=t.arcs;if(t.transform)for(var o=t.arcs,i=t.transform,n=i.scale,s=i.translate,a=void 0,l=void 0,p=void 0,r=[],h=0,c=o.length;h<c;++h){var u=o[h];r.push(a=[]);for(var l=0,p=0,d=0,f=u.length;d<f;++d)a.push([(l+=u[d][0])*n[0]+s[0],(p+=u[d][1])*n[1]+s[1]])}for(var y=function(t){return"number"==typeof t[0]?t.reduce(function(t,e,o){var i=e<0?r[~e]:r[e];return e<0?(i=i.slice(0,0===o?i.length:i.length-1)).reverse():o&&(i=i.slice(1)),t.concat(i)},[]):t.map(y)},m=e.geometries,g=[],h=0,c=m.length;h<c;++h)g.push({type:"Feature",properties:m[h].properties,geometry:{type:m[h].type,coordinates:m[h].coordinates||y(m[h].arcs)}});i={type:"FeatureCollection",copyright:t.copyright,copyrightShort:t.copyrightShort,copyrightUrl:t.copyrightUrl,features:g,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:t.bbox,title:t.title};return e["hc-decoded-geojson"]=i}function g(t,e){e=n(!0,this.options.credits,e),this.mapCredits&&(e.href=void 0),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}return t=i=i||{},r=[],t.compose=function(t){s(r,t)&&((t=t.prototype).fromLatLonToPoint=l,t.fromPointToLatLon=p,t.transformFromLatLon=h,t.transformToLatLon=c,a(t,"addCredits",g))},t.geojson=function(t,e,o){void 0===e&&(e="map");for(var i,r=[],n=(t="Topology"===t.type?m(t):t).features,s=0,a=n.length;s<a;++s){var l,p=n[s],h=p.geometry||{},c=h.type,h=h.coordinates,p=p.properties,u=void 0;("map"!==e&&"mapbubble"!==e||"Polygon"!==c&&"MultiPolygon"!==c)&&("mapline"!==e||"LineString"!==c&&"MultiLineString"!==c)?"mappoint"===e&&"Point"===c&&h.length&&(u={geometry:{coordinates:h,type:c}}):h.length&&(u={geometry:{coordinates:h,type:c}}),u&&(h=p&&(p.name||p.NAME),c=p&&p.lon,l=p&&p.lat,r.push(y(u,{lat:"number"==typeof l?l:void 0,lon:"number"==typeof c?c:void 0,name:"string"==typeof h?h:void 0,properties:p})))}return o&&t.copyrightShort&&(o.chart.mapCredits=d(null==(i=o.chart.options.credits)?void 0:i.mapText,{geojson:t}),o.chart.mapCreditsFull=d(null==(i=o.chart.options.credits)?void 0:i.mapTextFull,{geojson:t})),r},t.topo2geo=m,i}),e(t,"Core/Geometry/PolygonClip.js",[],function(){function n(t,e,o){void 0===o&&(o=!0);for(var i,r=e[e.length-1],n=t,s=0;s<e.length;s++){for(var a=n,l=e[s],n=[],p=o?a[a.length-1]:a[0],h=0;h<a.length;h++)c(r,l,i=a[h])?(c(r,l,p)||n.push(u(r,l,p,i)),n.push(i)):c(r,l,p)&&n.push(u(r,l,p,i)),p=i;r=l}return n}function c(t,e,o){return(e[0]-t[0])*(o[1]-t[1])>(e[1]-t[1])*(o[0]-t[0])}function u(t,e,o,i){var r=[t[0]-e[0],t[1]-e[1]],n=[o[0]-i[0],o[1]-i[1]],t=t[0]*e[1]-t[1]*e[0],e=o[0]*i[1]-o[1]*i[0],o=1/(r[0]*n[1]-r[1]*n[0]),i=[(t*n[0]-e*r[0])*o,(t*n[1]-e*r[1])*o];return i.isIntersection=!0,i}return{clipLineString:function(t,e){for(var o=[],i=n(t,e,!1),r=1;r<i.length;r++)i[r].isIntersection&&i[r-1].isIntersection&&(o.push(i.splice(0,r)),r=0),r===i.length-1&&o.push(i);return o},clipPolygon:n}}),e(t,"Maps/Projections/LambertConformalConic.js",[],function(){function s(t){return Math.tan((h+t)/2)}var a=Math.sign||function(t){return 0===t?0:0<t?1:-1},l=63.78137,p=Math.PI/180,h=Math.PI/2;function t(t){var e=(t.parallels||[]).map(function(t){return t*p}),o=e[0]||0,e=null!=(e=e[1])?e:o,i=Math.cos(o),t=("object"==typeof t.projectedBounds&&(this.projectedBounds=t.projectedBounds),o===e?Math.sin(o):Math.log(i/Math.cos(e))/Math.log(s(e)/s(o)));Math.abs(t)<1e-10&&(t=1e-10*(a(t)||1)),this.n=t,this.c=i*Math.pow(s(o),t)/t}return t.prototype.forward=function(t){var e=this.c,o=this.n,i=this.projectedBounds,r=t[0]*p,t=t[1]*p,t=(0<e?t<1e-6-h&&(t=1e-6-h):h-1e-6<t&&(t=h-1e-6),e/Math.pow(s(t),o)),n=t*Math.sin(o*r)*l,e=(e-t*Math.cos(o*r))*l,t=[n,e];return i&&(n<i.x1||n>i.x2||e<i.y1||e>i.y2)&&(t.outside=!0),t},t.prototype.inverse=function(t){var e=this.c,o=this.n,i=t[0]/l,t=e-t[1]/l,r=a(o)*Math.sqrt(i*i+t*t),n=Math.atan2(i,Math.abs(t))*a(t);return t*o<0&&(n-=Math.PI*a(i)*a(t)),[n/o/p,(2*Math.atan(Math.pow(e/r,1/o))-h)/p]},t}),e(t,"Maps/Projections/EqualEarth.js",[],function(){var l=1.340264,p=-.081106,h=893e-6,c=.003796,u=Math.sqrt(3)/2,d=74.03120656864502;function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}return t.prototype.forward=function(t){var e=Math.PI/180,o=Math.asin(u*Math.sin(t[1]*e)),i=o*o,r=i*i*i;return[t[0]*e*Math.cos(o)*d/(u*(l+3*p*i+r*(7*h+9*c*i))),o*d*(l+p*i+r*(h+c*i))]},t.prototype.inverse=function(t){for(var e,o=t[0]/d,i=t[1]/d,t=180/Math.PI,r=i,n=0;n<12&&(r-=e=(r*(l+p*(s=r*r)+(a=s*s*s)*(h+c*s))-i)/(l+3*p*s+a*(7*h+9*c*s)),!(Math.abs(e)<1e-9));++n);var s,a,o=t*u*o*(l+3*p*(s=r*r)+(a=s*s*s)*(7*h+9*c*s))/Math.cos(r),t=t*Math.asin(Math.sin(r)/u);return 180<Math.abs(o)?[NaN,NaN]:[o,t]},t}),e(t,"Maps/Projections/Miller.js",[],function(){var e=Math.PI/4,o=Math.PI/180,i=63.78137;function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}return t.prototype.forward=function(t){return[t[0]*o*i,1.25*i*Math.log(Math.tan(e+.4*t[1]*o))]},t.prototype.inverse=function(t){return[t[0]/i/o,2.5*(Math.atan(Math.exp(t[1]/i*.8))-e)/o]},t}),e(t,"Maps/Projections/Orthographic.js",[],function(){var n=Math.PI/180,s=63.78460826781007;function t(){this.antimeridianCutting=!1,this.bounds={x1:-s,x2:s,y1:-s,y2:s}}return t.prototype.forward=function(t){var e=t[0],t=t[1]*n,t=[Math.cos(t)*Math.sin(e*n)*s,Math.sin(t)*s];return(e<-90||90<e)&&(t.outside=!0),t},t.prototype.inverse=function(t){var e=t[0]/s,t=t[1]/s,o=Math.sqrt(e*e+t*t),i=Math.asin(o),r=Math.sin(i),i=Math.cos(i);return[Math.atan2(e*r,o*i)/n,Math.asin(o&&t*r/o)/n]},t}),e(t,"Maps/Projections/WebMercator.js",[],function(){var o=63.78137,i=Math.PI/180;function t(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}return t.prototype.forward=function(t){var e=Math.sin(t[1]*i),e=[o*t[0]*i,o*Math.log((1+e)/(1-e))/2];return Math.abs(t[1])>this.maxLatitude&&(e.outside=!0),e},t.prototype.inverse=function(t){return[t[0]/(o*i),(2*Math.atan(Math.exp(t[1]/o))-Math.PI/2)/i]},t}),e(t,"Maps/Projections/ProjectionRegistry.js",[t["Maps/Projections/LambertConformalConic.js"],t["Maps/Projections/EqualEarth.js"],t["Maps/Projections/Miller.js"],t["Maps/Projections/Orthographic.js"],t["Maps/Projections/WebMercator.js"]],function(t,e,o,i,r){return{EqualEarth:e,LambertConformalConic:t,Miller:o,Orthographic:i,WebMercator:r}}),e(t,"Maps/Projection.js",[t["Core/Geometry/PolygonClip.js"],t["Maps/Projections/ProjectionRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var w=this&&this.__spreadArray||function(t,e,o){if(o||2===arguments.length)for(var i,r=0,n=e.length;r<n;r++)!i&&r in e||((i=i||Array.prototype.slice.call(e,0,r))[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},v=t.clipLineString,x=t.clipPolygon,P=o.clamp,S=o.erase,M=2*Math.PI/360,A=1e-6;function L(t){return t<-180&&(t+=360),180<t&&(t-=360),t}function T(t){void 0===t&&(t={}),this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90;var e=(this.options=t).name,o=t.projectedBounds,i=t.rotation,i=(this.rotator=i?this.getRotator(i):void 0,e?T.registry[e]:void 0),r=(i&&(this.def=new i(t)),this.def),n=this.rotator;r&&(this.maxLatitude=r.maxLatitude||90,this.hasGeoProjection=!0),n&&r?(this.forward=function(t){return r.forward(n.forward(t))},this.inverse=function(t){return n.inverse(r.inverse(t))}):r?(this.forward=function(t){return r.forward(t)},this.inverse=function(t){return r.inverse(t)}):n&&(this.forward=n.forward,this.inverse=n.inverse),this.bounds="world"===o?r&&r.bounds:o}return T.add=function(t,e){T.registry[t]=e},T.greatCircle=function(t,e,o){var i=Math.atan2,r=Math.cos,n=Math.sin,s=Math.sqrt,a=t[1]*M,l=t[0]*M,p=e[1]*M,h=e[0]*M,c=p-a,u=h-l,c=n(c/2)*n(c/2)+r(a)*r(p)*n(u/2)*n(u/2),d=2*i(s(c),s(1-c)),u=Math.round(6371e3*d/5e5),f=[];if(o&&f.push(t),1<u)for(var y=1/u,m=y;m<.999;m+=y){var g=n((1-m)*d)/n(d),b=n(m*d)/n(d),v=g*r(a)*r(l)+b*r(p)*r(h),x=g*r(a)*n(l)+b*r(p)*n(h),g=i(g*n(a)+b*n(p),s(v*v+x*x)),b=i(x,v);f.push([b/M,g/M])}return o&&f.push(e),f},T.insertGreatCircles=function(t){for(var e,o=t.length-1;o--;)10<Math.max(Math.abs(t[o][0]-t[o+1][0]),Math.abs(t[o][1]-t[o+1][1]))&&((e=T.greatCircle(t[o],t[o+1])).length&&t.splice.apply(t,w([o+1,0],e,!1)))},T.toString=function(t){var t=t||{},e=t.name,t=t.rotation;return[e,t&&t.join(",")].join(";")},T.prototype.lineIntersectsBounds=function(t){function e(t,e,o){var i,r=t[0],t=t[1],n=e?0:1;if("number"==typeof o&&r[e]>=o!=t[e]>=o)return i=(o-r[e])/(t[e]-r[e]),i=r[n]+i*(t[n]-r[n]),e?[i,o]:[o,i]}var o=this.bounds||{},i=o.x1,r=o.x2,n=o.y1,o=o.y2,s=t[0];return((i=e(t,0,i))||(i=e(t,0,r)))&&(s=i,t[1]=i),s=(i=e(t,1,n))||(i=e(t,1,o))?i:s},T.prototype.getRotator=function(t){var r=t[0]*M,e=(t[1]||0)*M,t=(t[2]||0)*M,n=Math.cos(e),s=Math.sin(e),a=Math.cos(t),l=Math.sin(t);if(0!=r||0!=e||0!=t)return{forward:function(t){var e=t[0]*M+r,t=t[1]*M,o=Math.cos(t),i=Math.cos(e)*o,e=Math.sin(e)*o,o=Math.sin(t),t=o*n+i*s;return[Math.atan2(e*a-t*l,i*n-o*s)/M,Math.asin(t*a+e*l)/M]},inverse:function(t){var e=t[0]*M,t=t[1]*M,o=Math.cos(t),i=Math.cos(e)*o,e=Math.sin(e)*o,o=Math.sin(t),t=o*a-e*l;return[(Math.atan2(e*a+o*l,i*n+t*s)-r)/M,Math.asin(t*n-i*s)/M]}}},T.prototype.forward=function(t){return t},T.prototype.inverse=function(t){return t},T.prototype.cutOnAntimeridian=function(t,e){for(var o,i=[],r=[t],n=0,s=t.length;n<s;++n){var a=t[n],l=t[n-1];if(!n){if(!e)continue;l=t[t.length-1]}var p,h=l[0],c=a[0];(h<-90||90<h)&&(c<-90||90<c)&&0<h!=0<c&&(p=P((180-(h+360)%360)/((c+360)%360-(h+360)%360),0,1),g=l[1]+p*(a[1]-l[1]),i.push({i:n,lat:g,direction:h<0?1:-1,previousLonLat:l,lonLat:a}))}if(i.length)if(e){i.length%2==1&&(o=i.slice().sort(function(t,e){return Math.abs(e.lat)-Math.abs(t.lat)})[0],S(i,o));for(n=i.length-2;0<=n;){var u=i[n].i,d=L(180+i[n].direction*A),f=L(180-i[n].direction*A);(C=t.splice.apply(t,w([u,i[n+1].i-u],T.greatCircle([d,i[n].lat],[d,i[n+1].lat],!0),!1))).push.apply(C,T.greatCircle([f,i[n+1].lat],[f,i[n].lat],!0)),r.push(C),n-=2}if(o)for(var y=0;y<r.length;y++){var m=o.direction,g=o.lat,b=r[y],v=b.indexOf(o.lonLat);if(-1<v){for(var x=(g<0?-1:1)*this.maxLatitude,h=L(180+m*A),c=L(180-m*A),M=T.greatCircle([h,g],[h,x],!0),j=h+120*m;-180<j&&j<180;j+=120*m)M.push([j,x]);M.push.apply(M,T.greatCircle([c,x],[c,o.lat],!0)),b.splice.apply(b,w([v,0],M,!1));break}}}else for(n=i.length;n--;){var C,u=i[n].i;(C=t.splice(u,t.length,[L(180+i[n].direction*A),i[n].lat])).unshift([L(180-i[n].direction*A),i[n].lat]),r.push(C)}return r},T.prototype.path=function(t){function e(t){var e=[t=t.map(function(t){var e;return g&&(e=(t=n?n.forward(t):t)[0],t=[e=Math.abs(e-180)<A?e<180?180-A:180+A:e,t[1]]),t})];m&&(T.insertGreatCircles(t),g&&(e=o.cutOnAntimeridian(t,y))),e.forEach(function(t){if(!(t.length<2)){var e,o,i=!1,r=!1,n=function(t){i?f.push(["L",t[0],t[1]]):(f.push(["M",t[0],t[1]]),i=!0)},s=!1,a=!1,l=t.map(function(t){t=b.forward(t);return t.outside?s=!0:a=!0,t[1]===1/0?t[1]=1e10:t[1]===-1/0&&(t[1]=-1e10),t});if(g){if(y&&l.push(l[0]),s){if(!a)return;if(u)if(y)l=x(l,u);else if(d)return void v(l,u).forEach(function(t){i=!1,t.forEach(n)})}l.forEach(n)}else for(var p=0;p<l.length;p++)var h=t[p],c=l[p],r=!!c.outside||(y&&!e&&(t.push(e=h),l.push(c)),r&&o&&(y&&m?T.greatCircle(o,h).forEach(function(t){return n(b.forward(t))}):i=!1),n(c),o=h,!1)}})}var u,o=this,d=this.bounds,i=this.def,r=this.rotator,f=[],y="Polygon"===t.type||"MultiPolygon"===t.type,m=this.hasGeoProjection,g=!i||!1!==i.antimeridianCutting,n=g?r:void 0,b=g&&i||this;d&&(u=[[d.x1,d.y1],[d.x2,d.y1],[d.x2,d.y2],[d.x1,d.y2]]);return"LineString"===t.type?e(t.coordinates):"MultiLineString"===t.type?t.coordinates.forEach(e):"Polygon"===t.type?(t.coordinates.forEach(e),f.length&&f.push(["Z"])):"MultiPolygon"===t.type&&(t.coordinates.forEach(function(t){t.forEach(e)}),f.length&&f.push(["Z"])),f},T.registry=e,T}),e(t,"Maps/MapView.js",[t["Maps/MapViewDefaults.js"],t["Maps/GeoJSONComposition.js"],t["Maps/MapUtilities.js"],t["Maps/Projection.js"],t["Core/Utilities.js"]],function(p,t,e,h,o){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__spreadArray||function(t,e,o){if(o||2===arguments.length)for(var i,r=0,n=e.length;r<n;r++)!i&&r in e||((i=i||Array.prototype.slice.call(e,0,r))[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},n=t.topo2geo,s=e.boundsFromPath,u=e.pointInPolygon,d=o.addEvent,f=o.clamp,y=o.fireEvent,a=o.isArray,m=o.isNumber,l=o.isObject,g=o.isString,b=o.merge,v=o.pick,x=o.pushUnique,M=o.relativeLength,j=[],C=400.979322,w={};function P(t,e){var o=e.width,e=e.height,o=Math.max((t.x2-t.x1)/(o/256),(t.y2-t.y1)/(e/256));return Math.log(C/o)/Math.log(2)}A.compose=function(t){x(j,t)&&(w=t.maps,d(t,"afterInit",function(){this.mapView=new A(this,this.options.mapView)},{order:0}))},A.compositeBounds=function(t){if(t.length)return t.slice(1).reduce(function(t,e){return t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t},b(t[0]))},A.mergeInsets=function(t,e){function o(t){var o={};return t.forEach(function(t,e){o[t&&t.id||"i".concat(e)]=t}),o}var i=b(o(t),o(e));return Object.keys(i).map(function(t){return i[t]})},A.prototype.createInsets=function(){var e=this,o=this.options,t=o.insets;t&&t.forEach(function(t){t=new T(e,b(o.insetOptions,t));e.insets.push(t)})},A.prototype.fitToBounds=function(t,e,o,i){void 0===o&&(o=!0);var r,n=t||this.getProjectedBounds();n&&(e=v(e,t?0:this.options.padding),r=this.getField(!1),e=a(e)?e:[e,e,e,e],this.padding=[M(e[0],r.height),M(e[1],r.width),M(e[2],r.height),M(e[3],r.width)],this.playingField=this.getField(),e=P(n,this.playingField),t||(this.minZoom=e),r=this.projection.inverse([(n.x2+n.x1)/2,(n.y2+n.y1)/2]),this.setView(r,e,o,i))},A.prototype.getField=function(t){t=(t=void 0===t?!0:t)?this.padding:[0,0,0,0];return{x:t[3],y:t[0],width:this.chart.plotWidth-t[1]-t[3],height:this.chart.plotHeight-t[0]-t[2]}},A.prototype.getGeoMap=function(t){return g(t)?w[t]&&"Topology"===w[t].type?n(w[t]):w[t]:l(t,!0)?"FeatureCollection"===t.type?t:"Topology"===t.type?n(t):void 0:void 0},A.prototype.getMapBBox=function(){var t,e,o=this.getProjectedBounds(),i=this.getScale();if(o)return t=this.padding,e=this.projectedUnitsToPixels({x:o.x1,y:o.y2}),{width:(o.x2-o.x1)*i+t[1]+t[3],height:(o.y2-o.y1)*i+t[0]+t[2],x:e.x-t[3],y:e.y-t[0]}},A.prototype.getProjectedBounds=function(){var t,e,o=this.projection,i=this.chart.series.reduce(function(t,e){var o=e.getProjectedBounds&&e.getProjectedBounds();return o&&!1!==e.options.affectsMapView&&t.push(o),t},[]),r=this.options.fitToGeometry;return r?(this.fitToGeometryCache||("MultiPoint"===r.type?(t=(e=r.coordinates.map(function(t){return o.forward(t)})).map(function(t){return t[0]}),e=e.map(function(t){return t[1]}),this.fitToGeometryCache={x1:Math.min.apply(0,t),x2:Math.max.apply(0,t),y1:Math.min.apply(0,e),y2:Math.max.apply(0,e)}):this.fitToGeometryCache=s(o.path(r))),this.fitToGeometryCache):this.projection.bounds||A.compositeBounds(i)},A.prototype.getScale=function(){return 256/C*Math.pow(2,this.zoom)},A.prototype.getSVGTransform=function(){var t=this.playingField,e=t.x,o=t.y,i=t.width,t=t.height,r=this.projection.forward(this.center),n=this.projection.hasCoordinates?-1:1,s=this.getScale(),n=s*n;return{scaleX:s,scaleY:n,translateX:e+i/2-r[0]*s,translateY:o+t/2-r[1]*n}},A.prototype.lonLatToPixels=function(t){t=this.lonLatToProjectedUnits(t);if(t)return this.projectedUnitsToPixels(t)},A.prototype.lonLatToProjectedUnits=function(t){var e=this.chart,o=e.mapTransforms;if(o){for(var i in o)if(Object.hasOwnProperty.call(o,i)&&o[i].hitZone){var r=e.transformFromLatLon(t,o[i]);if(r&&u(r,o[i].hitZone.coordinates[0]))return r}return e.transformFromLatLon(t,o.default)}for(var n=0,s=this.insets;n<s.length;n++){var a,l=s[n];if(l.options.geoBounds&&u({x:t.lon,y:t.lat},l.options.geoBounds.coordinates[0]))return a=l.projection.forward([t.lon,t.lat]),l=l.projectedUnitsToPixels({x:a[0],y:a[1]}),this.pixelsToProjectedUnits(l)}var p=this.projection.forward([t.lon,t.lat]);if(!p.outside)return{x:p[0],y:p[1]}},A.prototype.projectedUnitsToLonLat=function(t){var e=this.chart,o=e.mapTransforms;if(o){for(var i in o)if(Object.hasOwnProperty.call(o,i)&&o[i].hitZone&&u(t,o[i].hitZone.coordinates[0]))return e.transformToLatLon(t,o[i]);return e.transformToLatLon(t,o.default)}for(var r=this.projectedUnitsToPixels(t),n=0,s=this.insets;n<s.length;n++){var a,l=s[n];if(l.hitZone&&u(r,l.hitZone.coordinates[0]))return a=l.pixelsToProjectedUnits(r),{lon:(l=l.projection.inverse([a.x,a.y]))[0],lat:l[1]}}var p=this.projection.inverse([t.x,t.y]);return{lon:p[0],lat:p[1]}},A.prototype.redraw=function(t){this.chart.series.forEach(function(t){t.useMapGeometry&&(t.isDirty=!0)}),this.chart.redraw(t)},A.prototype.setView=function(t,e,o,i){void 0===o&&(o=!0),t&&(this.center=t),"number"==typeof e&&("number"==typeof this.minZoom&&(e=Math.max(e,this.minZoom)),"number"==typeof this.options.maxZoom&&(e=Math.min(e,this.options.maxZoom)),m(e)&&(this.zoom=e));var r,n,s,a,l,p,h,c,u,t=this.getProjectedBounds();t&&(e=this.projection.forward(this.center),r=(a=this.playingField).x,n=a.y,s=a.width,a=a.height,l=this.getScale(),u=this.projectedUnitsToPixels({x:t.x1,y:t.y1}),c=this.projectedUnitsToPixels({x:t.x2,y:t.y2}),t=[(t.x1+t.x2)/2,(t.y1+t.y2)/2],this.chart.series.some(function(t){return t.isDrilling})||(p=u.x,h=c.y,c=c.x,u=u.y,c-p<s?e[0]=t[0]:p<r&&c<r+s?e[0]+=Math.max(p-r,c-s-r)/l:r+s<c&&r<p&&(e[0]+=Math.min(c-s-r,p-r)/l),u-h<a?e[1]=t[1]:h<n&&u<n+a?e[1]-=Math.max(h-n,u-a-n)/l:n+a<u&&n<h&&(e[1]-=Math.min(u-a-n,h-n)/l),this.center=this.projection.inverse(e)),this.insets.forEach(function(t){t.options.field&&(t.hitZone=t.getHitZone(),t.playingField=t.getField())}),this.render()),y(this,"afterSetView"),o&&this.redraw(i)},A.prototype.projectedUnitsToPixels=function(t){var e=this.getScale(),o=this.projection.forward(this.center),i=this.playingField,r=i.x+i.width/2,i=i.y+i.height/2;return{x:r-e*(o[0]-t.x),y:i+e*(o[1]-t.y)}},A.prototype.pixelsToLonLat=function(t){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(t))},A.prototype.pixelsToProjectedUnits=function(t){var e=t.x,t=t.y,o=this.getScale(),i=this.projection.forward(this.center),r=this.playingField,n=r.x+r.width/2,r=r.y+r.height/2;return{x:i[0]+(e-n)/o,y:i[1]-(t-r)/o}},A.prototype.setUpEvents=function(){function t(t){var e,o,i,r=u.pointer.pinchDown,n=c.projection,s=u.mouseDownX,a=u.mouseDownY;1===r.length&&(s=r[0].chartX,a=r[0].chartY),"number"==typeof s&&"number"==typeof a&&(r=""+s+",".concat(a),e=(o=t.originalEvent).chartX,o=o.chartY,r!==p&&(p=r,l=c.projection.forward(c.center),h=(c.projection.options.rotation||[0,0]).slice()),r=(r=n.def&&n.def.bounds)&&P(r,c.playingField)||-1/0,"Orthographic"===n.options.name&&(c.minZoom||1/0)<1.3*r?(n=440/(c.getScale()*Math.min(u.plotWidth,u.plotHeight)),h&&(r=(s-e)*n-h[0],n=f(-h[1]-(a-o)*n,-80,80),i=c.zoom,c.update({projection:{rotation:[-r,-n]}},!1),c.fitToBounds(void 0,void 0,!1),c.zoom=i,u.redraw(!1))):m(e)&&m(o)&&(r=c.getScale(),n=c.projection.hasCoordinates?1:-1,i=c.projection.inverse([l[0]+(s-e)/r,l[1]-(a-o)/r*n]),isNaN(i[0]+i[1])||c.setView(i,void 0,!0,!1)),t.preventDefault())}var l,p,h,c=this,u=this.chart;d(u,"pan",t),d(u,"touchpan",t),d(u,"selection",function(t){var e,o,i,r;t.resetSelection?c.zoomBy():(r=t.x-u.plotLeft,i=t.y-u.plotTop,e=(o=c.pixelsToProjectedUnits({x:r,y:i})).y,o=o.x,i=(r=c.pixelsToProjectedUnits({x:r+t.width,y:i+t.height})).y,r=r.x,c.fitToBounds({x1:o,y1:e,x2:r,y2:i},void 0,!0,!t.originalEvent.touches&&void 0),/^touch/.test(t.originalEvent.type)||u.showResetZoom(),t.preventDefault())})},A.prototype.render=function(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())},A.prototype.update=function(t,e,o){void 0===e&&(e=!0);var i=t.projection,i=i&&h.toString(i)!==h.toString(this.options.projection),r=!1;b(!0,this.userOptions,t),b(!0,this.options,t),"insets"in t&&(this.insets.forEach(function(t){return t.destroy()}),this.insets.length=0,r=!0),(i||"fitToGeometry"in t)&&delete this.fitToGeometryCache,(i||r)&&(this.chart.series.forEach(function(t){var e=t.transformGroups;if(t.clearBounds&&t.clearBounds(),t.isDirty=!0,t.isDirtyData=!0,r&&e)for(;1<e.length;){var o=e.pop();o&&o.destroy()}}),i&&(this.projection=new h(this.options.projection)),r&&this.createInsets(),t.center||!Object.hasOwnProperty.call(t,"zoom")||m(t.zoom)||this.fitToBounds(void 0,void 0,!1)),t.center||m(t.zoom)?this.setView(this.options.center,t.zoom,!1):"fitToGeometry"in t&&this.fitToBounds(void 0,void 0,!1),e&&this.chart.redraw(o)},A.prototype.zoomBy=function(t,e,o,i){var r,n,s,a,l=this.chart,p=this.projection.forward(this.center),e=e?this.projection.forward(e):[],h=e[0],e=e[1];"number"==typeof t?(t=this.zoom+t,r=void 0,o&&(s=o[0],o=o[1],n=this.getScale(),s=s-l.plotLeft-l.plotWidth/2,a=o-l.plotTop-l.plotHeight/2,h=p[0]+s/n,e=p[1]+a/n),"number"==typeof h&&"number"==typeof e&&(n=1-Math.pow(2,this.zoom)/Math.pow(2,t),s=p[0]-h,a=p[1]-e,p[0]-=s*n,p[1]+=a*n,r=this.projection.inverse(p)),this.setView(r,t,void 0,i)):this.fitToBounds(void 0,void 0,void 0,i)};var S=A;function A(t,e){var r,n,s,a,o=this,i=(this.allowTransformAnimation=!0,this.eventsToUnbind=[],this.insets=[],this.padding=[0,0,0,0],this instanceof T||(i=c([t.options.chart.map],(t.options.series||[]).map(function(t){return t.mapData}),!0).map(function(t){return o.getGeoMap(t)}),s=[],i.forEach(function(t){var e,o,i;t&&(r=r||t["hc-recommended-mapview"],t.bbox&&(e=(t=t.bbox)[0],o=t[1],i=t[2],t=t[3],s.push({x1:e,y1:o,x2:i,y2:t})))}),a=s.length&&A.compositeBounds(s),y(t,"beforeMapViewInit",{geoBounds:a},function(){var t,e,o,i;a&&(t=a.x1,e=a.y1,o=a.x2,i=a.y2,n=180<o-t&&90<i-e?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[e,i],rotation:[-(t+o)/2]})}),this.geoMap=i[0]),this.userOptions=e||{},t.options.mapView&&t.options.mapView.recommendedMapView&&(r=t.options.mapView.recommendedMapView),b(p,{projection:n},r,e)),l=r&&r.insets,e=e&&e.insets;l&&e&&(i.insets=A.mergeInsets(l,e)),this.chart=t,this.center=i.center,this.options=i,this.projection=new h(i.projection),this.playingField=t.plotBox,this.zoom=i.zoom||0,this.minZoom=i.minZoom,this.createInsets(),this.eventsToUnbind.push(d(t,"afterSetChartSize",function(){o.playingField=o.getField(),void 0!==o.minZoom&&o.minZoom!==o.zoom||(o.fitToBounds(void 0,void 0,!1),!o.chart.hasRendered&&m(o.userOptions.zoom)&&(o.zoom=o.userOptions.zoom),o.userOptions.center&&b(!0,o.center,o.userOptions.center))})),this.setUpEvents()}r(O,L=S),O.prototype.getField=function(t){void 0===t&&(t=!0);var e=this.hitZone;if(e){var o=t?this.padding:[0,0,0,0],e=e.coordinates[0],i=e.map(function(t){return t[0]}),e=e.map(function(t){return t[1]}),r=Math.min.apply(0,i)+o[3],i=Math.max.apply(0,i)-o[1],n=Math.min.apply(0,e)+o[0],e=Math.max.apply(0,e)-o[2];if(m(r)&&m(n))return{x:r,y:n,width:i-r,height:e-n}}return L.prototype.getField.call(this,t)},O.prototype.getHitZone=function(){var e,t=this.chart,o=this.mapView,i=this.options,r=(i.field||{}).coordinates;if(r)return r=r[0],"percent"===i.units&&(e="mapBoundingBox"===i.relativeTo&&o.getMapBBox()||b(t.plotBox,{x:0,y:0}),r=r.map(function(t){return[M(t[0]+"%",e.width,e.x),M(t[1]+"%",e.height,e.y)]})),{type:"Polygon",coordinates:[r]}},O.prototype.getProjectedBounds=function(){return S.compositeBounds(this.allBounds)},O.prototype.isInside=function(t){var e=this.geoBoundsProjectedBox,o=this.geoBoundsProjectedPolygon;return Boolean(e&&t.x>=e.x1&&t.x<=e.x2&&t.y>=e.y1&&t.y<=e.y2&&o&&u(t,o))},O.prototype.render=function(){var t,r,n,s=this.chart,e=this.mapView,a=this.options,o=a.borderPath||a.field;o&&e.group&&(t=!0,this.border||(this.border=s.renderer.path().addClass("highcharts-mapview-inset-border").add(e.group),t=!1),s.styledMode||this.border.attr({stroke:a.borderColor,"stroke-width":a.borderWidth}),r=Math.round(this.border.strokeWidth())%2/2,n="mapBoundingBox"===a.relativeTo&&e.getMapBBox()||e.playingField,e=(o.coordinates||[]).reduce(function(t,e){return e.reduce(function(t,e,o){var i=e[0],e=e[1];return"percent"===a.units&&(i=s.plotLeft+M(i+"%",n.width,n.x),e=s.plotTop+M(e+"%",n.height,n.y)),i=Math.floor(i)+r,e=Math.floor(e)+r,t.push(0===o?["M",i,e]:["L",i,e]),t},t)},[]),this.border[t?"animate":"attr"]({d:e}))},O.prototype.destroy=function(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(function(t){return t()})},O.prototype.setUpEvents=function(){};var L,T=O;function O(t,e){var o=L.call(this,t.chart,e)||this;return o.id=e.id,o.mapView=t,o.options=b({center:[0,0]},t.options.insetOptions,e),o.allBounds=[],o.options.geoBounds&&(e=t.projection.path(o.options.geoBounds),o.geoBoundsProjectedBox=s(e),o.geoBoundsProjectedPolygon=e.map(function(t){return[t[1]||0,t[2]||0]})),o}return S}),e(t,"Series/Map/MapSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/ColorMapComposition.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Chart/MapChart.js"],t["Series/Map/MapPoint.js"],t["Series/Map/MapSeriesDefaults.js"],t["Maps/MapView.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,M,i,j,r,p,n,s){var a,l,h=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),g=t.animObject,b=t.stop,t=M.noop,c=i.splitPath,i=n.seriesTypes,v=i.column,i=i.scatter,u=s.extend,d=s.find,f=s.fireEvent,C=s.getNestedProperty,w=s.isArray,y=s.defined,P=s.isNumber,S=s.isObject,A=s.merge,L=s.objectEach,x=s.pick,m=s.splat,s=(h(T,l=i),T.prototype.animate=function(t){var e=this.chart,o=this.group,i=g(this.options.animation);t?o.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.001,scaleY:.001}):o.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1},i)},T.prototype.clearBounds=function(){this.points.forEach(function(t){delete t.bounds,delete t.insetIndex,delete t.projectedPath}),delete this.bounds},T.prototype.doFullTranslate=function(){return Boolean(this.isDirtyData||this.chart.isResizing||!this.hasRendered)},T.prototype.drawMapDataLabels=function(){l.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},T.prototype.drawPoints=function(){var u=this,d=this,f=this.chart,t=this.group,e=this.transformGroups,o=void 0===e?[]:e,y=f.mapView,m=f.renderer;if(y){(this.transformGroups=o)[0]||(o[0]=m.g().add(t));for(var i=0,r=y.insets.length;i<r;++i)o[i+1]||o.push(m.g().add(t));this.doFullTranslate()&&(this.points.forEach(function(t){var e=t.graphic;t.shapeArgs;t.group=o["number"==typeof t.insetIndex?t.insetIndex+1:0],e&&e.parentGroup!==t.group&&e.add(t.group)}),v.prototype.drawPoints.apply(this),this.points.forEach(function(t){var s,e,a=t.graphic;a&&(s=a.animate,e="",t.name&&(e+="highcharts-name-"+t.name.replace(/ /g,"-").toLowerCase()),t.properties&&t.properties["hc-key"]&&(e+=" highcharts-key-"+t.properties["hc-key"].toString().toLowerCase()),e&&a.addClass(e),f.styledMode&&a.css(u.pointAttribs(t,t.selected?"select":void 0)),a.animate=function(t,e,o){var i,r=P(t["stroke-width"])&&!P(a["stroke-width"]),n=P(a["stroke-width"])&&!P(t["stroke-width"]);return(r||n)&&(i=x(d.getStrokeWidth(d.options),1)/(f.mapView&&f.mapView.getScale()||1),r&&(a["stroke-width"]=i),n&&(t["stroke-width"]=i)),s.call(a,t,e,n?function(){a.element.removeAttribute("stroke-width"),delete a["stroke-width"],o&&o.apply(this,arguments)}:o)})})),o.forEach(function(i,t){function r(o){(d.points||[]).forEach(function(t){var e=t.graphic;e&&e["stroke-width"]&&(t=u.getStrokeWidth(t.options))&&e.attr({"stroke-width":t/o})})}var n,s,a,e,l=(0===t?y:y.insets[t-1]).getSVGTransform(),p=x(u.getStrokeWidth(u.options),1),h=l.scaleX,c=0<l.scaleY?1:-1;m.globalAnimation&&f.hasRendered&&y.allowTransformAnimation?(n=Number(i.attr("translateX")),s=Number(i.attr("translateY")),a=Number(i.attr("scaleX")),t=A(g(m.globalAnimation)),e=t.step,t.step=function(){e&&e.apply(this,arguments),function(t,e){var o=a+(h-a)*e.pos;i.attr({translateX:n+(l.translateX-n)*e.pos,translateY:s+(l.translateY-s)*e.pos,scaleX:o,scaleY:o*c,"stroke-width":p/o}),r(o)}.apply(this,arguments)},i.attr({animator:0}).animate({animator:1},t,function(){"boolean"!=typeof m.globalAnimation&&m.globalAnimation.complete&&m.globalAnimation.complete({applyDrilldown:!0})})):(b(i),i.attr(A(l,{"stroke-width":p/h})),r(h))}),this.isDrilling||this.drawMapDataLabels()}},T.prototype.getProjectedBounds=function(){var t,n,s,a,l=this;return!this.bounds&&this.chart.mapView&&(t=this.chart.mapView,n=t.insets,s=t.projection,a=[],(this.points||[]).forEach(function(t){var e,o,i,r;(t.path||t.geometry)&&("string"==typeof t.path?t.path=c(t.path):w(t.path)&&"M"===t.path[0]&&(t.path=l.chart.renderer.pathToSegments(t.path)),t.bounds||(e=t.getProjectedBounds(s))&&(t.labelrank=x(t.labelrank,(e.x2-e.x1)*(e.y2-e.y1)),o=e.midX,i=e.midY,n&&P(o)&&P(i)&&((r=d(n,function(t){return t.isInside({x:o,y:i})}))&&(delete t.projectedPath,(e=t.getProjectedBounds(r.projection))&&r.allBounds.push(e),t.insetIndex=n.indexOf(r))),t.bounds=e),t.bounds&&void 0===t.insetIndex&&a.push(t.bounds))}),this.bounds=p.compositeBounds(a)),this.bounds},T.prototype.getStrokeWidth=function(t){var e=this.pointAttrToOptions;return t[e&&e["stroke-width"]||"borderWidth"]},T.prototype.hasData=function(){return!!this.processedXData.length},T.prototype.pointAttribs=function(t,e){var o,i=t.series.chart,r=i.mapView,i=i.styledMode?this.colorAttribs(t):v.prototype.pointAttribs.call(this,t,e),n=this.getStrokeWidth(t.options),e=(e&&(e=A(this.options.states&&this.options.states[e],t.options.states&&t.options.states[e]||{}),o=this.getStrokeWidth(e),y(o)&&(n=o),i.stroke=null!=(o=e.borderColor)?o:t.color),n&&r&&(n/=r.getScale()),this.getStrokeWidth(this.options));return i.dashstyle&&r&&P(e)&&(n=e/r.getScale()),t.visible||(i.fill=this.options.nullColor),y(n)?i["stroke-width"]=n:delete i["stroke-width"],i["stroke-linecap"]=i["stroke-linejoin"]=this.options.linecap,i},T.prototype.updateData=function(){return!this.processedData&&l.prototype.updateData.apply(this,arguments)},T.prototype.setData=function(t,e,o,i){void 0===e&&(e=!0),delete this.bounds,l.prototype.setData.call(this,t,!1,void 0,i),this.processData(),this.generatePoints(),e&&this.chart.redraw(o)},T.prototype.processData=function(){var t,e,o,i=this.options,r=i.data,n=this.chart,s=n.options.chart,a=this.joinBy,l=i.keys||this.pointArrayMap,p=[],h={},c=this.chart.mapView,c=c&&(S(i.mapData,!0)?c.getGeoMap(i.mapData):c.geoMap),s=n.mapTransforms=s.mapTransforms||c&&c["hc-transform"]||n.mapTransforms,u=(s&&L(s,function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))}),w(i.mapData)?o=i.mapData:c&&"FeatureCollection"===c.type&&(this.mapTitle=c.title,o=M.geojson(c,this.type,this)),this.processedData=[],this.processedData);if(r)for(var d,f=0,y=r.length;f<y;++f){if(d=r[f],P(d))u[f]={value:d};else if(w(d)){var m=0;u[f]={},!i.keys&&d.length>l.length&&"string"==typeof d[0]&&(u[f]["hc-key"]=d[0],++m);for(var g=0;g<l.length;++g,++m)l[g]&&void 0!==d[m]&&(0<l[g].indexOf(".")?j.prototype.setNestedProperty(u[f],d[m],l[g]):u[f][l[g]]=d[m])}else u[f]=r[f];a&&"_i"===a[0]&&(u[f]._i=f)}if(o){this.mapData=o,this.mapMap={};for(var b,v,x,f=0;f<o.length;f++)e=(t=o[f]).properties,t._i=f,a[0]&&e&&e[a[0]]&&(t[a[0]]=e[a[0]]),h[t[a[0]]]=t;this.mapMap=h,a[1]&&(b=a[1],u.forEach(function(t){t=C(b,t);h[t]&&p.push(h[t])})),i.allAreas&&(a[1]&&(v=a[1],u.forEach(function(t){p.push(C(v,t))})),x="|"+p.map(function(t){return t&&t[a[0]]}).join("|")+"|",o.forEach(function(t){a[0]&&-1!==x.indexOf("|"+t[a[0]]+"|")||u.push(A(t,{value:null}))}))}this.processedXData=new Array(u.length)},T.prototype.setOptions=function(t){var t=l.prototype.setOptions.call(this,t),e=t.joinBy;return null===t.joinBy&&(e="_i"),(e=this.joinBy=m(e))[1]||(e[1]=e[0]),t},T.prototype.translate=function(){var o,i=this.doFullTranslate(),r=this.chart.mapView,n=r&&r.projection;!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!r||r.userOptions.center||P(r.userOptions.zoom)||r.zoom!==r.minZoom?this.getProjectedBounds():r.fitToBounds(void 0,void 0,!1)),r&&(o=r.getSVGTransform(),this.points.forEach(function(t){var e=P(t.insetIndex)&&r.insets[t.insetIndex].getSVGTransform()||o;e&&t.bounds&&P(t.bounds.midX)&&P(t.bounds.midY)&&(t.plotX=t.bounds.midX*e.scaleX+e.translateX,t.plotY=t.bounds.midY*e.scaleY+e.translateY),i&&(t.shapeType="path",t.shapeArgs={d:j.getProjectedPath(t,n)}),t.projectedPath&&!t.projectedPath.length?t.setVisible(!1):t.visible||t.setVisible(!0)})),f(this,"afterTranslate")},T.defaultOptions=A(i.defaultOptions,r),T);function T(){var t=null!==l&&l.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.group=void 0,t.joinBy=void 0,t.options=void 0,t.points=void 0,t.processedData=[],t}return u(s.prototype,{type:"map",axisTypes:e.seriesMembers.axisTypes,colorAttribs:e.seriesMembers.colorAttribs,colorKey:e.seriesMembers.colorKey,directTouch:!0,drawDataLabels:t,drawGraph:t,forceDL:!0,getCenter:o.getCenter,getExtremesFromAll:!0,getSymbol:t,isCartesian:!1,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:e.seriesMembers.pointArrayMap,pointClass:j,preserveAspectRatio:!0,searchPoint:t,trackerGroups:e.seriesMembers.trackerGroups,useMapGeometry:!0}),e.compose(s),n.registerSeriesType("map",s),s}),e(t,"Series/MapLine/MapLineSeriesDefaults.js",[],function(){return{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}}),e(t,"Series/MapLine/MapLineSeries.js",[t["Series/MapLine/MapLineSeriesDefaults.js"],t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r,n,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=i.extend,i=i.merge,s=(s(l,n=e),l.prototype.pointAttribs=function(t,e){t=n.prototype.pointAttribs.call(this,t,e);return t.fill=this.options.fillColor,t},l.defaultOptions=i(e.defaultOptions,t),l);function l(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return a(s.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),o.registerSeriesType("mapline",s),s}),e(t,"Series/MapPoint/MapPointPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.seriesTypes.scatter,n=e.isNumber;function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return o=t.prototype.pointClass,r(s,o),s.prototype.isValid=function(){return Boolean(this.options.geometry||n(this.x)&&n(this.y)||n(this.options.lon)&&n(this.options.lat))},s}),e(t,"Series/MapPoint/MapPointSeriesDefaults.js",[],function(){return{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}}),e(t,"Series/MapPoint/MapPointSeries.js",[t["Core/Globals.js"],t["Series/MapPoint/MapPointPoint.js"],t["Series/MapPoint/MapPointSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(t,e,o,i,r,n){var s,a,l=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.noop,p=i.seriesTypes,h=p.map,p=p.scatter,c=n.extend,u=n.fireEvent,d=n.isNumber,n=n.merge,l=(l(f,a=p),f.prototype.drawDataLabels=function(){a.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},f.prototype.projectPoint=function(t){var e=this.chart.mapView;if(e){var o=t.geometry,i=t.lon,t=t.lat,o=o&&"Point"===o.type&&o.coordinates;if(o=d(i)&&d(t)?[i,t]:o)return e.lonLatToProjectedUnits({lon:o[0],lat:o[1]})}},f.prototype.translate=function(){var s,a,l=this,p=this.chart.mapView;this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),p&&(s=p.getSVGTransform(),a=p.projection.hasCoordinates,this.points.forEach(function(t){var e,o=t.x,o=void 0===o?void 0:o,i=t.y,i=void 0===i?void 0:i,r=d(t.insetIndex)&&p.insets[t.insetIndex].getSVGTransform()||s,n=l.projectPoint(t.options)||t.properties&&l.projectPoint(t.properties);n?(o=n.x,i=n.y):t.bounds&&(o=t.bounds.midX,i=t.bounds.midY,r&&d(o)&&d(i)&&(t.plotX=o*r.scaleX+r.translateX,t.plotY=i*r.scaleY+r.translateY,e=!0)),d(o)&&d(i)?e||(n=p.projectedUnitsToPixels({x:o,y:i}),t.plotX=n.x,t.plotY=a?n.y:l.chart.plotHeight-n.y):t.y=t.plotX=t.plotY=void 0,t.isInside=l.isPointInside(t),t.zone=l.zones.length?t.getZone():void 0})),u(this,"afterTranslate")},f.defaultOptions=n(p.defaultOptions,o),f);function f(){var t=null!==a&&a.apply(this,arguments)||this;return t.chart=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.clearBounds=h.prototype.clearBounds,t}return r.prototype.symbols.mapmarker=function(t,e,o,i,r){var n,s,a=r&&"legend"===r.context,r=(a?(n=t+o/2,s=e+i):r&&"number"==typeof r.anchorX&&"number"==typeof r.anchorY?(n=r.anchorX,s=r.anchorY):(n=t+o/2,s=e+i/2,e-=i),a?i/3:i/2);return[["M",n,s],["C",n,s,n-r,e+1.5*r,n-r,e+r],["A",r,r,1,1,1,n+r,e+r],["C",n+r,e+1.5*r,n,s,n,s],["Z"]]},c(l.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:t,useMapGeometry:!0}),i.registerSeriesType("mappoint",l),l}),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,r,e,o){var c=t.parse,i=e.noop,a=o.arrayMax,l=o.arrayMin,p=o.isNumber,u=o.merge,d=o.pick,h=o.stableSort;function n(t,e){this.chart=void 0,this.legend=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.selected=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=i,this.init(t,e)}return n.prototype.init=function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},n.prototype.addToLegend=function(t){t.splice(this.options.legendIndex,0,this)},n.prototype.drawLegendSymbol=function(t){this.chart;var e,o,i=d(t.options.itemDistance,20),r=this.legendItem||{},n=this.options,s=n.ranges,a=n.connectorDistance;s&&s.length&&p(s[0].value)?(h(s,function(t,e){return e.value-t.value}),this.ranges=s,this.setOptions(),this.render(),s=this.getMaxLabelSize(),o=2*(e=this.ranges[0].radius),a=0<(a=a-e+s.width)?a:0,this.maxLabel=s,this.movementX="left"===n.labels.align?a:0,r.labelWidth=o+a+i,r.labelHeight=o+s.height/2):t.options.bubbleLegend.autoRanges=!0},n.prototype.setOptions=function(){var o=this.ranges,i=this.options,r=this.chart.series[i.seriesIndex],n=this.legend.baseline,s={zIndex:i.zIndex,"stroke-width":i.borderWidth},a={zIndex:i.zIndex,"stroke-width":i.connectorWidth},l={align:this.legend.options.rtl||"left"===i.labels.align?"right":"left",zIndex:i.zIndex},p=r.options.marker.fillOpacity,h=this.chart.styledMode;o.forEach(function(t,e){h||(s.stroke=d(t.borderColor,i.borderColor,r.color),s.fill=d(t.color,i.color,1!==p?c(r.color).setOpacity(p).get("rgba"):r.color),a.stroke=d(t.connectorColor,i.connectorColor,r.color)),o[e].radius=this.getRangeRadius(t.value),o[e]=u(o[e],{center:o[0].radius-o[e].radius+n}),h||u(!0,o[e],{bubbleAttribs:u(s),connectorAttribs:u(a),labelAttribs:l})},this)},n.prototype.getRangeRadius=function(t){var e=this.options,o=this.options.seriesIndex,o=this.chart.series[o],i=e.ranges[0].value,r=e.ranges[e.ranges.length-1].value,n=e.minSize,e=e.maxSize;return o.getRadius.call(this,r,i,n,e,t)},n.prototype.render=function(){var t=this.legendItem||{},e=this.chart.renderer,o=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group);for(var i=0,r=this.ranges;i<r.length;i++){var n=r[i];n.value>=o&&this.renderRange(n)}this.hideOverlappingLabels()},n.prototype.renderRange=function(t){var e=this.ranges[0],o=this.legend,i=this.options,r=i.labels,n=this.chart,s=n.series[i.seriesIndex],n=n.renderer,a=this.symbols,l=a.labels,p=t.center,h=Math.abs(t.radius),c=i.connectorDistance||0,u=r.align,o=o.options.rtl,d=i.borderWidth,f=i.connectorWidth,e=e.radius||0,d=p-h-d/2+f/2,f=(d%1?1:.5)-(f%2?0:.5),y=n.styledMode,o=o||"left"===u?-c:c,c=("center"===u&&(i.connectorDistance=o=0,t.labelAttribs.align="center"),a.bubbleItems.push(n.circle(e,p+f,h).attr(y?{}:t.bubbleAttribs).addClass((y?"highcharts-color-"+s.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(i.className||"")).add(this.legendItem.symbol)),a.connectors.push(n.path(n.crispLine([["M",e,d],["L",e+o,d]],i.connectorWidth)).attr(y?{}:t.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(i.connectorClassName||"")).add(this.legendItem.symbol)),n.text(this.formatLabel(t)).attr(y?{}:t.labelAttribs).css(y?{}:r.style).addClass("highcharts-bubble-legend-labels "+(i.labels.className||"")).add(this.legendItem.symbol)),u={x:e+o+i.labels.x,y:d+i.labels.y+.4*c.getBBox().height};c.attr(u),l.push(c),c.placed=!0,c.alignAttr=u},n.prototype.getMaxLabelSize=function(){var e,o;return this.symbols.labels.forEach(function(t){o=t.getBBox(!0),e=!e||o.width>e.width?o:e}),e||{}},n.prototype.formatLabel=function(t){var e=this.options,o=e.labels.formatter,e=e.labels.format,i=this.chart.numberFormatter;return e?r.format(e,t):o?o.call(t):i(t.value,1)},n.prototype.hideOverlappingLabels=function(){var t=this.chart,e=this.options.labels.allowOverlap,o=this.symbols;!e&&o&&(t.hideOverlappingLabels(o.labels),o.labels.forEach(function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&o.connectors[e].show():o.connectors[e].hide()}))},n.prototype.getRanges=function(){var o,e,t=this.legend.bubbleLegend,i=t.chart.series,r=t.options.ranges,n=Number.MAX_VALUE,s=-Number.MAX_VALUE;return i.forEach(function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(p)).length&&(n=d(t.options.zMin,Math.min(n,Math.max(l(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),s=d(t.options.zMax,Math.max(s,a(e))))}),o=n===s?[{value:s}]:[{value:n},{value:(n+s)/2},{value:s,autoRanges:!0}],r.length&&r[0].radius&&o.reverse(),o.forEach(function(t,e){r&&r[e]&&(o[e]=u(r[e],t))}),o},n.prototype.predictBubbleSizes=function(){var t,e=this.chart,o=e.legend.options,i=o.floating,o="horizontal"===o.layout,r=o?e.legend.lastLineHeight:0,n=e.plotSizeX,s=e.plotSizeY,e=e.series[this.options.seriesIndex],a=e.getPxExtremes(),l=Math.ceil(a.minPxSize),a=Math.ceil(a.maxPxSize),p=Math.min(s,n),e=e.options.maxSize;return i||!/%$/.test(e)?t=a:(t=(p+r)*(e=parseFloat(e))/100/(e/100+1),(o&&n<=s-t||!o&&s<=n-t)&&(t=a)),[l,Math.ceil(t)]},n.prototype.updateRanges=function(t,e){var o=this.legend.options.bubbleLegend;o.minSize=t,o.maxSize=e,o.ranges=this.getRanges()},n.prototype.correctSizes=function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes(),o=e.maxPxSize,i=this.options.maxSize;1<Math.abs(Math.ceil(o)-i)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())},n}),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],function(i,s,t,r){var n=t.setOptions,a=r.addEvent,l=r.objectEach,p=r.wrap,h=[];function c(t,e,o){var i,r,n=this,s=n.legend,a=0<=u(n);s&&s.options.enabled&&s.bubbleLegend&&s.options.bubbleLegend.autoRanges&&a?(i=s.bubbleLegend.options,a=s.bubbleLegend.predictBubbleSizes(),s.bubbleLegend.updateRanges(a[0],a[1]),i.placed||(s.group.placed=!1,s.allItems.forEach(function(t){(r=t.legendItem||{}).group&&(r.group.translateY=void 0)})),s.render(),n.getMargins(),n.axes.forEach(function(t){t.visible&&t.render(),i.placed||(t.setScale(),t.updateNames(),l(t.ticks,function(t){t.isNew=!0,t.isNewLabel=!0}))}),i.placed=!0,n.getMargins(),t.call(n,e,o),s.bubbleLegend.correctSizes(),m(s,d(s))):(t.call(n,e,o),s&&s.options.enabled&&s.bubbleLegend&&(s.render(),m(s,d(s))))}function u(t){for(var e=t.series,o=0;o<e.length;){if(e[o]&&e[o].isBubble&&e[o].visible&&e[o].zData.length)return o;o++}return-1}function d(t){for(var e,o,i,r=t.allItems,n=[],s=r.length,a=0,l=0,a=0;a<s;a++)if(o=r[a].legendItem||{},i=(r[a+1]||{}).legendItem||{},o.labelHeight&&(r[a].itemHeight=o.labelHeight),r[a]===r[s-1]||o.y!==i.y){for(n.push({height:0}),e=n[n.length-1];l<=a;l++)r[l].itemHeight>e.height&&(e.height=r[l].itemHeight);e.step=a}return n}function f(t){var e=this,o=e.bubbleLegend,i=e.options,r=i.bubbleLegend,n=u(e.chart);o&&o.ranges&&o.ranges.length&&(r.ranges.length&&(r.autoRanges=!!r.ranges[0].autoRanges),e.destroyItem(o)),0<=n&&i.enabled&&r.enabled&&(r.seriesIndex=n,e.bubbleLegend=new s(r,e),e.bubbleLegend.addToLegend(t.allItems))}function y(t){if(t.defaultPrevented)return!1;var t=this,e=t.chart,o=t.visible,i=t.chart.legend;i&&i.bubbleLegend&&(t.visible=!o,t.ignoreSeries=o,e=0<=u(e),i.bubbleLegend.visible!==e&&(i.update({bubbleLegend:{enabled:e}}),i.bubbleLegend.visible=e),t.visible=o)}function m(t,o){var i,r,n,s,e=t.allItems,a=t.options.rtl,l=0;e.forEach(function(t,e){(s=t.legendItem||{}).group&&(i=s.group.translateX||0,r=s.y||0,((n=t.movementX)||a&&t.ranges)&&(n=a?i-t.options.maxSize/2:i+n,s.group.attr({translateX:n})),e>o[l].step&&l++,s.group.attr({translateY:Math.round(r+o[l].height/2)}),s.y=r+o[l].height/2)})}return{compose:function(t,e,o){r.pushUnique(h,t)&&(n({legend:{bubbleLegend:i}}),p(t.prototype,"drawChartBox",c)),r.pushUnique(h,e)&&a(e,"afterGetAllItems",f),r.pushUnique(h,o)&&a(o,"legendItemClick",y)}}}),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(e,t,o){var i,r,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.seriesTypes.scatter.prototype.pointClass,o=o.extend,n=(n(s,r=t),s.prototype.haloPath=function(t){return e.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},s);function s(){var t=null!==r&&r.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}return o(n.prototype,{ttBelow:!1}),n}),e(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(r,t,e,o,i,n){var s,a=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=e.parse,e=o.noop,p=i.series,o=i.seriesTypes,h=o.column.prototype,o=o.scatter,c=n.addEvent,u=n.arrayMax,d=n.arrayMin,f=n.clamp,y=n.extend,m=n.isNumber,g=n.merge,b=n.pick,v=[];function x(){var r,n=this,t=this.len,s=(this.chart,this.isXAxis),a=s?"xData":"yData",l=this.min,p=this.max-l,h=0,c=t,u=t/p;this.series.forEach(function(t){if(t.bubblePadding&&t.reserveSpace()){n.allowZoomOutside=!0,r=!0;var e=t[a];if(s&&((t.onPoint||t).getRadii(0,0,t),t.onPoint&&(t.radii=t.onPoint.radii)),0<p)for(var o,i=e.length;i--;)m(e[i])&&n.dataMin<=e[i]&&e[i]<=n.max&&(o=t.radii&&t.radii[i]||0,h=Math.min((e[i]-l)*u-o,h),c=Math.max((e[i]-l)*u+o,c))}}),r&&0<p&&!this.logarithmic&&(c-=t,u*=(t+Math.max(0,h)-Math.min(c,t))/t,[["min","userMin",h],["max","userMax",c]].forEach(function(t){void 0===b(n.options[t[0]],n[t[1]])&&(n[t[0]]+=t[2]/u)}))}a(j,M=o),j.compose=function(t,e,o,i){r.compose(e,o,i),n.pushUnique(v,t)&&(t.prototype.beforePadding=x)},j.prototype.animate=function(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach(function(t){var e=t.graphic;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))},this)},j.prototype.getRadii=function(){var t,e,o,i,r,n,s=this.zData,a=this.yData,l=[],p=this.chart.bubbleZExtremes,h=this.getPxExtremes(),c=h.minPxSize,u=h.maxPxSize;for(p||(i=Number.MAX_VALUE,r=-Number.MAX_VALUE,this.chart.series.forEach(function(t){t.bubblePadding&&t.reserveSpace()&&((t=(t.onPoint||t).getZExtremes())&&(i=Math.min(b(i,t.zMin),t.zMin),r=Math.max(b(r,t.zMax),t.zMax),n=!0))}),n?(p={zMin:i,zMax:r},this.chart.bubbleZExtremes=p):p={zMin:0,zMax:0}),e=0,t=s.length;e<t;e++)o=s[e],l.push(this.getRadius(p.zMin,p.zMax,c,u,o,a&&a[e]));this.radii=l},j.prototype.getRadius=function(t,e,o,i,r,n){var s=this.options,a="width"!==s.sizeBy,l=s.zThreshold,p=e-t,h=.5;if(null===n||null===r)return null;if(m(r)){if(s.sizeByAbsoluteValue&&(r=Math.abs(r-l),e=p=Math.max(e-l,Math.abs(t-l)),t=0),r<t)return o/2-1;0<p&&(h=(r-t)/p)}return a&&0<=h&&(h=Math.sqrt(h)),Math.ceil(o+h*(i-o))/2},j.prototype.hasData=function(){return!!this.processedXData.length},j.prototype.pointAttribs=function(t,e){var o=this.options.marker.fillOpacity,t=p.prototype.pointAttribs.call(this,t,e);return 1!==o&&(t.fill=l(t.fill).setOpacity(o).get("rgba")),t},j.prototype.translate=function(){M.prototype.translate.call(this),this.getRadii(),this.translateBubble()},j.prototype.translateBubble=function(){for(var t=this.data,e=this.options,o=this.radii,i=this.getPxExtremes().minPxSize,r=t.length;r--;){var n=t[r],s=o?o[r]:0;"z"===this.zoneAxis&&(n.negative=(n.z||0)<(e.zThreshold||0)),m(s)&&i/2<=s?(n.marker=y(n.marker,{radius:s,width:2*s,height:2*s}),n.dlBox={x:n.plotX-s,y:n.plotY-s,width:2*s,height:2*s}):(n.shapeArgs=n.plotY=n.dlBox=void 0,n.isInside=!1)}},j.prototype.getPxExtremes=function(){function t(t){var e;return"string"==typeof t&&(e=/%$/.test(t),t=parseInt(t,10)),e?o*t/100:t}var o=Math.min(this.chart.plotWidth,this.chart.plotHeight),e=t(b(this.options.minSize,8));return{minPxSize:e,maxPxSize:Math.max(t(b(this.options.maxSize,"20%")),e)}},j.prototype.getZExtremes=function(){var t=this.options,e=(this.zData||[]).filter(m);if(e.length){var o=b(t.zMin,f(d(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),t=b(t.zMax,u(e));if(m(o)&&m(t))return{zMin:o,zMax:t}}},j.defaultOptions=g(o.defaultOptions,{dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.z;return m(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});var M,a=j;function j(){var t=null!==M&&M.apply(this,arguments)||this;return t.data=void 0,t.maxPxSize=void 0,t.minPxSize=void 0,t.options=void 0,t.points=void 0,t.radii=void 0,t.yData=void 0,t.zData=void 0,t}return y(a.prototype,{alignDataLabel:h.alignDataLabel,applyZones:e,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:t,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),c(a,"updatedData",function(t){delete t.target.chart.bubbleZExtremes}),c(a,"remove",function(t){delete t.target.chart.bubbleZExtremes}),i.registerSeriesType("bubble",a),a}),e(t,"Series/MapBubble/MapBubblePoint.js",[t["Series/Bubble/BubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o){var i,r,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),e=e.seriesTypes.map.prototype.pointClass.prototype,o=o.extend,n=(n(s,r=t),s.prototype.isValid=function(){return"number"==typeof this.z},s);function s(){return null!==r&&r.apply(this,arguments)||this}return o(n.prototype,{applyOptions:e.applyOptions,getProjectedBounds:e.getProjectedBounds}),n}),e(t,"Series/MapBubble/MapBubbleSeries.js",[t["Series/Bubble/BubbleSeries.js"],t["Series/MapBubble/MapBubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,o,i){var r,n,s=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=o.seriesTypes,l=a.map.prototype,p=a.mappoint.prototype,a=i.extend,i=i.merge,s=(s(h,n=t),h.prototype.searchPoint=function(t,e){return this.searchKDTree({clientX:t.chartX-this.chart.plotLeft,plotY:t.chartY-this.chart.plotTop},e,t)},h.prototype.translate=function(){p.translate.call(this),this.getRadii(),this.translateBubble()},h.prototype.updateParallelArrays=function(t,e,o){n.prototype.updateParallelArrays.call(this,t,e,o);t=this.processedXData,e=this.xData;t&&e&&(t.length=e.length)},h.defaultOptions=i(t.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),h);function h(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.clearBounds=l.clearBounds,t}return a(s.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:l.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,processData:l.processData,projectPoint:p.projectPoint,setData:l.setData,setOptions:l.setOptions,updateData:l.updateData,useMapGeometry:!0,xyFromShape:!0}),o.registerSeriesType("mapbubble",s),s}),e(t,"Series/Heatmap/HeatmapPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.seriesTypes.scatter.prototype.pointClass,v=e.clamp,x=e.defined,n=e.extend,M=e.pick,e=(r(s,o=t),s.prototype.applyOptions=function(t,e){return!this.isNull&&null!==this.value||delete this.color,o.prototype.applyOptions.call(this,t,e),this.formatPrefix=this.isNull||null===this.value?"null":"point",this},s.prototype.getCellAttributes=function(){for(var t=this,e=t.series,o=e.options,i=(o.colsize||1)/2,r=(o.rowsize||1)/2,n=e.xAxis,s=e.yAxis,a=t.options.marker||e.options.marker,e=e.pointPlacementToXValue(),l=M(t.pointPadding,o.pointPadding,0),p={x1:v(Math.round(n.len-n.translate(t.x-i,!1,!0,!1,!0,-e)),-n.len,2*n.len),x2:v(Math.round(n.len-n.translate(t.x+i,!1,!0,!1,!0,-e)),-n.len,2*n.len),y1:v(Math.round(s.translate(t.y-r,!1,!0,!1,!0)),-s.len,2*s.len),y2:v(Math.round(s.translate(t.y+r,!1,!0,!1,!0)),-s.len,2*s.len)},h=0,c=[["width","x"],["height","y"]];h<c.length;h++){var u=c[h],d=u[0],u=u[1],f=u+"1",y=u+"2",m=Math.abs(p[f]-p[y]),g=a&&a.lineWidth||0,b=Math.abs(p[f]+p[y])/2,d=a&&a[d];x(d)&&d<m&&(p[f]=b-(m=d/2+g/2),p[y]=b+m),l&&(("x"===u&&n.reversed||"y"===u&&!s.reversed)&&(f=y,y=u+"1"),p[f]+=l,p[y]-=l)}return p},s.prototype.haloPath=function(t){if(!t)return[];var e=this.shapeArgs||{},o=e.x,o=void 0===o?0:o,i=e.y,i=void 0===i?0:i,r=e.width,r=void 0===r?0:r,e=e.height,e=void 0===e?0:e;return[["M",o-t,i-t],["L",o-t,i+e+t],["L",o+r+t,i+e+t],["L",o+r+t,i-t],["Z"]]},s.prototype.isValid=function(){return this.value!==1/0&&this.value!==-1/0},s);function s(){var t=null!==o&&o.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t.value=void 0,t.x=void 0,t.y=void 0,t}return n(e.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),e}),e(t,"Series/Heatmap/HeatmapSeriesDefaults.js",[t["Core/Utilities.js"]],function(t){var o=t.isNumber;return{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var t=this.series.chart.numberFormatter,e=this.point.value;return o(e)?t(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}}),e(t,"Series/InterpolationUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var i=t.doc,r=e.defined,n=e.pick;return{colorFromPoint:function(t,e){var o=e.series.colorAxis;return o?((o=o.toColor(t||0,e).split(")")[0].split("(")[1].split(",").map(function(t){return n(parseFloat(t),parseInt(t,10))}))[3]=255*n(o[3],1),r(t)&&e.visible||(o[3]=0),o):[0,0,0,0]},getContext:function(t){var e=t.canvas,o=t.context;return e&&o?(o.clearRect(0,0,e.width,e.height),o):(t.canvas=i.createElement("canvas"),t.context=t.canvas.getContext("2d",{willReadFrequently:!0})||void 0,t.context)}}}),e(t,"Series/Heatmap/HeatmapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapComposition.js"],t["Series/Heatmap/HeatmapPoint.js"],t["Series/Heatmap/HeatmapSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"],t["Series/InterpolationUtilities.js"]],function(a,t,e,o,i,r,n,s){var l,p,h=this&&this.__extends||(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),O=this&&this.__assign||function(){return(O=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},z=i.series,c=i.seriesTypes,u=c.column,c=c.scatter,f=r.prototype.symbols,r=n.addEvent,d=n.extend,y=n.fireEvent,m=n.isNumber,g=n.merge,b=n.pick,_=s.colorFromPoint,B=s.getContext,n=(h(v,p=c),v.prototype.drawPoints=function(){var e=this,t=e.options,o=t.interpolation,t=t.marker||{};if(o){var o=e.image,i=e.chart,r=e.xAxis,n=e.yAxis,s=r.reversed,s=void 0!==s&&s,a=r.len,l=n.reversed,l=void 0!==l&&l,p=n.len,h={width:a,height:p};if(!o||e.isDirtyData||e.isDirtyCanvas){var c=B(e),u=e.canvas,d=e.options,f=d.colsize,f=void 0===f?1:f,d=d.rowsize,d=void 0===d?1:d,y=e.points,m=e.points.length-1,g=i.colorAxis&&i.colorAxis[0];if(u&&c&&g){var g=r.getExtremes(),b=g.min,r=g.max,g=n.getExtremes(),v=g.min,n=g.max,g=r-b,r=n-v,n=Math.round(g/f/8*8),f=Math.round(r/d/8*8),d=[[n,n/g,s,"ceil"],[f,f/r,!l,"floor"]].map(function(t){var e=t[0],o=t[1],i=t[2],r=t[3];return i?function(t){return Math[r](e-o*t)}:function(t){return Math[r](o*t)}}),x=d[0],M=d[1],j=u.width=n+1,g=u.height=f+1,C=j*g,w=m/C,P=new Uint8ClampedArray(4*C);e.buildKDTree();for(var S=0;S<C;S++){var A=y[Math.ceil(w*S)],L=A.x,T=A.y;P.set(_(A.value,A),(A=L,4*Math.ceil(j*M(T-v)+x(A-b))))}c.putImageData(new ImageData(P,j),0,0),o?o.attr(O(O({},h),{href:u.toDataURL("image/png",1)})):(e.directTouch=!1,e.image=i.renderer.image(u.toDataURL("image/png",1)).attr(h).add(e.group))}e.isDirtyCanvas=!1}else o.width===a&&o.height===p||o.attr(h)}else(t.enabled||e._hasPointMarkers)&&(z.prototype.drawPoints.call(e),e.points.forEach(function(t){t.graphic&&(t.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(t)),null===t.value&&t.graphic.addClass("highcharts-null-point"))}))},v.prototype.getExtremes=function(){var t=z.prototype.getExtremes.call(this,this.valueData),e=t.dataMin,t=t.dataMax;return m(e)&&(this.valueMin=e),m(t)&&(this.valueMax=t),z.prototype.getExtremes.call(this)},v.prototype.getValidPoints=function(t,e){return z.prototype.getValidPoints.call(this,t,e,!0)},v.prototype.hasData=function(){return!!this.processedXData.length},v.prototype.init=function(){p.prototype.init.apply(this,arguments);var t=this.options;t.pointRange=b(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,f.ellipse=f.circle,t.marker&&m(t.borderRadius)&&(t.marker.r=t.borderRadius)},v.prototype.markerAttribs=function(t,e){var o,i=t.shapeArgs||{};return t.hasImage?{x:t.plotX,y:t.plotY}:e&&"normal"!==e?(t=t.options.marker||{},o=(o=this.options.marker||{}).states&&o.states[e]||{},e=((t=t.states&&t.states[e]||{}).width||o.width||i.width||0)+(t.widthPlus||o.widthPlus||0),t=(t.height||o.height||i.height||0)+(t.heightPlus||o.heightPlus||0),{x:(i.x||0)+((i.width||0)-e)/2,y:(i.y||0)+((i.height||0)-t)/2,width:e,height:t}):i},v.prototype.pointAttribs=function(t,e){var o=z.prototype.pointAttribs.call(this,t,e),i=this.options||{},r=this.chart.options.plotOptions||{},n=r.series||{},r=r.heatmap||{},s=t&&t.options.borderColor||i.borderColor||r.borderColor||n.borderColor,r=t&&t.options.borderWidth||i.borderWidth||r.borderWidth||n.borderWidth||o["stroke-width"];return o.stroke=t&&t.marker&&t.marker.lineColor||i.marker&&i.marker.lineColor||s||this.color,o["stroke-width"]=r,e&&"normal"!==e&&(n=g(i.states&&i.states[e],i.marker&&i.marker.states&&i.marker.states[e],t&&t.options.states&&t.options.states[e]||{}),o.fill=n.color||a.parse(o.fill).brighten(n.brightness||0).get(),o.stroke=n.lineColor||o.stroke),o},v.prototype.translate=function(){var t=this.options,e=t.borderRadius,t=t.marker,o=t&&t.symbol||"rect",i=f[o]?o:"rect",r=-1!==["circle","square"].indexOf(i);this.generatePoints();for(var n=0,s=this.points;n<s.length;n++){var a,l=s[n],p=l.getCellAttributes(),h=Math.min(p.x1,p.x2),c=Math.min(p.y1,p.y2),u=Math.max(Math.abs(p.x2-p.x1),0),d=Math.max(Math.abs(p.y2-p.y1),0);l.hasImage=0===(l.marker&&l.marker.symbol||o||"").indexOf("url"),r&&(a=Math.abs(u-d),h=Math.min(p.x1,p.x2)+(u<d?0:a/2),c=Math.min(p.y1,p.y2)+(u<d?a/2:0),u=d=Math.min(u,d)),l.hasImage&&(l.marker={width:u,height:d}),l.plotX=l.clientX=(p.x1+p.x2)/2,l.plotY=(p.y1+p.y2)/2,l.shapeType="path",l.shapeArgs=g(!0,{x:h,y:c,width:u,height:d},{d:f[i](h,c,u,d,{r:m(e)?e:0})})}y(this,"afterTranslate")},v.defaultOptions=g(c.defaultOptions,o),v);function v(){var t=null!==p&&p.apply(this,arguments)||this;return t.canvas=void 0,t.colorAxis=void 0,t.context=void 0,t.data=void 0,t.options=void 0,t.points=void 0,t.valueMax=NaN,t.valueMin=NaN,t.isDirtyCanvas=!0,t}return r(n,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0,this.drawPoints()}),d(n.prototype,{axisTypes:t.seriesMembers.axisTypes,colorKey:t.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:t.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:e,specialGroup:"group",trackerGroups:t.seriesMembers.trackerGroups,alignDataLabel:u.prototype.alignDataLabel,colorAttribs:t.seriesMembers.colorAttribs,getSymbol:z.prototype.getSymbol}),t.compose(n),i.registerSeriesType("heatmap",n),n}),e(t,"masters/modules/map.src.js",[t["Core/Globals.js"],t["Core/Axis/Color/ColorAxis.js"],t["Maps/MapNavigation.js"],t["Series/MapBubble/MapBubbleSeries.js"],t["Maps/GeoJSONComposition.js"],t["Core/Chart/MapChart.js"],t["Maps/MapView.js"],t["Maps/Projection.js"]],function(t,e,o,i,r,n,s,a){t.ColorAxis=e,t.MapChart=n,t.mapChart=t.Map=n.mapChart,t.MapNavigation=o,t.MapView=s,t.maps=n.maps,t.Projection=a,t.geojson=r.geojson,t.topo2geo=r.topo2geo,e.compose(t.Chart,t.Fx,t.Legend,t.Series),r.compose(t.Chart),i.compose(t.Axis,t.Chart,t.Legend,t.Series),o.compose(n,t.Pointer,t.SVGRenderer),s.compose(n)})});