!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/series-on-point",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";var t=e?e._modules:{};function i(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}i(t,"Series/SeriesOnPointComposition.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],function(h,p,t,d,c){var e,t=t.seriesTypes,i=t.bubble,f=t.pie,u=(t.sunburst,c.addEvent),l=c.defined,o=c.find,s=c.isNumber,t=e=e||{},y=[],m=(t.compose=function(t,e){var i=(a=m.prototype).chartGetZData,o=a.seriesAfterInit,s=a.seriesAfterRender,n=a.seriesGetCenter,r=a.seriesShowOrHide,a=a.seriesTranslate;return f.prototype.onPointSupported=!0,c.pushUnique(y,t)&&(u(p,"afterInit",o),u(p,"afterRender",s),u(p,"afterGetCenter",n),u(p,"hide",r),u(p,"show",r),u(p,"translate",a)),c.pushUnique(y,e)&&(u(e,"beforeRender",i),u(e,"beforeRedraw",i)),t},n.prototype.drawConnector=function(){this.connector||(this.connector=this.series.chart.renderer.path().addClass("highcharts-connector-seriesonpoint").attr({zIndex:-1}).add(this.series.markerGroup));var t=this.getConnectorAttributes();t&&this.connector.animate(t)},n.prototype.getConnectorAttributes=function(){var t=this.series.chart,e=this.options;if(e){var i,o,s,n,r=e.connectorOptions||{},a=e.position,e=t.get(e.id);if(e instanceof h&&a&&l(e.plotX)&&l(e.plotY))return n=l(a.x)?a.x:e.plotX,e=l(a.y)?a.y:e.plotY,i=n+(a.offsetX||0),a=e+(a.offsetY||0),o=r.width||1,s=r.stroke||this.series.color,r=r.dashstyle,n={d:d.prototype.crispLine([["M",n,e],["L",i,a]],o,"ceil"),"stroke-width":o},t.styledMode||(n.stroke=s,n.dashstyle=r),n}},n.prototype.seriesAfterInit=function(){this.onPointSupported&&this.options.onPoint&&(this.bubblePadding=!0,this.useMapGeometry=!0,this.onPoint=new n(this))},n.prototype.seriesAfterRender=function(){delete this.chart.bubbleZExtremes,this.onPoint&&this.onPoint.drawConnector()},n.prototype.seriesGetCenter=function(t){var e,i=this.options.onPoint,o=t.positions,i=(i&&((e=this.chart.get(i.id))instanceof h&&l(e.plotX)&&l(e.plotY)&&(o[0]=e.plotX,o[1]=e.plotY),(e=i.position)&&(l(e.x)&&(o[0]=e.x),l(e.y)&&(o[1]=e.y),e.offsetX&&(o[0]+=e.offsetX),e.offsetY&&(o[1]+=e.offsetY))),this.radii&&this.radii[this.index]);s(i)&&(o[2]=2*i),t.positions=o},n.prototype.seriesShowOrHide=function(){var i=this.chart.series;this.points.forEach(function(e){var t=o(i,function(t){t=((t.onPoint||{}).options||{}).id;return!!t&&t===e.id});t&&t.setVisible(!t.visible,!1)})},n.prototype.seriesTranslate=function(){this.onPoint&&(this.onPoint.getRadii(),this.radii=this.onPoint.radii)},n.prototype.chartGetZData=function(){var e=[];this.series.forEach(function(t){t=t.options.onPoint;e.push(t&&t.z?t.z:null)}),this.series.forEach(function(t){t.onPoint&&(t.onPoint.zData=t.zData=e)})},n);function n(t){this.getRadii=i.prototype.getRadii,this.getRadius=i.prototype.getRadius,this.getPxExtremes=i.prototype.getPxExtremes,this.getZExtremes=i.prototype.getZExtremes,this.chart=t.chart,this.series=t,this.options=t.options.onPoint}return t.Additions=m,e}),i(t,"masters/modules/series-on-point.src.js",[t["Series/SeriesOnPointComposition.js"]],function(t){t.compose(e.Series,e.Chart)})});