!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/timeline",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/Timeline/TimelinePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(i,t,e){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.seriesTypes,s=t.line.prototype.pointClass,a=t.pie.prototype.pointClass,l=e.defined,h=e.isNumber,p=e.merge,c=e.objectEach,d=e.pick;return r(u,n=s),u.prototype.alignConnector=function(){var t=this.series,e=this.dataLabel,i=e.connector,o=e.options||{},n=o.connectorWidth||0,r=this.series.chart,s=i.getBBox(),s={x:s.x+(e.translateX||0),y:s.y+(e.translateY||0)};r.inverted?s.y-=n/2:s.x+=n/2,i[r.isInsidePlot(s.x,s.y)?"animate":"attr"]({d:this.getConnectorPath()}),i.addClass("highcharts-color-"+this.colorIndex),t.chart.styledMode||i.attr({stroke:o.connectorColor||this.color,"stroke-width":o.connectorWidth,opacity:e[l(e.newOpacity)?"newOpacity":"opacity"]})},u.prototype.drawConnector=function(){var t=this.dataLabel,e=this.series;t&&(t.connector||(t.connector=e.chart.renderer.path(this.getConnectorPath()).attr({zIndex:-1}).add(t)),this.series.chart.isInsidePlot(t.x||0,t.y||0)&&this.alignConnector())},u.prototype.getConnectorPath=function(){var t,i,e=this.plotX,e=void 0===e?0:e,o=this.plotY,o=void 0===o?0:o,n=this.series,r=this.dataLabel,s=n.chart,a=n.xAxis.len,l=s.inverted,p=l?"x2":"y2";return r?(t=r.targetPosition,n=(r.alignAttr||r)[p[0]]<n.yAxis.len/2,i={x1:e,y1:o,x2:e,y2:(h(t.y)?t:r).y},l&&(i={x1:o,y1:a-e,x2:t.x||r.x,y2:a-e}),n&&(i[p]+=r[l?"width":"height"]||0),c(i,function(t,e){i[e]-=(r.alignAttr||r)[e[0]]}),s.renderer.crispLine([["M",i.x1,i.y1],["L",i.x2,i.y2]],(null==(o=r.options)?void 0:o.connectorWidth)||0)):[]},u.prototype.init=function(){var t=n.prototype.init.apply(this,arguments);return t.name=d(t.name,"Event"),t.y=1,t},u.prototype.isValid=function(){return null!==this.options.y},u.prototype.setState=function(){var t=n.prototype.setState;this.isNull||t.apply(this,arguments)},u.prototype.setVisible=function(t,e){var i=this.series;e=d(e,i.options.ignoreHiddenPoint),a.prototype.setVisible.call(this,t,!1),i.processData(),e&&i.chart.redraw()},u.prototype.applyOptions=function(t,e){return t=i.prototype.optionsToObject.call(this,t),this.userDLOptions=p(this.userDLOptions,t.dataLabels),n.prototype.applyOptions.call(this,t,e)},u;function u(){var t=null!==n&&n.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}}),e(t,"Series/Timeline/TimelineSeriesDefaults.js",[],function(){return{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:"#ffffff",borderWidth:1,borderColor:"#999999",borderRadius:3,color:"#333333",connectorWidth:1,distance:void 0,formatter:function(){return(this.series.chart.styledMode?'<span class="highcharts-color-'+this.point.colorIndex+'">● </span>':'<span style="color:'+this.point.color+'">● </span>')+'<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.point.label||"")},style:{textOutline:"none",fontWeight:"normal",fontSize:"0.8em"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x",legendSymbol:"rectangle"}}),e(t,"Series/Timeline/TimelineSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Series/Timeline/TimelinePoint.js"],t["Series/Timeline/TimelineSeriesDefaults.js"],t["Core/Utilities.js"]],function(t,e,i,o){var n,c,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=t.seriesTypes,a=s.column,s=s.line,l=o.addEvent,p=o.arrayMax,h=o.arrayMin,d=o.defined,u=o.extend,y=o.merge,f=o.pick,o=(r(g,c=s),g.prototype.alignDataLabel=function(t,e,i,o){var n,r=this.chart.inverted,s=this.visibilityMap.filter(function(t){return!!t}),a=this.visiblePointsCount||0,s=s.indexOf(t),l=this.options.dataLabels,p=t.userDLOptions||{},s=l.alternate?s&&s!==a-1?2:1.5:1,a=Math.floor(this.xAxis.len/a),h=e.padding;t.visible&&(n=Math.abs(p.x||t.options.dataLabels.x),t=r?(r=2*(n-h)-(t.itemHeight||0)/2,{width:f(null==(n=l.style)?void 0:n.width,"".concat(.4*this.yAxis.len,"px")),textOverflow:(e.width||0)/r*(e.height||0)/2>a*s?"ellipsis":"none"}):{width:(p.width||l.width||a*s-2*h)+"px"},e.css(t),this.chart.styledMode||e.shadow(l.shadow)),c.prototype.alignDataLabel.apply(this,arguments)},g.prototype.bindAxes=function(){c.prototype.bindAxes.call(this),this.xAxis.userOptions.type||(this.xAxis.categories=this.xAxis.hasNames=!0)},g.prototype.distributeDL=function(){var t=this.options.dataLabels,e=this.chart.inverted,i=1;if(t)for(var o=f(t.distance,e?20:100),n=0,r=this.points;n<r.length;n++){var s,a=r[n];(s={})[e?"x":"y"]=t.alternate&&i%2?-o:o;e&&(s.align=t.alternate&&i%2?"right":"left"),a.options.dataLabels=y(s,a.userDLOptions),i++}},g.prototype.generatePoints=function(){c.prototype.generatePoints.call(this);for(var t=this.points,e=0,i=t.length;e<i;++e)t[e].applyOptions({x:this.xData[e]},this.xData[e])},g.prototype.getVisibilityMap=function(){return(this.data.length?this.data:this.userOptions.data||[]).map(function(t){return!!t&&!1!==t.visible&&!t.isNull&&t})},g.prototype.getXExtremes=function(t){var i=this,t=t.filter(function(t,e){return i.points[e].isValid()&&i.points[e].visible});return{min:h(t),max:p(t)}},g.prototype.init=function(){var r=this;c.prototype.init.apply(r,arguments),r.eventsToUnbind.push(l(r,"afterTranslate",function(){for(var t,e=Number.MAX_VALUE,i=0,o=r.points;i<o.length;i++){var n=o[i];n.isInside=n.isInside&&n.visible,n.visible&&!n.isNull&&(d(t)&&(e=Math.min(e,Math.abs(n.plotX-t))),t=n.plotX)}r.closestPointRangePx=e})),r.eventsToUnbind.push(l(r,"drawDataLabels",function(){r.distributeDL()})),r.eventsToUnbind.push(l(r,"afterDrawDataLabels",function(){for(var t,e=0,i=r.points;e<i.length;e++){var o=i[e];(t=o.dataLabel)&&(t.animate=function(t){return this.targetPosition&&(this.targetPosition=t),this.renderer.Element.prototype.animate.apply(this,arguments)},t.targetPosition||(t.targetPosition={}),o.drawConnector())}})),r.eventsToUnbind.push(l(r.chart,"afterHideOverlappingLabel",function(){for(var t=0,e=r.points;t<e.length;t++){var i=e[t];i.dataLabel&&i.dataLabel.connector&&i.dataLabel.oldOpacity!==i.dataLabel.newOpacity&&i.alignConnector()}}))},g.prototype.markerAttribs=function(t,e){var i=this.options.marker,o=t.marker||{},n=o.symbol||i.symbol,r=f(o.width,i.width,this.closestPointRangePx),s=f(o.height,i.height),a=0;if(this.xAxis.dateTime)return c.prototype.markerAttribs.call(this,t,e);e&&(i=i.states[e]||{},a=f((o.states&&o.states[e]||{}).radius,i.radius,a+(i.radiusPlus||0))),t.hasImage=n&&0===n.indexOf("url");o={x:Math.floor(t.plotX)-r/2-a/2,y:t.plotY-s/2-a/2,width:r+a,height:s+a};return this.chart.inverted?{y:o.x&&o.width&&this.xAxis.len-o.x-o.width,x:o.y,width:o.height,height:o.width}:o},g.prototype.processData=function(){var t,e=0;this.visibilityMap=this.getVisibilityMap();for(var i=0,o=this.visibilityMap;i<o.length;i++)o[i]&&e++;for(t=0,this.visiblePointsCount=e;t<this.xData.length;t++)this.yData[t]=1;c.prototype.processData.call(this,arguments)},g.defaultOptions=y(s.defaultOptions,i),g);function g(){var t=null!==c&&c.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t.userOptions=void 0,t.visibilityMap=void 0,t}return u(o.prototype,{drawTracker:a.prototype.drawTracker,pointClass:e,trackerGroups:["markerGroup","dataLabelsGroup"]}),t.registerSeriesType("timeline",o),o}),e(t,"masters/modules/timeline.src.js",[],function(){})});