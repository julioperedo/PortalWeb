!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Series/DrawPointUtilities.js",[t["Core/Utilities.js"]],function(t){var l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};return t.isNumber,{draw:function(t,e){var o=e.animatableAttribs,i=e.onComplete,r=e.css,n=e.renderer,a=t.series&&t.series.chart.hasRendered?void 0:t.series&&t.series.options.animation,s=t.graphic;e.attribs=l(l({},e.attribs),{class:t.getClassName()})||{},t.shouldDraw()?(s||(s="text"===e.shapeType?n.text():"image"===e.shapeType?n.image(e.imageUrl||"").attr(e.shapeArgs||{}):n[e.shapeType](e.shapeArgs||{}),(t.graphic=s).add(e.group)),r&&s.css(r),s.attr(e.attribs).animate(o,!e.isNew&&a,i)):s&&(n=function(){t.graphic=s=s&&s.destroy(),"function"==typeof i&&i()},Object.keys(o).length?s.animate(o,void 0,n):n())}}}),e(t,"Series/Wordcloud/WordcloudPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e){var i,o,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),t=t.seriesTypes.column.prototype.pointClass,e=e.extend,r=(r(n,o=t),n.prototype.isValid=function(){return!0},n);function n(){var t=null!==o&&o.apply(this,arguments)||this;return t.dimensions=void 0,t.options=void 0,t.polygon=void 0,t.rect=void 0,t.series=void 0,t}return e(r.prototype,{weight:1}),r}),e(t,"Series/Wordcloud/WordcloudSeriesDefaults.js",[],function(){return{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,cropThreshold:1/0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}}}),e(t,"Series/Wordcloud/WordcloudUtils.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var r=t.deg2rad,f=e.extend,m=e.find,n=e.isNumber,y=e.isObject,a=e.merge;function x(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}function s(t){var r=t.axes||[];return r.length||(r=[],t.concat([t[0]]).reduce(function(t,e){o=e[0]-t[0];var o,i=[-(e[1]-t[1]),o];return m(r,function(t){return t[0]===i[0]&&t[1]===i[1]})||r.push(i),e}),t.axes=r),r}function l(t,o){t=t.map(function(t){var e=t[0],t=t[1];return e*o[0]+t*o[1]});return{min:Math.min.apply(this,t),max:Math.max.apply(this,t)}}function b(o,i){var t=s(o),e=s(i);return!m(t.concat(e),function(t){var e=l(o,t);return!!((t=l(i,t)).min>e.max||t.max<e.min)})}function o(t,e){function o(t){return"boolean"==typeof t}var i=4*t,r=Math.ceil((Math.sqrt(i)-1)/2),n=2*r+1,a=Math.pow(n,2),s=!1;return--n,t<=1e4&&(o(s)&&a-n<=i&&(s={x:r-(a-i),y:-r}),a-=n,o(s)&&a-n<=i&&(s={x:-r,y:a-i-r}),a-=n,(s=o(s)?a-n<=i?{x:a-i-r,y:r}:{x:r,y:r-(a-i-n)}:s).x*=5,s.y*=5),s}function u(t,e){e=Math.pow(10,n(e)?e:14);return Math.round(t*e)/e}function i(t,e){var o=t[0],t=t[1],e=-r*e,i=Math.cos(e),e=Math.sin(e);return[u(o*i-t*e),u(o*e+t*i)]}function h(t,e,o){t=i([t[0]-e[0],t[1]-e[1]],o);return[t[0]+e[0],t[1]+e[1]]}return{archimedeanSpiral:function(t,e){var e=e.field,e=e.width*e.width+e.height*e.height,o=.8*t,i=!1;return i=t<=1e4&&!(Math.min(Math.abs((i={x:o*Math.cos(o),y:o*Math.sin(o)}).x),Math.abs(i.y))<e)?!1:i},extendPlayingField:function(t,e){var o,i,r=y(t)&&y(e)?(r=e.bottom-e.top,e=(e=e.right-e.left)*(o=t.ratioX)>r*(i=t.ratioY)?e:r,a(t,{width:t.width+e*o*2,height:t.height+e*i*2})):t;return r},getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,e){var o=e[0],e=e[1];return t.left=Math.min(o,t.left),t.right=Math.max(o,t.right),t.bottom=Math.max(e,t.bottom),t.top=Math.min(e,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPlayingField:function(t,e,o){var o=o.reduce(function(t,e){var e=e.dimensions,o=Math.max(e.width,e.height);return t.maxHeight=Math.max(t.maxHeight,e.height),t.maxWidth=Math.max(t.maxWidth,e.width),t.area+=o*o,t},{maxHeight:0,maxWidth:0,area:0}),o=Math.max(o.maxHeight,o.maxWidth,.85*Math.sqrt(o.area)),i=e<t?t/e:1,e=t<e?e/t:1;return{width:o*i,height:o*e,ratioX:i,ratioY:e}},getPolygon:function(t,e,o,i,r){var n=[t,e],a=t-o/2,t=t+o/2,o=e-i/2,e=e+i/2;return[[a,o],[t,o],[t,e],[a,e]].map(function(t){return h(t,n,-r)})},getRandomPosition:function(t){return Math.round(t*(Math.random()+.5)/2)},getRotation:function(t,e,o,i){var r=!1;return r=n(t)&&n(e)&&n(o)&&n(i)&&0<t&&-1<e&&o<i?o+e%t*((i-o)/(t-1||1)):r},getScale:function(t,e,o){var i=2*Math.max(Math.abs(o.top),Math.abs(o.bottom)),o=2*Math.max(Math.abs(o.left),Math.abs(o.right));return Math.min(0<o?1/o*t:1,0<i?1/i*e:1)},getSpiral:function(t,e){for(var o=[],i=1;i<1e4;i++)o.push(t(i,e));return function(t){return t<=1e4&&o[t-1]}},intersectionTesting:function(o,t){var i,r,n,e,a,s=t.placed,l=t.field,u=t.rectangle,h=t.polygon,d=t.spiral,c=o.rect=f({},u),p=1,g={x:0,y:0};for(o.polygon=h,o.rotation=t.rotation;!1!==g&&(i=o.rect,r=o.polygon,a=o.lastCollidedWith,e=!(n=function(t){var e=x(i,t.rect);return e=e&&(o.rotation%90||t.rotation%90)?b(r,t.polygon):e}),a&&!(e=n(a))&&delete o.lastCollidedWith,(e=e||!!m(s,function(t){var e=n(t);return e&&(o.lastCollidedWith=t),e}))||!((a={left:-l.width/2,right:l.width/2,top:-l.height/2,bottom:l.height/2}).left<c.left&&a.right>c.right&&a.top<c.top&&a.bottom>c.bottom));)y(g=d(p))&&(c.left=u.left+g.x,c.right=u.right+g.x,c.top=u.top+g.y,c.bottom=u.bottom+g.y,o.polygon=function(e,o){return h.map(function(t){return[t[0]+e,t[1]+o]})}(g.x,g.y)),p++;return g},isPolygonsColliding:b,isRectanglesIntersecting:x,rectangularSpiral:function(t,e){t=o(t),e=e.field;return t&&(t.x*=e.ratioX,t.y*=e.ratioY),t},rotate2DToOrigin:i,rotate2DToPoint:h,squareSpiral:o,updateFieldBoundaries:function(t,e){return(!n(t.left)||t.left>e.left)&&(t.left=e.left),(!n(t.right)||t.right<e.right)&&(t.right=e.right),(!n(t.top)||t.top>e.top)&&(t.top=e.top),(!n(t.bottom)||t.bottom<e.bottom)&&(t.bottom=e.bottom),t}}}),e(t,"Series/Wordcloud/WordcloudSeries.js",[t["Series/DrawPointUtilities.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/Wordcloud/WordcloudPoint.js"],t["Series/Wordcloud/WordcloudSeriesDefaults.js"],t["Series/Wordcloud/WordcloudUtils.js"]],function(F,o,t,e,i,r,n){var a,s,l=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),u=o.noop,h=t.seriesTypes.column,O=e.extend,d=e.isArray,T=e.isNumber,D=e.isObject,e=e.merge,c=n.archimedeanSpiral,U=n.extendPlayingField,z=n.getBoundingBoxFromPolygon,E=n.getPlayingField,N=n.getPolygon,p=n.getRandomPosition,g=n.getRotation,X=n.getScale,B=n.getSpiral,R=n.intersectionTesting,f=n.isPolygonsColliding,m=n.rectangularSpiral,y=n.rotate2DToOrigin,x=n.rotate2DToPoint,b=n.squareSpiral,H=n.updateFieldBoundaries,n=(l(v,s=h),v.prototype.pointAttribs=function(t,e){t=o.seriesTypes.column.prototype.pointAttribs.call(this,t,e);return delete t.stroke,delete t["stroke-width"],t},v.prototype.deriveFontSize=function(t,e,o){t=T(t)?t:0,e=T(e)?e:1;return Math.floor(Math.max(T(o)?o:1,t*e))},v.prototype.drawPoints=function(){var t=this.hasRendered,e=this.xAxis,o=this.yAxis,i=this.chart,r=this.group,n=this.options,a=n.animation,s=n.allowExtendPlayingField,l=i.renderer,u=[],h=this.placementStrategy[n.placementStrategy],d=n.rotation,i=this.points.map(function(t){return t.weight}),c=Math.max.apply(null,i),p=this.points.concat().sort(function(t,e){return e.weight-t.weight}),g=l.text().add(r);this.group.attr({scaleX:1,scaleY:1});for(var f=0;f<p.length;f++){var m=1/c*(M=p[f]).weight,y=this.deriveFontSize(m,n.maxFontSize,n.minFontSize),x=O({fontSize:y+"px"},n.style),b=(g.css(x).attr({x:0,y:0,text:M.name}),g.getBBox(!0));M.dimensions={height:b.height,width:b.width}}for(var v=E(e.len,o.len,p),w=B(this.spirals[n.spiral],{field:v}),S=0;S<p.length;S++){var M,m=1/c*(M=p[S]).weight,y=this.deriveFontSize(m,n.maxFontSize,n.minFontSize),x=O({fontSize:y+"px"},n.style),P=h(M,{data:p,field:v,placed:u,rotation:d}),j=O(this.pointAttribs(M,M.selected&&"select"),{align:"center","alignment-baseline":"middle","dominant-baseline":"middle",x:P.x,y:P.y,text:M.name,rotation:T(P.rotation)?P.rotation:void 0}),_=N(P.x,P.y,M.dimensions.width,M.dimensions.height,P.rotation),A=z(_),C=R(M,{rectangle:A,polygon:_,field:v,placed:u,spiral:w,rotation:P.rotation}),W=void 0;!C&&s&&(v=U(v,A),C=R(M,{rectangle:A,polygon:_,field:v,placed:u,spiral:w,rotation:P.rotation})),D(C)?(j.x=(j.x||0)+C.x,j.y=(j.y||0)+C.y,A.left+=C.x,A.right+=C.x,A.top+=C.y,A.bottom+=C.y,v=H(v,A),u.push(M),M.isNull=!1,M.isInside=!0):M.isNull=!0,a&&(W={x:j.x,y:j.y},t?(delete j.x,delete j.y):(j.x=0,j.y=0)),F.draw(M,{animatableAttribs:W,attribs:j,css:x,group:r,renderer:l,shapeArgs:void 0,shapeType:"text"})}g=g.destroy(),i=X(e.len,o.len,v);this.group.attr({scaleX:i,scaleY:i})},v.prototype.hasData=function(){return D(this)&&!0===this.visible&&d(this.points)&&0<this.points.length},v.prototype.getPlotBox=function(){var t=this.chart,e=t.inverted,o=this[e?"yAxis":"xAxis"],e=this[e?"xAxis":"yAxis"],i=o?o.len:t.plotWidth,r=e?e.len:t.plotHeight;return{translateX:(o?o.left:t.plotLeft)+i/2,translateY:(e?e.top:t.plotTop)+r/2,scaleX:1,scaleY:1}},v.defaultOptions=e(h.defaultOptions,r),v);function v(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return O(n.prototype,{animate:u,animateDrilldown:u,animateDrillupFrom:u,isCartesian:!1,pointClass:i,setClip:u,placementStrategy:{random:function(t,e){var o=e.field,e=e.rotation;return{x:p(o.width)-o.width/2,y:p(o.height)-o.height/2,rotation:g(e.orientations,t.index,e.from,e.to)}},center:function(t,e){e=e.rotation;return{x:0,y:0,rotation:g(e.orientations,t.index,e.from,e.to)}}},pointArrayMap:["weight"],spirals:{archimedean:c,rectangular:m,square:b},utils:{extendPlayingField:U,getRotation:g,isPolygonsColliding:f,rotate2DToOrigin:y,rotate2DToPoint:x}}),t.registerSeriesType("wordcloud",n),n}),e(t,"masters/modules/wordcloud.src.js",[],function(){})});