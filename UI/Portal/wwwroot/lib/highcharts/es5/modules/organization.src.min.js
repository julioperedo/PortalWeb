!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/organization",["highcharts","highcharts/modules/sankey"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Series/Organization/OrganizationPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){var n,r,e=this&&this.__extends||(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),t=t.seriesTypes.sankey.prototype.pointClass,s=i.defined,a=i.find,h=i.pick;function o(){var t=null!==r&&r.apply(this,arguments)||this;return t.fromNode=void 0,t.linksFrom=void 0,t.linksTo=void 0,t.options=void 0,t.series=void 0,t.toNode=void 0,t}return e(o,r=t),o.prototype.init=function(){return r.prototype.init.apply(this,arguments),this.isNode||(this.dataLabelOnNull=!0,this.formatPrefix="link"),this},o.prototype.getSum=function(){return 1},o.prototype.setNodeColumn=function(){r.prototype.setNodeColumn.call(this);var e=this,t=e.getFromNode().fromNode;if(!s(e.options.column)&&0!==e.linksTo.length&&t&&"hanging"===t.options.layout){var i,n=-1;e.options.layout=h(e.options.layout,"hanging"),e.hangsFrom=t,a(t.linksFrom,function(t,i){t=t.toNode===e;return t&&(n=i),t});for(var o=0;o<t.linksFrom.length;++o)(i=t.linksFrom[o]).toNode.id===e.id?o=t.linksFrom.length:n+=function i(t){var e=t.linksFrom.length;return t.linksFrom.forEach(function(t){t.id===t.toNode.linksTo[0].id?e+=i(t.toNode):e--}),e}(i.toNode);e.column=(e.column||0)+n}},o}),i(t,"Series/Organization/OrganizationSeriesDefaults.js",[],function(){return{borderColor:"#666666",borderRadius:3,link:{color:"#666666",lineWidth:1,radius:10,type:"default"},borderWidth:1,dataLabels:{nodeFormatter:function(){var t={width:"100%",height:"100%",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"},i={"max-height":"100%","border-radius":"50%"},e={width:"100%",padding:0,"text-align":"center","white-space":"normal"};function n(e){return Object.keys(e).reduce(function(t,i){return t+i+":"+e[i]+";"},'style="')+'"'}var o=this.point,r=o.description,s=o.image,o=o.title,t=(s&&(i["max-width"]="30%",e.width="70%"),this.series.chart.renderer.forExport&&(t.display="block",e.position="absolute",e.left=s?"30%":0,e.top=0),"<div "+n(t)+">");return s&&(t+='<img src="'+s+'" '+n(i)+">"),t+="<div "+n(e)+">",this.point.name&&(t+="<h4 "+n({margin:0})+">"+this.point.name+"</h4>"),o&&(t+="<p "+n({margin:0})+">"+(o||"")+"</p>"),r&&(t+="<p "+n({opacity:.75,margin:"5px"})+">"+r+"</p>"),t+="</div></div>"},style:{fontWeight:"normal",fontSize:"0.9em"},useHTML:!0,linkTextPath:{attributes:{startOffset:"95%",textAnchor:"end"}}},hangingIndent:20,hangingIndentTranslation:"inherit",minNodeLength:10,nodeWidth:50,tooltip:{nodeFormat:"{point.name}<br>{point.title}<br>{point.description}"}}}),i(t,"Series/PathUtilities.js",[],function(){function l(t,i){for(var e=[],n=0;n<t.length;n++){var o,r,s,a,h,l,p=t[n][1],d=t[n][2];"number"==typeof p&&"number"==typeof d&&(0===n?e.push(["M",p,d]):n!==t.length-1&&i?(r=t[n-1],a=t[n+1],r&&a&&(o=r[1],r=r[2],s=a[1],a=a[2],"number"==typeof o&&"number"==typeof s&&"number"==typeof r&&"number"==typeof a&&o!==s&&r!==a&&(l=r<a?1:-1,e.push(["L",p-(h=o<s?1:-1)*Math.min(Math.abs(p-o),i),d-l*Math.min(Math.abs(d-r),i)],["C",p,d,p,d,p+h*Math.min(Math.abs(p-s),i),d+l*Math.min(Math.abs(d-a),i)])))):e.push(["L",p,d]))}return e}return{applyRadius:l,getLinkPath:{default:function(t){var i=t.x1,e=t.y1,n=t.x2,o=t.y2,r=t.width,r=void 0===r?0:r,s=t.inverted,s=void 0!==s&&s,a=t.radius,t=t.parentVisible,h=[["M",i,e],["L",i,e],["C",i,e,i,o,i,o],["L",i,o],["C",i,e,i,o,i,o],["L",i,o]];return t?l([["M",i,e],["L",i+r*(s?-.5:.5),e],["L",i+r*(s?-.5:.5),o],["L",n,o]],a):h},straight:function(t){var i=t.x1,e=t.y1,n=t.x2,o=t.y2,r=t.width,r=void 0===r?0:r,s=t.inverted,s=void 0!==s&&s;return t.parentVisible?[["M",i,e],["L",i+r*(s?-1:1),o],["L",n,o]]:[["M",i,e],["L",i,o],["L",i,o]]},curved:function(t){var i=t.x1,e=t.y1,n=t.x2,o=t.y2,r=t.offset,r=void 0===r?0:r,s=t.width,s=void 0===s?0:s,a=t.inverted,a=void 0!==a&&a;return t.parentVisible?[["M",i,e],["C",i+r,e,i-r+s*(a?-1:1),o,i+s*(a?-1:1),o],["L",n,o]]:[["M",i,e],["C",i,e,i,o,i,o],["L",n,o]]}}}}),i(t,"Series/Organization/OrganizationSeries.js",[t["Series/Organization/OrganizationPoint.js"],t["Series/Organization/OrganizationSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Series/PathUtilities.js"],t["Core/Utilities.js"]],function(t,i,e,k,n){var o,l,r=this&&this.__extends||(o=function(t,i){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),p=e.seriesTypes.sankey,s=n.css,a=n.extend,d=n.isNumber,h=n.merge,m=n.pick,n=(r(u,l=p),u.prototype.alignDataLabel=function(t,i,e){var n,o,t=t.shapeArgs;e.useHTML&&t&&(e=this.options.borderWidth+2*this.options.dataLabels.padding,n=t.width||0,o=t.height||0,this.chart.inverted&&(n=o,o=t.width||0),o-=e,n-=e,(t=i.text)&&(s(t.element.parentNode,{width:n+"px",height:o+"px"}),s(t.element,{left:0,top:0,width:"100%",height:"100%",overflow:"hidden"})),i.getBBox=function(){return{width:n,height:o,x:0,y:0}},i.width=n,i.height=o),l.prototype.alignDataLabel.apply(this,arguments)},u.prototype.createNode=function(t){t=l.prototype.createNode.call(this,t);return t.getSum=function(){return 1},t},u.prototype.pointAttribs=function(t,i){var e=this,n=p.prototype.pointAttribs.call(e,t,i),o=(t.isNode?t:t.fromNode).level,o=e.mapOptionsToLevel[o||0]||{},r=t.options,i=o.states&&o.states[i]||{},s=m(i.borderRadius,r.borderRadius,o.borderRadius,e.options.borderRadius),a=m(i.linkColor,r.linkColor,o.linkColor,e.options.linkColor,i.link&&i.link.color,r.link&&r.link.color,o.link&&o.link.color,e.options.link&&e.options.link.color),h=m(i.linkLineWidth,r.linkLineWidth,o.linkLineWidth,e.options.linkLineWidth,i.link&&i.link.lineWidth,r.link&&r.link.lineWidth,o.link&&o.link.lineWidth,e.options.link&&e.options.link.lineWidth),i=m(i.linkOpacity,r.linkOpacity,o.linkOpacity,e.options.linkOpacity,i.link&&i.link.linkOpacity,r.link&&r.link.linkOpacity,o.link&&o.link.linkOpacity,e.options.link&&e.options.link.linkOpacity);return t.isNode?d(s)&&(n.r=s):(n.stroke=a,n["stroke-width"]=h,n.opacity=i,delete n.fill),n},u.prototype.translateLink=function(t){var i,e,n,o,r,s,a,h,l=this.chart,p=this.options,d=t.fromNode,u=t.toNode,c=m(p.linkLineWidth,p.link.lineWidth),f=Math.round(c)%2/2,g=m(p.link.offset,.5),y=m(t.options.link&&t.options.link.type,p.link.type);d.shapeArgs&&u.shapeArgs&&(i=p.hangingIndent,h=u.options.offset,h=/%$/.test(h)&&parseInt(h,10),e=l.inverted,n=Math.floor((d.shapeArgs.x||0)+(d.shapeArgs.width||0))+f,o=Math.floor((d.shapeArgs.y||0)+(d.shapeArgs.height||0)/2)+f,r=Math.floor(u.shapeArgs.x||0)+f,s=Math.floor((u.shapeArgs.y||0)+(u.shapeArgs.height||0)/2)+f,a=void 0,e&&(n-=d.shapeArgs.width||0,r+=u.shapeArgs.width||0),a=this.colDistance?Math.floor(r+(e?1:-1)*(this.colDistance-this.nodeWidth)/2)+f:Math.floor((r+n)/2)+f,h&&(50<=h||h<=-50)&&(a=r=Math.floor(r+(e?-.5:.5)*(u.shapeArgs.width||0))+f,s=u.shapeArgs.y||0,0<h&&(s+=u.shapeArgs.height||0)),u.hangsFrom===d&&(l.inverted?(o=Math.floor((d.shapeArgs.y||0)+(d.shapeArgs.height||0)-i/2)+f,s=(u.shapeArgs.y||0)+(u.shapeArgs.height||0)):o=Math.floor((d.shapeArgs.y||0)+i/2)+f,a=r=Math.floor((u.shapeArgs.x||0)+(u.shapeArgs.width||0)/2)+f),t.plotX=a,t.plotY=(o+s)/2,t.shapeType="path","straight"===y?t.shapeArgs={d:[["M",n,o],["L",r,s]]}:"curved"===y?(h=Math.abs(r-n)*g*(e?-1:1),t.shapeArgs={d:[["M",n,o],["C",n+h,o,r-h,s,r,s]]}):t.shapeArgs={d:k.applyRadius([["M",n,o],["L",a,o],["L",a,s],["L",r,s]],m(p.linkRadius,p.link.radius))},t.dlBox={x:(n+r)/2,y:(o+s)/2,height:c,width:0})},u.prototype.translateNode=function(t,i){l.prototype.translateNode.call(this,t,i);var i=this.chart,e=this.options,n=e.hangingIndent||0,o=i.inverted?-1:1,r=t.shapeArgs,s=e.hangingIndentTranslation,a=e.minNodeLength||10,h=t.hangsFrom;if(h)if("cumulative"===s)for(r.height-=n,r.y-=o*n;h;)r.y+=o*n,h=h.hangsFrom;else if("shrink"===s)for(;h&&r.height>n+a;)r.height-=n,h=h.hangsFrom;else r.height-=n,i.inverted||(r.y+=n);t.nodeHeight=i.inverted?r.width:r.height},u.prototype.drawDataLabels=function(){var t=this.options.dataLabels;if(t.linkTextPath&&t.linkTextPath.enabled)for(var i=0,e=this.points;i<e.length;i++){var n=e[i];n.options.dataLabels=h(n.options.dataLabels,{useHTML:!1})}l.prototype.drawDataLabels.call(this)},u.defaultOptions=h(p.defaultOptions,i),u);function u(){var t=null!==l&&l.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return a(n.prototype,{pointClass:t}),e.registerSeriesType("organization",n),n}),i(t,"masters/modules/organization.src.js",[],function(){})});