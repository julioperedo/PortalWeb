!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(h,a,s){var m,t=a.dateFormats,r=s.addEvent,n=s.defined,d=s.erase,l=s.find,o=s.isArray,x=s.isNumber,c=s.merge,f=s.pick,u=s.timeUnits,g=s.wrap,p=(m={top:0,0:"top",right:1,1:"right",bottom:2,2:"bottom",left:3,3:"left"},[]);function k(t){return s.isObject(t,!0)}function b(s,t){var r={width:0,height:0};return t.forEach(function(t){var i,t=s[t],e=0;k(t)&&(i=(t=k(t.label)?t.label:{}).getBBox?t.getBBox().height:0,t.textStr&&!x(t.textPxLength)&&(t.textPxLength=t.getBBox().width),e=x(t.textPxLength)?Math.round(t.textPxLength):0,t.textStr&&(e=Math.round(t.getBBox().width)),r.height=Math.max(i,r.height),r.width=Math.max(e,r.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,r.width+=this.options.labels.indentation*(t-1)),r}function v(){var t=this.grid;(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function P(t){var i,e,s,r,n,o,h,a,d,l,c,u,g;!0===(this.options.grid||{}).enabled&&(u=this.axisTitle,i=this.height,e=this.horiz,s=this.left,r=this.offset,n=this.opposite,c=this.options,o=this.top,h=this.width,g=this.tickSize(),a=u&&u.getBBox().width,d=c.title.x,l=c.title.y,c=f(c.title.margin,e?5:10),u=u?this.chart.renderer.fontMetrics(u).f:0,g=(e?o+i:s)+(e?1:-1)*(n?-1:1)*(g?g[0]/2:0)+(this.side===m.bottom?u:0),t.titlePosition.x=e?s-(a||0)/2-c+d:g+(n?h:0)+r+d,t.titlePosition.y=e?g-(n?i:0)+(n?u:-u)/2+r+l:o-c+l)}function y(){var t=this.chart,i=this.options.grid,e=void 0===i?{}:i,s=this.userOptions;if(e.enabled&&((i=this.options).labels.align=f(i.labels.align,"center"),this.categories||(i.showLastLabel=!1),this.labelRotation=0,i.labels.rotation=0,i.minTickInterval=1),e.columns)for(var r=this.grid.columns=[],n=this.grid.columnIndex=0;++n<e.columns.length;){var o=c(s,e.columns[e.columns.length-n-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}}),o=(delete o.grid.columns,new h(this.chart,o,"yAxis"));o.grid.isColumn=!0,o.grid.columnIndex=n,d(t.axes,o),d(t[this.coll]||[],o),r.push(o)}}function w(){var t=this.grid,i=this.options;if(!0===(i.grid||{}).enabled){var e,s=this.min||0,r=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine&&(e=i.lineWidth)&&(n=(e=this.getLinePath(e))[0],h=e[1],o=((this.tickSize("tick")||[1])[0]-1)*(this.side===m.top||this.side===m.left?-1:1),"M"===n[0]&&"L"===h[0]&&(this.horiz?(n[2]+=o,h[2]+=o):(n[1]+=o,h[1]+=o)),!this.horiz&&this.chart.marginRight&&(o=[n,["L",this.left,n[2]||0]],n=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(r+this.tickmarkOffset)],h=[["M",h[1]||0,this.toPixels(r+this.tickmarkOffset)],n],this.grid.upperBorder||s%1==0||(this.grid.upperBorder=this.grid.renderBorder(o)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.upperBorder.animate({d:o})),this.grid.lowerBorder||r%1==0||(this.grid.lowerBorder=this.grid.renderBorder(h)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.lowerBorder.animate({d:h}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),this.grid.axisLineExtra.animate({d:e})):this.grid.axisLineExtra=this.grid.renderBorder(e),this.axisLine[this.showAxis?"show":"hide"]()),(t&&t.columns||[]).forEach(function(t){return t.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){for(var n=this.tickmarkOffset,o=this.tickPositions[this.tickPositions.length-1],h=this.tickPositions[0],a=void 0,d=void 0;(a=this.hiddenLabels.pop())&&a.element;)a.show();for(;(d=this.hiddenMarks.pop())&&d.element;)d.show();(a=this.ticks[h].label)&&(n<s-h?this.hiddenLabels.push(a.hide()):a.show()),(a=this.ticks[o].label)&&(n<o-r?this.hiddenLabels.push(a.hide()):a.show());i=this.ticks[o].mark;i&&o-r<n&&0<o-r&&this.ticks[o].isLast&&this.hiddenMarks.push(i.hide())}}}function L(){var t=this.tickPositions&&this.tickPositions.info,i=this.options,e=i.grid||{},s=this.userOptions.labels||{};e.enabled&&(this.horiz?(this.series.forEach(function(t){t.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!n(s.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",n(s.x)||(i.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function B(t){var l,i=this.options,t=t.userOptions,e=i&&k(i.grid)?i.grid:{};!0===e.enabled&&(l=c(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(n(t.linkedTo)&&!n(t.tickPixelInterval)&&(l.tickPixelInterval=350),n(t.tickPixelInterval)||!n(t.linkedTo)||n(t.tickPositioner)||n(t.tickInterval)||(l.tickPositioner=function(t,i){var e=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(e){for(var s=l.units||[],r=void 0,n=1,o="year",h=0;h<s.length;h++){var a=s[h];if(a&&a[0]===e.unitName){r=h;break}}var d=x(r)&&s[r+1],d=(d?(o=d[0]||"year",n=(d=d[1])&&d[0]||1):"year"===e.unitName&&(n=10*e.count),u[o]);return this.tickInterval=d*n,this.chart.time.getTimeTicks({unitRange:d,count:n,unitName:o},t,i,this.options.startOfWeek)}})),c(!0,this.options,l),this.horiz&&(i.minPadding=f(t.minPadding,0),i.maxPadding=f(t.maxPadding,0)),x(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=e.borderWidth))}function O(t){var t=t.userOptions,t=t&&t.grid||{},i=t.columns;t.enabled&&i&&c(!0,this.options,i[i.length-1])}function M(){(this.grid.columns||[]).forEach(function(t){return t.setScale()})}function S(t){var i,e=this.horiz,s=this.maxLabelDimensions,r=this.options.grid,r=void 0===r?{}:r;r.enabled&&s&&(i=2*this.options.labels.distance,e=e?r.cellHeight||i+s.height:i+s.width,o(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function T(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}function A(i){var t=this.grid;(t.columns||[]).forEach(function(t){return t.destroy(i.keepEvents)}),t.columns=void 0}function C(t){var t=t.userOptions||{},i=t.grid||{};i.enabled&&n(i.borderColor)&&(t.tickColor=t.lineColor=i.borderColor),this.grid||(this.grid=new e(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function E(t){var i,e,s,r=this.label,n=this.axis,o=n.reversed,h=n.chart,a=n.options.grid||{},d=n.options.labels,l=d.align,c=m[n.side],u=t.tickmarkOffset,g=n.tickPositions,f=this.pos-u,g=x(g[t.index+1])?g[t.index+1]-u:(n.max||0)+u,u=n.tickSize("tick"),p=u?u[0]:0,u=u?u[1]/2:0;!0===a.enabled&&(s=e=a=void 0,"top"===c?i=(a=n.top+n.offset)-p:"bottom"===c?a=(i=h.chartHeight-n.bottom+n.offset)+p:(a=n.top+n.len-(n.translate(o?g:f)||0),i=n.top+n.len-(n.translate(o?f:g)||0)),"right"===c?s=(e=h.chartWidth-n.right+n.offset)+p:"left"===c?e=(s=n.left+n.offset)-p:(e=Math.round(n.left+(n.translate(o?g:f)||0))-u,s=Math.min(Math.round(n.left+(n.translate(o?f:g)||0))-u,n.left+n.len)),this.slotWidth=s-e,t.pos.x="left"===l?e:"right"===l?s:e+(s-e)/2,t.pos.y=i+(a-i)/2,r&&(c=h.renderer.fontMetrics(r),p=r.getBBox().height,d.useHTML?t.pos.y+=c.b+-p/2:(o=Math.round(p/c.h),t.pos.y+=(c.b-(c.h-c.f))/2+-((o-1)*c.h)/2)),t.pos.x+=n.horiz&&d.x||0)}function W(t){var i,e,s,r,n,o=t.axis,h=t.value;o.options.grid&&o.options.grid.enabled&&(s=o.tickPositions,i=(o.linkedParent||o).series[0],e=h===s[0],s=h===s[s.length-1],n=void 0,(r=i&&l(i.options.data,function(t){return t[o.isXAxis?"x":"y"]===h}))&&i.is("gantt")&&(n=c(r),a.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(n)),t.isFirst=e,t.isLast=s,t.point=n)}function z(){var t=this.options,i=t.grid||{},e=this.categories,s=this.tickPositions,r=s[0],n=s[s.length-1],o=this.linkedParent&&this.linkedParent.min,h=this.linkedParent&&this.linkedParent.max,o=o||this.min,h=h||this.max,a=this.tickInterval;!0!==i.enabled||e||!this.horiz&&!this.isLinked||(r<o&&o<r+a&&!t.startOnTick&&(s[0]=o),h<n&&n-a<h&&!t.endOnTick&&(s[s.length-1]=h))}function I(t){var i=this.options.grid;return!0===(void 0===i?{}:i).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}i.prototype.isOuterAxis=function(){var e=this.axis,t=e.chart,i=e.grid.columnIndex,s=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns,r=i?e.linkedParent:e,n=-1,o=0;return(t[e.coll]||[]).forEach(function(t,i){t.side!==e.side||t.options.isInternal||(o=i,t===r&&(n=i))}),o===n&&(!x(i)||s.length===i)},i.prototype.renderBorder=function(t){var i=this.axis,e=i.chart.renderer,s=i.options,t=e.path(t).addClass("highcharts-axis-line").add(i.axisBorder);return e.styledMode||t.attr({stroke:s.lineColor,"stroke-width":s.lineWidth,zIndex:7}),t};var e=i;function i(t){this.axis=t}return t.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},t.W=function(t){var i=this,e=new this.Date(t),t=(["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)}),(this.get("Day",e)+6)%7),s=new this.Date(e.valueOf()),t=(this.set("Date",s,this.get("Date",e)-t+3),new this.Date(this.get("FullYear",s),0,1));return 4!==this.get("Day",t)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",t))%7)),(1+Math.floor((s.valueOf()-t.valueOf())/6048e5)).toString()},{compose:function(t,i,e){return s.pushUnique(p,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=b,g(t.prototype,"unsquish",I),r(t,"init",C),r(t,"afterGetOffset",v),r(t,"afterGetTitlePosition",P),r(t,"afterInit",y),r(t,"afterRender",w),r(t,"afterSetAxisTranslation",L),r(t,"afterSetOptions",B),r(t,"afterSetOptions",O),r(t,"afterSetScale",M),r(t,"afterTickSize",S),r(t,"trimTicks",z),r(t,"destroy",A)),s.pushUnique(p,i)&&r(i,"afterSetChartSize",T),s.pushUnique(p,e)&&(r(e,"afterGetLabelPosition",E),r(e,"labelFormat",W)),t}}}),i(t,"masters/modules/grid-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/GridAxis.js"]],function(t,i){i.compose(t.Axis,t.Chart,t.Tick)})});