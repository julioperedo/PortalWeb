!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/dependency-wheel",["highcharts","highcharts/modules/sankey"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,n,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Series/DependencyWheel/DependencyWheelPoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),e=e.seriesTypes.sankey.prototype.pointClass,s=t.pInt,c=t.wrap;return r(i,n=e),i.prototype.getDataLabelPath=function(e){var t=this,n=t.series.chart.renderer,o=t.shapeArgs,r=t.angle<0||t.angle>Math.PI,i=o.start||0,a=o.end||0;return t.dataLabelPath?(t.dataLabelPath=t.dataLabelPath.destroy(),delete t.dataLabelPath):c(e,"destroy",function(e){return t.dataLabelPath&&(t.dataLabelPath=t.dataLabelPath.destroy()),e.call(this)}),t.dataLabelPath=n.arc({open:!0,longArc:Math.abs(Math.abs(i)-Math.abs(a))<Math.PI?0:1}).attr({x:o.x,y:o.y,r:(o.r||0)+s((null==(o=e.options)?void 0:o.distance)||0),start:r?i:a,end:r?a:i,clockwise:+r}).add(n.defs),t.dataLabelPath},i.prototype.isValid=function(){return!0},i;function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.angle=void 0,e.fromNode=void 0,e.index=void 0,e.linksFrom=void 0,e.linksTo=void 0,e.options=void 0,e.series=void 0,e.shapeArgs=void 0,e.toNode=void 0,e}}),t(e,"Series/DependencyWheel/DependencyWheelSeriesDefaults.js",[],function(){return{center:[null,null],curveFactor:.6,startAngle:0,dataLabels:{textPath:{enabled:!1,attributes:{dy:5}}}}}),t(e,"Series/DependencyWheel/DependencyWheelSeries.js",[e["Core/Animation/AnimationUtilities.js"],e["Series/DependencyWheel/DependencyWheelPoint.js"],e["Series/DependencyWheel/DependencyWheelSeriesDefaults.js"],e["Core/Globals.js"],e["Series/Sankey/SankeyColumnComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,n,o,r,i,a){var s,c,p=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=e.animObject,y=o.deg2rad,e=i.seriesTypes,o=e.pie,e=e.sankey,l=a.extend,a=a.merge,p=(p(h,c=e),h.prototype.animate=function(e){if(!e){for(var n=d(this.options.animation).duration/2/this.nodes.length,o=0,t=0,r=this.nodes;t<r.length;t++)!function(e){var t=e.graphic;t&&(t.attr({opacity:0}),setTimeout(function(){e.graphic&&e.graphic.animate({opacity:1},{duration:n})},n*o++))}(s=r[t]);for(var i=0,a=this.points;i<a.length;i++){var s,c=(s=a[i]).graphic;!s.isNode&&c&&c.attr({opacity:0}).animate({opacity:1},this.options.animation)}}},h.prototype.createNode=function(e){var a=c.prototype.createNode.call(this,e);return a.getSum=function(){return a.linksFrom.concat(a.linksTo).reduce(function(e,t){return e+t.weight},0)},a.offset=function(e){function n(e){return e.fromNode===a?e.toNode:e.fromNode}var t,o=0,r=a.linksFrom.concat(a.linksTo);r.sort(function(e,t){return n(e).index-n(t).index});for(var i=0;i<r.length;i++)if(n(r[i]).index>a.index){r=r.slice(0,i).reverse().concat(r.slice(i).reverse()),t=!0;break}t||r.reverse();for(i=0;i<r.length;i++){if(r[i]===e)return o;o+=r[i].weight}},a},h.prototype.createNodeColumns=function(){for(var e=[r.compose([],this)],t=0,n=this.nodes;t<n.length;t++){var o=n[t];e[o.column=0].push(o)}return e},h.prototype.getNodePadding=function(){return this.options.nodePadding/Math.PI},h.prototype.translate=function(){var d=this.options,l=2*Math.PI/(this.chart.plotHeight+this.getNodePadding()),a=this.getCenter(),h=(d.startAngle-90)*y,e=d.borderRadius,u="object"==typeof e?e.radius:e;c.prototype.translate.call(this);for(var t=0,n=this.nodeColumns[0];t<n.length;t++)!function(e){if(e.sum){var t=e.shapeArgs,s=a[0],c=a[1],n=a[2]/2,p=n-d.nodeWidth,o=h+l*(t.y||0),t=h+l*((t.y||0)+(t.height||0));e.angle=o+(t-o)/2,e.shapeType="arc",e.shapeArgs={x:s,y:c,r:n,innerR:p,start:o,end:t,borderRadius:u},e.dlBox={x:s+Math.cos((o+t)/2)*(n+p)/2,y:c+Math.sin((o+t)/2)*(n+p)/2,width:1,height:1};for(var r=0,i=e.linksFrom;r<i.length;r++)!function(r){var i,a,e;r.linkBase&&(e=r.linkBase.map(function(e,t){var e=l*e,n=Math.cos(h+e)*(1+p),o=Math.sin(h+e)*(1+p);return i=d.curveFactor||0,(a=Math.abs(r.linkBase[3-t]*l-e))>Math.PI&&(a=2*Math.PI-a),(a*=p)<p&&(i*=a/p),{x:s+n,y:c+o,cpX:s+(1-i)*n,cpY:c+(1-i)*o}}),r.shapeArgs={d:[["M",e[0].x,e[0].y],["A",p,p,0,0,1,e[1].x,e[1].y],["C",e[1].cpX,e[1].cpY,e[2].cpX,e[2].cpY,e[2].x,e[2].y],["A",p,p,0,0,1,e[3].x,e[3].y],["C",e[3].cpX,e[3].cpY,e[0].cpX,e[0].cpY,e[0].x,e[0].y]]})}(i[r])}}(n[t])},h.defaultOptions=a(e.defaultOptions,n),h);function h(){var e=null!==c&&c.apply(this,arguments)||this;return e.data=void 0,e.options=void 0,e.nodeColumns=void 0,e.nodes=void 0,e.points=void 0,e}return l(p.prototype,{orderNodes:!1,getCenter:o.prototype.getCenter}),p.prototype.pointClass=t,i.registerSeriesType("dependencywheel",p),p}),t(e,"masters/modules/dependency-wheel.src.js",[],function(){})});