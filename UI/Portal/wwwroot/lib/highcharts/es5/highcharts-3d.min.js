!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Core/Math3D.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){var d=t.deg2rad,x=e.pick;function s(t,e,i,s){var r=e.options.chart.options3d,o=x(s,!!i&&e.inverted),a={x:e.plotWidth/2,y:e.plotHeight/2,z:r.depth/2,vd:x(r.depth,1)*x(r.viewDistance,0)},n=e.scale3d||1,s=d*r.beta*(o?-1:1),r=d*r.alpha*(o?-1:1),h=Math.cos(r),l=Math.cos(-s),p=Math.sin(r),c=Math.sin(-s);return i||(a.x+=e.plotLeft,a.y+=e.plotTop),t.map(function(t){e=(o?t.y:t.x)-a.x,i=(o?t.x:t.y)-a.y,t=(t.z||0)-a.z;var e={x:l*e-c*t,y:-p*c*e+h*i-l*p*t,z:h*c*e+p*i+h*l*t},i=y(e,a,a.vd);return i.x=i.x*n+a.x,i.y=i.y*n+a.y,i.z=e.z*n+a.z,{x:o?i.y:i.x,y:o?i.x:i.y,z:i.z}})}function y(t,e,i){e=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1;return{x:t.x*e,y:t.y*e}}function r(t){for(var e,i=0,s=0;s<t.length;s++)e=(s+1)%t.length,i+=t[s].x*t[e].y-t[e].x*t[s].y;return i/2}return{perspective:s,perspective3D:y,pointCameraDistance:function(t,e){var i=e.options.chart.options3d,s=e.plotWidth/2,e=e.plotHeight/2,i=x(i.depth,1)*x(i.viewDistance,0)+i.depth;return Math.sqrt(Math.pow(s-x(t.plotX,t.x),2)+Math.pow(e-x(t.plotY,t.y),2)+Math.pow(i-x(t.plotZ,t.z),2))},shapeArea:r,shapeArea3D:function(t,e,i){return r(s(t,e,i))}}}),e(t,"Core/Chart/Chart3D.js",[t["Core/Color/Color.js"],t["Core/Defaults.js"],t["Core/Math3D.js"],t["Core/Utilities.js"]],function(t,e,i,s){var r,y=t.parse,o=e.defaultOptions,v=i.perspective,m=i.shapeArea3D,a=s.addEvent,n=s.isArray,h=s.merge,M=s.pick,l=s.wrap,p=r=r||{};function c(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}function d(){var t,e,i,s,r,o,a,n,h,l,p,c,d,x;this.chart3d&&this.is3d()&&(t=this.renderer,a=this.options.chart.options3d,e=this.chart3d.get3dFrame(),i=this.plotLeft,s=this.plotLeft+this.plotWidth,r=this.plotTop,o=this.plotTop+this.plotHeight,a=a.depth,n=i-(e.left.visible?e.left.size:0),h=s+(e.right.visible?e.right.size:0),l=r-(e.top.visible?e.top.size:0),p=o+(e.bottom.visible?e.bottom.size:0),c=0-(e.front.visible?e.front.size:0),d=a+(e.back.visible?e.back.size:0),x=this.hasRendered?"animate":"attr",this.chart3d.frame3d=e,this.frameShapes||(this.frameShapes={bottom:t.polyhedron().add(),top:t.polyhedron().add(),left:t.polyhedron().add(),right:t.polyhedron().add(),back:t.polyhedron().add(),front:t.polyhedron().add()}),this.frameShapes.bottom[x]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:e.bottom.frontFacing?-1e3:1e3,faces:[{fill:y(e.bottom.color).brighten(.1).get(),vertexes:[{x:n,y:p,z:c},{x:h,y:p,z:c},{x:h,y:p,z:d},{x:n,y:p,z:d}],enabled:e.bottom.visible},{fill:y(e.bottom.color).brighten(.1).get(),vertexes:[{x:i,y:o,z:a},{x:s,y:o,z:a},{x:s,y:o,z:0},{x:i,y:o,z:0}],enabled:e.bottom.visible},{fill:y(e.bottom.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:c},{x:n,y:p,z:d},{x:i,y:o,z:a},{x:i,y:o,z:0}],enabled:e.bottom.visible&&!e.left.visible},{fill:y(e.bottom.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:p,z:c},{x:s,y:o,z:0},{x:s,y:o,z:a}],enabled:e.bottom.visible&&!e.right.visible},{fill:y(e.bottom.color).get(),vertexes:[{x:h,y:p,z:c},{x:n,y:p,z:c},{x:i,y:o,z:0},{x:s,y:o,z:0}],enabled:e.bottom.visible&&!e.front.visible},{fill:y(e.bottom.color).get(),vertexes:[{x:n,y:p,z:d},{x:h,y:p,z:d},{x:s,y:o,z:a},{x:i,y:o,z:a}],enabled:e.bottom.visible&&!e.back.visible}]}),this.frameShapes.top[x]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:e.top.frontFacing?-1e3:1e3,faces:[{fill:y(e.top.color).brighten(.1).get(),vertexes:[{x:n,y:l,z:d},{x:h,y:l,z:d},{x:h,y:l,z:c},{x:n,y:l,z:c}],enabled:e.top.visible},{fill:y(e.top.color).brighten(.1).get(),vertexes:[{x:i,y:r,z:0},{x:s,y:r,z:0},{x:s,y:r,z:a},{x:i,y:r,z:a}],enabled:e.top.visible},{fill:y(e.top.color).brighten(-.1).get(),vertexes:[{x:n,y:l,z:d},{x:n,y:l,z:c},{x:i,y:r,z:0},{x:i,y:r,z:a}],enabled:e.top.visible&&!e.left.visible},{fill:y(e.top.color).brighten(-.1).get(),vertexes:[{x:h,y:l,z:c},{x:h,y:l,z:d},{x:s,y:r,z:a},{x:s,y:r,z:0}],enabled:e.top.visible&&!e.right.visible},{fill:y(e.top.color).get(),vertexes:[{x:n,y:l,z:c},{x:h,y:l,z:c},{x:s,y:r,z:0},{x:i,y:r,z:0}],enabled:e.top.visible&&!e.front.visible},{fill:y(e.top.color).get(),vertexes:[{x:h,y:l,z:d},{x:n,y:l,z:d},{x:i,y:r,z:a},{x:s,y:r,z:a}],enabled:e.top.visible&&!e.back.visible}]}),this.frameShapes.left[x]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:e.left.frontFacing?-1e3:1e3,faces:[{fill:y(e.left.color).brighten(.1).get(),vertexes:[{x:n,y:p,z:c},{x:i,y:o,z:0},{x:i,y:o,z:a},{x:n,y:p,z:d}],enabled:e.left.visible&&!e.bottom.visible},{fill:y(e.left.color).brighten(.1).get(),vertexes:[{x:n,y:l,z:d},{x:i,y:r,z:a},{x:i,y:r,z:0},{x:n,y:l,z:c}],enabled:e.left.visible&&!e.top.visible},{fill:y(e.left.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:d},{x:n,y:l,z:d},{x:n,y:l,z:c},{x:n,y:p,z:c}],enabled:e.left.visible},{fill:y(e.left.color).brighten(-.1).get(),vertexes:[{x:i,y:r,z:a},{x:i,y:o,z:a},{x:i,y:o,z:0},{x:i,y:r,z:0}],enabled:e.left.visible},{fill:y(e.left.color).get(),vertexes:[{x:n,y:p,z:c},{x:n,y:l,z:c},{x:i,y:r,z:0},{x:i,y:o,z:0}],enabled:e.left.visible&&!e.front.visible},{fill:y(e.left.color).get(),vertexes:[{x:n,y:l,z:d},{x:n,y:p,z:d},{x:i,y:o,z:a},{x:i,y:r,z:a}],enabled:e.left.visible&&!e.back.visible}]}),this.frameShapes.right[x]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:e.right.frontFacing?-1e3:1e3,faces:[{fill:y(e.right.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:s,y:o,z:a},{x:s,y:o,z:0},{x:h,y:p,z:c}],enabled:e.right.visible&&!e.bottom.visible},{fill:y(e.right.color).brighten(.1).get(),vertexes:[{x:h,y:l,z:c},{x:s,y:r,z:0},{x:s,y:r,z:a},{x:h,y:l,z:d}],enabled:e.right.visible&&!e.top.visible},{fill:y(e.right.color).brighten(-.1).get(),vertexes:[{x:s,y:r,z:0},{x:s,y:o,z:0},{x:s,y:o,z:a},{x:s,y:r,z:a}],enabled:e.right.visible},{fill:y(e.right.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:c},{x:h,y:l,z:c},{x:h,y:l,z:d},{x:h,y:p,z:d}],enabled:e.right.visible},{fill:y(e.right.color).get(),vertexes:[{x:h,y:l,z:c},{x:h,y:p,z:c},{x:s,y:o,z:0},{x:s,y:r,z:0}],enabled:e.right.visible&&!e.front.visible},{fill:y(e.right.color).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:l,z:d},{x:s,y:r,z:a},{x:s,y:o,z:a}],enabled:e.right.visible&&!e.back.visible}]}),this.frameShapes.back[x]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:e.back.frontFacing?-1e3:1e3,faces:[{fill:y(e.back.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:n,y:p,z:d},{x:i,y:o,z:a},{x:s,y:o,z:a}],enabled:e.back.visible&&!e.bottom.visible},{fill:y(e.back.color).brighten(.1).get(),vertexes:[{x:n,y:l,z:d},{x:h,y:l,z:d},{x:s,y:r,z:a},{x:i,y:r,z:a}],enabled:e.back.visible&&!e.top.visible},{fill:y(e.back.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:d},{x:n,y:l,z:d},{x:i,y:r,z:a},{x:i,y:o,z:a}],enabled:e.back.visible&&!e.left.visible},{fill:y(e.back.color).brighten(-.1).get(),vertexes:[{x:h,y:l,z:d},{x:h,y:p,z:d},{x:s,y:o,z:a},{x:s,y:r,z:a}],enabled:e.back.visible&&!e.right.visible},{fill:y(e.back.color).get(),vertexes:[{x:i,y:r,z:a},{x:s,y:r,z:a},{x:s,y:o,z:a},{x:i,y:o,z:a}],enabled:e.back.visible},{fill:y(e.back.color).get(),vertexes:[{x:n,y:p,z:d},{x:h,y:p,z:d},{x:h,y:l,z:d},{x:n,y:l,z:d}],enabled:e.back.visible}]}),this.frameShapes.front[x]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:e.front.frontFacing?-1e3:1e3,faces:[{fill:y(e.front.color).brighten(.1).get(),vertexes:[{x:n,y:p,z:c},{x:h,y:p,z:c},{x:s,y:o,z:0},{x:i,y:o,z:0}],enabled:e.front.visible&&!e.bottom.visible},{fill:y(e.front.color).brighten(.1).get(),vertexes:[{x:h,y:l,z:c},{x:n,y:l,z:c},{x:i,y:r,z:0},{x:s,y:r,z:0}],enabled:e.front.visible&&!e.top.visible},{fill:y(e.front.color).brighten(-.1).get(),vertexes:[{x:n,y:l,z:c},{x:n,y:p,z:c},{x:i,y:o,z:0},{x:i,y:r,z:0}],enabled:e.front.visible&&!e.left.visible},{fill:y(e.front.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:c},{x:h,y:l,z:c},{x:s,y:r,z:0},{x:s,y:o,z:0}],enabled:e.front.visible&&!e.right.visible},{fill:y(e.front.color).get(),vertexes:[{x:s,y:r,z:0},{x:i,y:r,z:0},{x:i,y:o,z:0},{x:s,y:o,z:0}],enabled:e.front.visible},{fill:y(e.front.color).get(),vertexes:[{x:h,y:p,z:c},{x:n,y:p,z:c},{x:n,y:l,z:c},{x:h,y:l,z:c}],enabled:e.front.visible}]}))}function x(){this.styledMode&&[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(t){this.renderer.definition({tagName:"filter",attributes:{id:"highcharts-"+t.name},children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncG",attributes:{type:"linear",slope:t.slope}},{tagName:"feFuncB",attributes:{type:"linear",slope:t.slope}}]}]})},this)}function f(){var e=this.options;this.is3d()&&(e.series||[]).forEach(function(t){"scatter"===(t.type||e.chart.type||e.chart.defaultSeriesType)&&(t.type="scatter3d")})}function u(){var t,e,i,s=this.options.chart.options3d;this.chart3d&&this.is3d()&&(s&&(s.alpha=s.alpha%360+(0<=s.alpha?0:360),s.beta=s.beta%360+(0<=s.beta?0:360)),t=this.inverted,e=this.clipBox,i=this.margin,e[t?"y":"x"]=-(i[3]||0),e[t?"x":"y"]=-(i[0]||0),e[t?"height":"width"]=this.chartWidth+(i[3]||0)+(i[1]||0),e[t?"width":"height"]=this.chartHeight+(i[0]||0)+(i[2]||0),this.scale3d=1,!0===s.fitToPlot&&(this.scale3d=this.chart3d.getScale(s.depth)),this.chart3d.frame3d=this.chart3d.get3dFrame())}function z(){this.is3d()&&(this.isDirtyBox=!0)}function b(){this.chart3d&&this.is3d()&&(this.chart3d.frame3d=this.chart3d.get3dFrame())}function g(){this.chart3d||(this.chart3d=new C(this))}function P(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}function S(t){var e,i=this.series.length;if(this.is3d())for(;i--;)(e=this.series[i]).translate(),e.render();else t.call(this)}function A(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}p.defaultOptions={chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}},p.compose=function(t,e){var i=t.prototype,e=e.prototype;i.is3d=function(){return!(!this.options.chart.options3d||!this.options.chart.options3d.enabled)},i.propsRequireDirtyBox.push("chart.options3d"),i.propsRequireUpdateSeries.push("chart.options3d"),e.matrixSetter=function(){if(this.pos<1&&(n(this.start)||n(this.end)))for(var t=this.start||[1,0,0,1,0,0],e=this.end||[1,0,0,1,0,0],i=[],s=0;s<6;s++)i.push(this.pos*e[s]+(1-this.pos)*t[s]);else i=this.end;this.elem.attr(this.prop,i,null,!0)},h(!0,o,p.defaultOptions),a(t,"init",g),a(t,"addSeries",c),a(t,"afterDrawChartBox",d),a(t,"afterGetContainer",x),a(t,"afterInit",f),a(t,"afterSetChartSize",u),a(t,"beforeRedraw",z),a(t,"beforeRender",b),l(i,"isInsidePlot",P),l(i,"renderSeries",S),l(i,"setClassName",A)},D.prototype.get3dFrame=function(){function t(t){return.5<(t=m(t,a))?1:t<-.5?-1:0}function e(t,e,i){for(var s=["size","color","visible"],r={},o=0;o<s.length;o++)for(var a=s[o],n=0;n<t.length;n++)if("object"==typeof t[n]){var h=t[n][a];if(null!=h){r[a]=h;break}}return!0===r.visible||!1===r.visible?i=r.visible:"auto"===r.visible&&(i=0<e),{size:M(r.size,1),color:M(r.color,"none"),frontFacing:0<e,visible:i}}var a=this.chart,i=a.options.chart.options3d,s=i.frame,r=a.plotLeft,o=a.plotLeft+a.plotWidth,n=a.plotTop,h=a.plotTop+a.plotHeight,l=i.depth,p=t([{x:r,y:h,z:l},{x:o,y:h,z:l},{x:o,y:h,z:0},{x:r,y:h,z:0}]),c=t([{x:r,y:n,z:0},{x:o,y:n,z:0},{x:o,y:n,z:l},{x:r,y:n,z:l}]),d=t([{x:r,y:n,z:0},{x:r,y:n,z:l},{x:r,y:h,z:l},{x:r,y:h,z:0}]),x=t([{x:o,y:n,z:l},{x:o,y:n,z:0},{x:o,y:h,z:0},{x:o,y:h,z:l}]),y=t([{x:r,y:h,z:0},{x:o,y:h,z:0},{x:o,y:n,z:0},{x:r,y:n,z:0}]),f=t([{x:r,y:n,z:l},{x:o,y:n,z:l},{x:o,y:h,z:l},{x:r,y:h,z:l}]),u=!1,z=!1,b=!1,g=!1,p=([].concat(a.xAxis,a.yAxis,a.zAxis).forEach(function(t){t&&(t.horiz?t.opposite?z=!0:u=!0:t.opposite?g=!0:b=!0)}),{axes:{},bottom:e([s.bottom,s.top,s],p,u),top:e([s.top,s.bottom,s],c,z),left:e([s.left,s.right,s.side,s],d,b),right:e([s.right,s.left,s.side,s],x,g),back:e([s.back,s.front,s],f,!0),front:e([s.front,s.back,s],y,!1)});return"auto"===i.axisLabelPosition?(c=[],(d=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing})(p.left,p.front)&&c.push({y:(n+h)/2,x:r,z:0,xDir:{x:1,y:0,z:0}}),d(p.left,p.back)&&c.push({y:(n+h)/2,x:r,z:l,xDir:{x:0,y:0,z:-1}}),d(p.right,p.front)&&c.push({y:(n+h)/2,x:o,z:0,xDir:{x:0,y:0,z:1}}),d(p.right,p.back)&&c.push({y:(n+h)/2,x:o,z:l,xDir:{x:-1,y:0,z:0}}),x=[],d(p.bottom,p.front)&&x.push({x:(r+o)/2,y:h,z:0,xDir:{x:1,y:0,z:0}}),d(p.bottom,p.back)&&x.push({x:(r+o)/2,y:h,z:l,xDir:{x:-1,y:0,z:0}}),f=[],d(p.top,p.front)&&f.push({x:(r+o)/2,y:n,z:0,xDir:{x:1,y:0,z:0}}),d(p.top,p.back)&&f.push({x:(r+o)/2,y:n,z:l,xDir:{x:-1,y:0,z:0}}),s=[],d(p.bottom,p.left)&&s.push({z:(0+l)/2,y:h,x:r,xDir:{x:0,y:0,z:-1}}),d(p.bottom,p.right)&&s.push({z:(0+l)/2,y:h,x:o,xDir:{x:0,y:0,z:1}}),y=[],d(p.top,p.left)&&y.push({z:(0+l)/2,y:n,x:r,xDir:{x:0,y:0,z:-1}}),d(p.top,p.right)&&y.push({z:(0+l)/2,y:n,x:o,xDir:{x:0,y:0,z:1}}),p.axes={y:{left:(i=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];for(var s=v(t,a,!1),r=0,o=1;o<s.length;o++)(i*s[o][e]>i*s[r][e]||i*s[o][e]==i*s[r][e]&&s[o].z<s[r].z)&&(r=o);return t[r]})(c,"x",-1),right:i(c,"x",1)},x:{top:i(f,"y",-1),bottom:i(x,"y",1)},z:{top:i(y,"y",-1),bottom:i(s,"y",1)}}):p.axes={y:{left:{x:r,z:0,xDir:{x:1,y:0,z:0}},right:{x:o,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:n,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:h,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:b?o:r,y:n,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:b?o:r,y:h,xDir:b?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}},p},D.prototype.getScale=function(t){var e=this.chart,i=e.plotLeft,s=e.plotWidth+i,r=e.plotTop,o=e.plotHeight+r,a=i+e.plotWidth/2,n=r+e.plotHeight/2,h={minX:Number.MAX_VALUE,maxX:-Number.MAX_VALUE,minY:Number.MAX_VALUE,maxY:-Number.MAX_VALUE},l=1,p=[{x:i,y:r,z:0},{x:i,y:r,z:t}];return[0,1].forEach(function(t){p.push({x:s,y:p[t].y,z:p[t].z})}),[0,1,2,3].forEach(function(t){p.push({x:p[t].x,y:o,z:p[t].z})}),(p=v(p,e,!1)).forEach(function(t){h.minX=Math.min(h.minX,t.x),h.maxX=Math.max(h.maxX,t.x),h.minY=Math.min(h.minY,t.y),h.maxY=Math.max(h.maxY,t.y)}),i>h.minX&&(l=Math.min(l,1-Math.abs((i+a)/(h.minX+a))%1)),s<h.maxX&&(l=Math.min(l,(s-a)/(h.maxX-a))),r>h.minY&&(l=h.minY<0?Math.min(l,(r+n)/(-h.minY+r+n)):Math.min(l,1-(r+n)/(h.minY+n)%1)),l=o<h.maxY?Math.min(l,Math.abs((o-n)/(h.maxY-n))):l};var C=D;function D(t){this.frame3d=void 0,this.chart=t}return p.Additions=C,r}),e(t,"Series/Area3D/Area3DSeries.js",[t["Core/Math3D.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var n=t.perspective,h=e.seriesTypes.line.prototype,s=i.wrap,r=[];function o(t){t=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return t;var e=h.getGraphPath,i=this.options,s=Math.round(this.yAxis.getThreshold(i.threshold)),r=[];if(this.rawPointsX)for(var o=0;o<this.points.length;o++)r.push({x:this.rawPointsX[o],y:i.stacking?this.points[o].yBottom:s,z:this.zPadding});var a=this.chart.options.chart.options3d,r=n(r,this.chart,!0).map(function(t){return{plotX:t.x,plotY:t.y,plotZ:t.z}}),a=(this.group&&a&&a.depth&&a.beta&&(this.markerGroup&&(this.markerGroup.add(this.group),this.markerGroup.attr({translateX:0,translateY:0})),this.group.attr({zIndex:Math.max(1,270<a.beta||a.beta<90?a.depth-Math.round(this.zPadding||0):Math.round(this.zPadding||0))})),r.reversed=!0,e.call(this,r,!0,!0));return a[0]&&"M"===a[0][0]&&(a[0]=["L",a[0][1],a[0][2]]),this.areaPath&&((e=this.areaPath.splice(0,this.areaPath.length/2).concat(a)).xMap=this.areaPath.xMap,this.areaPath=e),t}return{compose:function(t){i.pushUnique(r,t)&&s(t.prototype,"getGraphPath",o)}}}),e(t,"Core/Axis/Axis3DDefaults.js",[],function(){return{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}}),e(t,"Core/Axis/Tick3DComposition.js",[t["Core/Utilities.js"]],function(e){var i=e.addEvent,s=e.extend,r=e.wrap,o=[];function a(t){var e=this.axis.axis3D;e&&s(t.pos,e.fix3dPosition(t.pos))}function n(t){var e=this.axis.axis3D,t=t.apply(this,[].slice.call(arguments,1));if(e){var i=t[0],s=t[1];if("M"===i[0]&&"L"===s[0])return i=[e.fix3dPosition({x:i[1],y:i[2],z:0}),e.fix3dPosition({x:s[1],y:s[2],z:0})],this.axis.chart.renderer.toLineSegments(i)}return t}return{compose:function(t){e.pushUnique(o,t)&&(i(t,"afterGetLabelPosition",a),r(t.prototype,"getMarkPath",n))}}}),e(t,"Core/Axis/Axis3DComposition.js",[t["Core/Axis/Axis3DDefaults.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Axis/Tick3DComposition.js"],t["Core/Utilities.js"]],function(i,t,e,s,r){var u=t.deg2rad,z=e.perspective,c=e.perspective3D,b=e.shapeArea,o=r.addEvent,a=r.merge,g=r.pick,n=r.wrap,h=[];function l(){var t=this.chart,e=this.options;t.is3d&&t.is3d()&&"colorAxis"!==this.coll&&(e.tickWidth=g(e.tickWidth,0),e.gridLineWidth=g(e.gridLineWidth,1))}function p(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}function d(){this.axis3D||(this.axis3D=new M(this))}function x(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}function y(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var t=arguments,e=t[2],i=[],s=this.getPlotLinePath({value:t[1]}),r=this.getPlotLinePath({value:e});if(s&&r)for(var o=0;o<s.length;o+=2){var a=s[o],n=s[o+1],h=r[o],l=r[o+1];"M"===a[0]&&"L"===n[0]&&"M"===h[0]&&"L"===l[0]&&i.push(a,n,l,["L",h[1],h[2]],["Z"])}return i}function f(t){var e=this.axis3D,i=this.chart,t=t.apply(this,[].slice.call(arguments,1));if("colorAxis"===this.coll||!i.chart3d||!i.is3d()||null===t)return t;var s=i.options.chart.options3d,s=this.isZAxis?i.plotWidth:s.depth,r=i.chart3d.frame3d,o=t[0],t=t[1],a=[];return"M"===o[0]&&"L"===t[0]&&(o=[e.swapZ({x:o[1],y:o[2],z:0}),e.swapZ({x:o[1],y:o[2],z:s}),e.swapZ({x:t[1],y:t[2],z:0}),e.swapZ({x:t[1],y:t[2],z:s})],this.horiz?(this.isZAxis?(r.left.visible&&a.push(o[0],o[2]),r.right.visible&&a.push(o[1],o[3])):(r.front.visible&&a.push(o[0],o[2]),r.back.visible&&a.push(o[1],o[3])),r.top.visible&&a.push(o[0],o[1]),r.bottom.visible&&a.push(o[2],o[3])):(r.front.visible&&a.push(o[0],o[2]),r.back.visible&&a.push(o[1],o[3]),r.left.visible&&a.push(o[0],o[1]),r.right.visible&&a.push(o[2],o[3])),a=z(a,this.chart,!1)),i.renderer.toLineSegments(a)}function v(t,e){var i,s,r,o,a,n,h=this.chart,l=this.ticks,p=this.gridGroup;return this.categories&&h.frameShapes&&h.is3d()&&p&&e&&e.label?(p=p.element.childNodes[0].getBBox(),i=h.frameShapes.left.getBBox(),s=h.options.chart.options3d,h={x:h.plotWidth/2,y:h.plotHeight/2,z:s.depth/2,vd:g(s.depth,1)*g(s.viewDistance,0)},r=l[(s=e.pos)-1],l=l[s+1],n=a=o=void 0,0!==s&&r&&r.label&&r.label.xy&&(a=c({x:r.label.xy.x,y:r.label.xy.y,z:null},h,h.vd)),l&&l.label&&l.label.xy&&(n=c({x:l.label.xy.x,y:l.label.xy.y,z:null},h,h.vd)),o=c(o={x:e.label.xy.x,y:e.label.xy.y,z:null},h,h.vd),Math.abs(a?o.x-a.x:n?n.x-o.x:p.x-i.x)):t.apply(this,[].slice.call(arguments,1))}function m(t){t=t.apply(this,[].slice.call(arguments,1));return this.axis3D?this.axis3D.fix3dPosition(t,!0):t}P.compose=function(t,e){s.compose(e),r.pushUnique(h,t)&&(a(!0,t.defaultOptions,i),t.keepProps.push("axis3D"),o(t,"init",d),o(t,"afterSetOptions",l),o(t,"drawCrosshair",p),e=t.prototype,n(e,"getLinePath",x),n(e,"getPlotBandPath",y),n(e,"getPlotLinePath",f),n(e,"getSlotWidth",v),n(e,"getTitlePosition",m))},P.prototype.fix3dPosition=function(t,e){var i=this.axis,s=i.chart;if("colorAxis"===i.coll||!s.chart3d||!s.is3d())return t;var r,o=u*s.options.chart.options3d.alpha,a=u*s.options.chart.options3d.beta,n=g(e&&i.options.title.position3d,i.options.labels.position3d),e=g(e&&i.options.title.skew3d,i.options.labels.skew3d),h=s.chart3d.frame3d,l=s.plotLeft,p=s.plotWidth+l,c=s.plotTop,s=s.plotHeight+c,d=0,x=0,y={x:0,y:1,z:0},f=!1;if(t=i.axis3D.swapZ({x:t.x,y:t.y,z:0}),i.isZAxis)if(i.opposite){if(null===h.axes.z.top)return{};x=t.y-c,t.x=h.axes.z.top.x,t.y=h.axes.z.top.y,r=h.axes.z.top.xDir,f=!h.top.frontFacing}else{if(null===h.axes.z.bottom)return{};x=t.y-s,t.x=h.axes.z.bottom.x,t.y=h.axes.z.bottom.y,r=h.axes.z.bottom.xDir,f=!h.bottom.frontFacing}else if(i.horiz)if(i.opposite){if(null===h.axes.x.top)return{};x=t.y-c,t.y=h.axes.x.top.y,t.z=h.axes.x.top.z,r=h.axes.x.top.xDir,f=!h.top.frontFacing}else{if(null===h.axes.x.bottom)return{};x=t.y-s,t.y=h.axes.x.bottom.y,t.z=h.axes.x.bottom.z,r=h.axes.x.bottom.xDir,f=!h.bottom.frontFacing}else if(i.opposite){if(null===h.axes.y.right)return{};d=t.x-p,t.x=h.axes.y.right.x,t.z=h.axes.y.right.z,r={x:(r=h.axes.y.right.xDir).z,y:r.y,z:-r.x}}else{if(null===h.axes.y.left)return{};d=t.x-l,t.x=h.axes.y.left.x,t.z=h.axes.y.left.z,r=h.axes.y.left.xDir}"chart"!==n&&("flap"===n?i.horiz?(c=Math.sin(o),i.opposite&&(c=-c),y={x:r.z*(c=f?-c:c),y:Math.cos(o),z:-r.x*c}):r={x:Math.cos(a),y:0,z:Math.sin(a)}:"ortho"===n?i.horiz?(s=Math.cos(o),p=Math.sin(a)*s,l=-Math.sin(o),h=-s*Math.cos(a),c=1/Math.sqrt((y={x:r.y*h-r.z*l,y:r.z*p-r.x*h,z:r.x*l-r.y*p}).x*y.x+y.y*y.y+y.z*y.z),y={x:(c=f?-c:c)*y.x,y:c*y.y,z:c*y.z}):r={x:Math.cos(a),y:0,z:Math.sin(a)}:i.horiz?y={x:Math.sin(a)*Math.sin(o),y:Math.cos(o),z:-Math.cos(a)*Math.sin(o)}:r={x:Math.cos(a),y:0,z:Math.sin(a)}),t.x+=d*r.x+x*y.x,t.y+=d*r.y+x*y.y,t.z+=d*r.z+x*y.z;n=z([t],i.chart)[0];return e&&(b(z([t,{x:t.x+r.x,y:t.y+r.y,z:t.z+r.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z}],i.chart))<0&&(r={x:-r.x,y:-r.y,z:-r.z}),s=z([{x:t.x,y:t.y,z:t.z},{x:t.x+r.x,y:t.y+r.y,z:t.z+r.z},{x:t.x+y.x,y:t.y+y.y,z:t.z+y.z}],i.chart),n.matrix=[s[1].x-s[0].x,s[1].y-s[0].y,s[2].x-s[0].x,s[2].y-s[0].y,n.x,n.y],n.matrix[4]-=n.x*n.matrix[0]+n.y*n.matrix[2],n.matrix[5]-=n.x*n.matrix[1]+n.y*n.matrix[3]),n},P.prototype.swapZ=function(t,e){var i=this.axis;return i.isZAxis?{x:(e=e?0:i.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t};var M=P;function P(t){this.axis=t}return M}),e(t,"Core/Series/Series3D.js",[t["Core/Math3D.js"],t["Core/Series/Series.js"],t["Core/Utilities.js"]],function(t,e,i){var s,r,o=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),c=t.perspective,a=i.addEvent,n=i.extend,t=i.merge,d=i.pick,h=i.pushUnique,x=i.isNumber,l=[];return o(p,r=e),p.compose=function(t){h(l,t)&&(a(t,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),n(t.prototype,{translate3dPoints:p.prototype.translate3dPoints}))},p.prototype.translate3dPoints=function(){var t,e,i,s=this.options,r=this.chart,o=d(this.zAxis,r.options.zAxis[0]),a=[],n=[],h=s.stacking?x(s.stack)?s.stack:0:this.index||0,l=0;for(this.zPadding=h*(s.depth||0+(s.groupZPadding||1));l<this.data.length;l++)t=this.data[l],o&&o.translate?(i=o.logarithmic&&o.val2lin?o.val2lin(t.z):t.z,t.plotZ=o.translate(i),t.isInside=!!t.isInside&&i>=o.min&&i<=o.max):t.plotZ=this.zPadding,t.axisXpos=t.plotX,t.axisYpos=t.plotY,t.axisZpos=t.plotZ,a.push({x:t.plotX,y:t.plotY,z:t.plotZ}),n.push(t.plotX||0);this.rawPointsX=n;var p=c(a,r,!0);for(l=0;l<this.data.length;l++)t=this.data[l],e=p[l],t.plotX=e.x,t.plotY=e.y,t.plotZ=e.z},p.defaultOptions=t(e.defaultOptions),p;function p(){return null!==r&&r.apply(this,arguments)||this}}),e(t,"Core/Renderer/SVG/SVGElement3D.js",[t["Core/Color/Color.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var s,o,r=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=t.parse,t=e.getRendererType().prototype.Element,n=i.defined,h=i.pick;return r(l,o=t),l.prototype.initArgs=function(t){for(var e=this.renderer,i=e[this.pathType+"Path"](t),s=i.zIndexes,r=0,o=this.parts;r<o.length;r++){var a=o[r],n={class:"highcharts-3d-"+a,zIndex:s[a]||0};e.styledMode&&("top"===a?n.filter="url(#highcharts-brighter)":"side"===a&&(n.filter="url(#highcharts-darker)")),this[a]=e.path(i[a]).attr(n).add(this)}this.attr({"stroke-linejoin":"round",zIndex:s.group}),this.forcedSides=i.forcedSides},l.prototype.singleSetterForParts=function(t,e,i,s,r,o){var a={},s=[null,null,s||"attr",r,o],n=i&&i.zIndexes;if(i){n&&n.group&&this.attr({zIndex:n.group});for(var h=0,l=Object.keys(i);h<l.length;h++){var p=l[h];a[p]={},a[p][t]=i[p],n&&(a[p].zIndex=i.zIndexes[p]||0)}s[1]=a}else a[t]=e,s[0]=a;return this.processParts.apply(this,s)},l.prototype.processParts=function(t,e,i,s,r){for(var o=0,a=this.parts;o<a.length;o++){var n=a[o];!1!==(t=e?h(e[n],!1):t)&&this[n][i](t,s,r)}return this},l.prototype.destroy=function(){return this.processParts(null,null,"destroy"),o.prototype.destroy.call(this)},l.prototype.attr=function(t,e,i,s){var r;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),t.shapeArgs||n(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):o.prototype.attr.call(this,t,void 0,i,s)},l.prototype.animate=function(t,e,i){var s,r;return n(t.x)&&n(t.y)?(r=(s=this.renderer[this.pathType+"Path"](t)).forcedSides,this.singleSetterForParts("d",null,s,"animate",e,i),this.attr({zIndex:s.zIndexes.group}),r!==this.forcedSides&&(this.forcedSides=r,this.renderer.styledMode||this.fillSetter(this.fill))):o.prototype.animate.call(this,t,e,i),this},l.prototype.fillSetter=function(t){return this.forcedSides=this.forcedSides||[],this.singleSetterForParts("fill",null,{front:t,top:a(t).brighten(0<=this.forcedSides.indexOf("top")?0:.1).get(),side:a(t).brighten(0<=this.forcedSides.indexOf("side")?0:-.1).get()}),this.color=this.fill=t,this},l.types={base:l,cuboid:l},l;function l(){var t=null!==o&&o.apply(this,arguments)||this;return t.parts=["front","top","side"],t.pathType="cuboid",t}}),e(t,"Core/Renderer/SVG/SVGRenderer3D.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Math3D.js"],t["Core/Renderer/SVG/SVGElement3D.js"],t["Core/Utilities.js"]],function(t,e,c,i,s,r){var o,d=t.animObject,a=e.parse,g=c.charts,n=c.deg2rad,v=i.perspective,m=i.shapeArea,h=r.defined,x=r.extend,y=r.merge,f=r.pick,l=r.pushUnique,p=[],M=Math.cos,P=Math.sin,S=Math.PI,u=4*(Math.sqrt(2)-1)/3/(S/2);function A(t,e,i,s,r,o,a,n){var h=o-r,l=[];return r<o&&o-r>Math.PI/2+1e-4?(l=l.concat(A(t,e,i,s,r,r+Math.PI/2,a,n))).concat(A(t,e,i,s,r+Math.PI/2,o,a,n)):o<r&&r-o>Math.PI/2+1e-4?(l=l.concat(A(t,e,i,s,r,r-Math.PI/2,a,n))).concat(A(t,e,i,s,r-Math.PI/2,o,a,n)):[["C",t+i*Math.cos(r)-i*u*h*Math.sin(r)+a,e+s*Math.sin(r)+s*u*h*Math.cos(r)+n,t+i*Math.cos(o)+i*u*h*Math.sin(o)+a,e+s*Math.sin(o)-s*u*h*Math.cos(o)+n,t+i*Math.cos(o)+a,e+s*Math.sin(o)+n]]}return(o||(o={})).compose=function(t){l(p,t)&&x(t.prototype,{Element3D:s,arc3d:_,arc3dPath:O,cuboid:k,cuboidPath:w,element3d:j,face3d:C,polyhedron:D,toLinePath:z,toLineSegments:b})},o;function z(t,e){for(var i=[],s=0;s<t.length;s++){var r=t[s];i.push(["L",r.x,r.y])}return t.length&&(i[0][0]="M",e&&i.push(["Z"])),i}function b(t){for(var e=[],i=!0,s=0;s<t.length;s++){var r=t[s];e.push(i?["M",r.x,r.y]:["L",r.x,r.y]),i=!i}return e}function C(t){var s=this,r=s.Element.prototype,e=s.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(t){var e,i;return"object"==typeof t&&(h(t.enabled)||h(t.vertexes)||h(t.insidePlotArea))&&(this.enabled=f(t.enabled,this.enabled),this.vertexes=f(t.vertexes,this.vertexes),this.insidePlotArea=f(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=g[s.chartIndex],i=v(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=m(i),t.d=e,t.visibility=this.enabled&&0<i?"inherit":"hidden"),r.attr.apply(this,arguments)},e.animate=function(t){var e,i;return"object"==typeof t&&(h(t.enabled)||h(t.vertexes)||h(t.insidePlotArea))&&(this.enabled=f(t.enabled,this.enabled),this.vertexes=f(t.vertexes,this.vertexes),this.insidePlotArea=f(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea,i=g[s.chartIndex],i=v(this.vertexes,i,this.insidePlotArea),e=s.toLinePath(i,!0),i=m(i),i=this.enabled&&0<i?"visible":"hidden",t.d=e,this.attr("visibility",i)),r.animate.apply(this,arguments)},e.attr(t)}function D(t){var o=this,a=o.Element.prototype,n=o.g(),e=n.destroy;return this.styledMode||n.attr({"stroke-linejoin":"round"}),n.faces=[],n.destroy=function(){for(var t=0;t<n.faces.length;t++)n.faces[t].destroy();return e.call(this)},n.attr=function(t,e,i,s){if("object"==typeof t&&h(t.faces)){for(;n.faces.length>t.faces.length;)n.faces.pop().destroy();for(;n.faces.length<t.faces.length;)n.faces.push(o.face3d().add(n));for(var r=0;r<t.faces.length;r++)o.styledMode&&delete t.faces[r].fill,n.faces[r].attr(t.faces[r],null,i,s);delete t.faces}return a.attr.apply(this,arguments)},n.animate=function(t,e,i){if(t&&t.faces){for(;n.faces.length>t.faces.length;)n.faces.pop().destroy();for(;n.faces.length<t.faces.length;)n.faces.push(o.face3d().add(n));for(var s=0;s<t.faces.length;s++)n.faces[s].animate(t.faces[s],e,i);delete t.faces}return a.animate.apply(this,arguments)},n.attr(t)}function j(t,e){t=new s.types[t];return t.init(this,"g"),t.initArgs(e),t}function k(t){return this.element3d("cuboid",t)}function w(t){function e(t,e,i){var s=t.map(y),r=e.map(y),t=t.map(x),e=e.map(x),o=[[],-1];return m(s)<0?o=[s,0]:m(r)<0?o=[r,1]:i&&(p.push(i),o=!(m(t)<0)&&m(e)<0?[r,1]:[s,0]),o}var i=t.x||0,s=t.y||0,r=t.z||0,o=t.height||0,a=t.width||0,n=t.depth||0,h=g[this.chartIndex],l=h.options.chart.options3d.alpha,p=[],c=0,d=v(d=[{x:i,y:s,z:r},{x:i+a,y:s,z:r},{x:i+a,y:s+o,z:r},{x:i,y:s+o,z:r},{x:i,y:s+o,z:r+n},{x:i+a,y:s+o,z:r+n},{x:i+a,y:s,z:r+n},{x:i,y:s,z:r+n}],h,t.insidePlotArea),x=function(t){return 0===o&&1<t&&t<6?{x:d[t].x,y:d[t].y+10,z:d[t].z}:d[0].x===d[7].x&&4<=t?{x:d[t].x+10,y:d[t].y,z:d[t].z}:0===n&&t<2||5<t?{x:d[t].x,y:d[t].y,z:d[t].z+10}:d[t]},y=function(t){return d[t]},t=(a=e([3,2,1,0],[7,6,5,4],"front"))[0],f=a[1],u=(a=e([1,6,7,0],[4,5,2,3],"top"))[0],z=a[1],b=(a=e([1,2,5,6],[0,7,4,3],"side"))[0],a=a[1];return 1===a?c+=1e6*(h.plotWidth-i):a||(c+=1e6*i),c+=10*(!z||0<=l&&l<=180||l<360&&357.5<l?h.plotHeight-s:10+s),1===f?c+=100*r:f||(c+=100*(1e3-r)),{front:this.toLinePath(t,!0),top:this.toLinePath(u,!0),side:this.toLinePath(b,!0),zIndexes:{group:Math.round(c)},forcedSides:p,isFront:f,isTop:z}}function _(t){var h=this.g(),l=this.Element.prototype,r=["x","y","r","innerR","start","end","depth"];function p(t){var e,i={},s=!1;for(e in t=y(t))-1!==r.indexOf(e)&&(i[e]=t[e],delete t[e],s=!0);return!!s&&[i,t]}(t=y(t)).alpha=(t.alpha||0)*n,t.beta=(t.beta||0)*n,h.top=this.path(),h.side1=this.path(),h.side2=this.path(),h.inn=this.path(),h.out=this.path(),h.onAdd=function(){var t=h.parentGroup,e=h.attr("class");h.top.add(h);for(var i=0,s=["out","inn","side1","side2"];i<s.length;i++)h[s[i]].attr({class:e+" highcharts-3d-side"}).add(t)};for(var e=0,i=["addClass","removeClass"];e<i.length;e++)!function(r){h[r]=function(){for(var t=arguments,e=0,i=["top","out","inn","side1","side2"];e<i.length;e++){var s=i[e];h[s][r].apply(h[s],t)}}}(i[e]);h.setPaths=function(t){var e=h.renderer.arc3dPath(t),i=100*e.zTop;h.attribs=t,h.top.attr({d:e.top,zIndex:e.zTop}),h.inn.attr({d:e.inn,zIndex:e.zInn}),h.out.attr({d:e.out,zIndex:e.zOut}),h.side1.attr({d:e.side1,zIndex:e.zSide1}),h.side2.attr({d:e.side2,zIndex:e.zSide2}),h.zIndex=i,h.attr({zIndex:i}),t.center&&(h.top.setRadialReference(t.center),delete t.center)},h.setPaths(t),h.fillSetter=function(t){var e=a(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this};for(var s=0,o=["opacity","translateX","translateY","visibility"];s<o.length;s++)h[o[s]+"Setter"]=function(t,e){h[e]=t;for(var i=0,s=["out","inn","side1","side2","top"];i<s.length;i++)h[s[i]].attr(e,t)};return h.attr=function(t){var e;return"object"==typeof t&&(t=p(t))&&(e=t[0],arguments[0]=t[1],x(h.attribs,e),h.setPaths(h.attribs)),l.attr.apply(h,arguments)},h.animate=function(t,e,i){var s,r,o=this.attribs,a="data-"+Math.random().toString(26).substring(2,9),n=(delete t.center,delete t.z,delete t.alpha,delete t.beta,d(f(e,this.renderer.globalAnimation)));return n.duration&&(s=p(t),h[a]=0,t[a]=1,h[a+"Setter"]=c.noop,s&&(r=s[0],n.step=function(t,e){function i(t){return o[t]+(f(r[t],o[t])-o[t])*e.pos}e.prop===a&&e.elem.setPaths(y(o,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}),e=n),l.animate.call(this,t,e,i)},h.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),l.destroy.call(this)},h.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},h.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},h}function O(t){var e=t.x||0,i=t.y||0,s=t.start||0,r=(t.end||0)-1e-5,o=t.r||0,a=t.innerR||0,n=t.depth||0,h=t.alpha||0,t=t.beta||0,l=Math.cos(s),p=Math.sin(s),c=Math.cos(r),d=Math.sin(r),x=o*Math.cos(t),o=o*Math.cos(h),y=a*Math.cos(t),a=a*Math.cos(h),f=n*Math.sin(t),n=n*Math.sin(h),u=[["M",e+x*l,i+o*p]],t=((u=u.concat(A(e,i,x,o,s,r,0,0))).push(["L",e+y*c,i+a*d]),(u=u.concat(A(e,i,y,a,r,s,0,0))).push(["Z"]),0<t?Math.PI/2:0),h=0<h?0:Math.PI/2,t=!(-t<s)&&-t<r?-t:s,z=!(r<S-h)&&s<S-h?S-h:r,b=2*S-h,g=(g=[["M",e+x*M(t),i+o*P(t)]]).concat(A(e,i,x,o,t,z,0,0)),b=(b<r&&s<b?(g.push(["L",e+x*M(z)+f,i+o*P(z)+n]),(g=g.concat(A(e,i,x,o,z,b,f,n))).push(["L",e+x*M(b),i+o*P(b)]),(g=g.concat(A(e,i,x,o,b,r,0,0))).push(["L",e+x*M(r)+f,i+o*P(r)+n]),(g=g.concat(A(e,i,x,o,r,b,f,n))).push(["L",e+x*M(b),i+o*P(b)]),g=g.concat(A(e,i,x,o,b,z,0,0))):S-h<r&&s<S-h&&(g.push(["L",e+x*Math.cos(z)+f,i+o*Math.sin(z)+n]),(g=g.concat(A(e,i,x,o,z,r,f,n))).push(["L",e+x*Math.cos(r),i+o*Math.sin(r)]),g=g.concat(A(e,i,x,o,r,z,0,0))),g.push(["L",e+x*Math.cos(z)+f,i+o*Math.sin(z)+n]),(g=g.concat(A(e,i,x,o,z,t,f,n))).push(["Z"]),[["M",e+y*l,i+a*p]]),h=((b=b.concat(A(e,i,y,a,s,r,0,0))).push(["L",e+y*Math.cos(r)+f,i+a*Math.sin(r)+n]),(b=b.concat(A(e,i,y,a,r,s,f,n))).push(["Z"]),[["M",e+x*l,i+o*p],["L",e+x*l+f,i+o*p+n],["L",e+y*l+f,i+a*p+n],["L",e+y*l,i+a*p],["Z"]]),z=[["M",e+x*c,i+o*d],["L",e+x*c+f,i+o*d+n],["L",e+y*c+f,i+a*d+n],["L",e+y*c,i+a*d],["Z"]],t=Math.atan2(n,-f),l=Math.abs(r+t),p=Math.abs(s+t),x=Math.abs((s+r)/2+t);function v(t){return t=(t%=2*Math.PI)>Math.PI?2*Math.PI-t:t}l=v(l),p=v(p),o=1e5*v(x),e=1e5*p,y=1e5*l;return{top:u,zTop:1e5*Math.PI+1,out:g,zOut:Math.max(o,e,y),inn:b,zInn:Math.max(o,e,y),side1:h,zSide1:.99*y,side2:z,zSide2:.99*e}}}),e(t,"Core/Axis/ZAxis.js",[t["Core/Axis/Axis.js"],t["Core/Utilities.js"]],function(t,e){var s,i=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=e.addEvent,o=e.merge,a=e.pick,n=e.splat,h=[];function l(t){return new d(this,t)}function p(){var i=this,t=this.options.zAxis=n(this.options.zAxis||{});this.is3d()&&(this.zAxis=[],t.forEach(function(t,e){i.addZAxis(t).setScale()}))}i(x,c=t),x.compose=function(t){e.pushUnique(h,t)&&(r(t,"afterGetAxes",p),(t=t.prototype).addZAxis=l,t.collectionsWithInit.zAxis=[t.addZAxis],t.collectionsWithUpdate.push("zAxis"))},x.prototype.init=function(t,e){this.isZAxis=!0,c.prototype.init.call(this,t,e,"zAxis")},x.prototype.getSeriesExtremes=function(){var i=this;this.chart,this.hasVisibleSeries=!1,this.dataMin=this.dataMax=this.ignoreMinPadding=this.ignoreMaxPadding=void 0,this.stacking&&this.stacking.buildStacks(),this.series.forEach(function(t){var e;t.reserveSpace()&&(e=t.options.threshold,i.hasVisibleSeries=!0,i.positiveValuesOnly&&e<=0&&(e=void 0),(e=t.zData).length&&(i.dataMin=Math.min(a(i.dataMin,e[0]),Math.min.apply(null,e)),i.dataMax=Math.max(a(i.dataMax,e[0]),Math.max.apply(null,e))))})},x.prototype.setAxisSize=function(){var t=this.chart;c.prototype.setAxisSize.call(this),this.width=this.len=t.options.chart.options3d&&t.options.chart.options3d.depth||0,this.right=t.chartWidth-this.width-this.left},x.prototype.setOptions=function(t){t=o({offset:0,lineWidth:0},t),c.prototype.setOptions.call(this,t)};var c,d=x;function x(){var t=null!==c&&c.apply(this,arguments)||this;return t.isZAxis=!0,t}return d}),e(t,"Series/Column3D/Column3DComposition.js",[t["Core/Math3D.js"],t["Core/Utilities.js"]],function(t,e){var u=t.perspective,s=e.addEvent,z=e.extend,d=e.pick,r=e.pushUnique,o=e.wrap,a=[];function n(){var t=this.chart,e=this.options,i=e.depth,s=(e.stacking?e.stack||0:this.index)*(i+(e.groupZPadding||1)),r=this.borderWidth%2?.5:0;t.inverted&&!this.yAxis.reversed&&(r*=-1),!1!==e.grouping&&(s=0),s+=e.groupZPadding||1;for(var o=0,a=this.data;o<a.length;o++){var n=a[o];if((n.outside3dPlot=null)!==n.y){for(var h,l=z({x:0,y:0,width:0,height:0},n.shapeArgs||{}),p=[["x","width"],["y","height"]],c=n.tooltipPos,d=void 0,x=0;x<p.length;x++){var y=p[x];if((d=l[y[0]]-r)<0&&(l[y[1]]+=l[y[0]]+r,l[y[0]]=-r,d=0),d+l[y[1]]>this[y[0]+"Axis"].len&&0!==l[y[1]]&&(l[y[1]]=this[y[0]+"Axis"].len-l[y[0]]),0!==l[y[1]]&&(l[y[0]]>=this[y[0]+"Axis"].len||l[y[0]]+l[y[1]]<=r)){for(var f in l)l[f]="y"===f?-9999:0;n.outside3dPlot=!0}}"roundedRect"===n.shapeType&&(n.shapeType="cuboid"),n.shapeArgs=z(l,{z:s,depth:i,insidePlotArea:!0}),h={x:l.x+l.width/2,y:l.y,z:s+i/2},t.inverted&&(h.x=l.height,h.y=n.clientX||0),n.plot3d=u([h],t,!0,!1)[0],c&&(h=u([{x:c[0],y:c[1],z:s+i/2}],t,!0,!1)[0],n.tooltipPos=[h.x,h.y])}}this.z=s}function h(){if(this.chart.is3d()){var t=this.options,e=t.grouping,i=t.stacking,s=this.yAxis.options.reversedStacks,r=0;if(void 0===e||e){o=this.chart.series,a={totalStacks:0},h=1,o.forEach(function(t){a[n=d(t.options.stack,i?0:o.length-1-t.index)]?a[n].series.push(t):(a[n]={series:[t],position:h},h++)}),a.totalStacks=h+1;for(var o,a,n,h,l=a,p=t.stack||0,c=void 0,c=0;c<l[p].series.length&&l[p].series[c]!==this;c++);r=10*(l.totalStacks-l[p].position)+(s?c:-c),this.xAxis.reversed||(r=10*l.totalStacks-r)}t.depth=t.depth||25,this.z=this.z||0,t.zIndex=r}}function l(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}function p(t){if(this.chart.is3d()){var e=this.yAxis,i=this.yAxis.reversed;if(arguments[1])for(var s=0,r=this.data;s<r.length;s++)null!==(o=r[s]).y&&(o.height=o.shapeArgs.height,o.shapey=o.shapeArgs.y,o.shapeArgs.height=1,i||(o.stackY?o.shapeArgs.y=o.plotY+e.translate(o.stackY):o.shapeArgs.y=o.plotY+(o.negative?-o.height:o.height)));else{for(var o,a=0,n=this.data;a<n.length;a++)null!==(o=n[a]).y&&(o.shapeArgs.height=o.height,o.shapeArgs.y=o.shapey,o.graphic&&o.graphic[o.outside3dPlot?"attr":"animate"](o.shapeArgs,this.options.animation));this.drawDataLabels()}}else t.apply(this,[].slice.call(arguments,1))}function c(t,e,i,s,r,o){return"dataLabelsGroup"!==e&&"markerGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],o&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(o)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e&&(arguments[3]="visible"))),t.apply(this,Array.prototype.slice.call(arguments,1))}function x(t){t=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(t.stroke=this.options.edgeColor||t.fill,t["stroke-width"]=d(this.options.edgeWidth,1)),t}function y(t,e,i){var s=this.chart.is3d&&this.chart.is3d();s&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),s&&(this.options.inactiveOtherPoints=!1)}function f(t,e){if(this.chart.is3d())for(var i=0,s=this.data;i<s.length;i++){var r=s[i];r.visible=r.options.visible=e=void 0===e?!d(this.visible,r.visible):e,this.options.data[this.data.indexOf(r)]=r.options,r.graphic&&r.graphic.attr({visibility:e?"visible":"hidden"})}t.apply(this,Array.prototype.slice.call(arguments,1))}function b(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}function g(t,e,i,s,r){var o,a,n,h=this.chart;s.outside3dPlot=e.outside3dPlot,h.is3d()&&this.is("column")&&(n=this.options,s=d(s.inside,!!this.options.stacking),o=h.options.chart.options3d,a=e.pointWidth/2||0,n={x:r.x+a,y:r.y,z:this.z+n.depth/2},h.inverted&&(s&&(r.width=0,n.x+=e.shapeArgs.height/2),90<=o.alpha&&o.alpha<=270&&(n.y+=e.shapeArgs.width)),n=u([n],h,!0,!1)[0],r.x=n.x-a,r.y=e.outside3dPlot?-9e9:n.y),t.apply(this,[].slice.call(arguments,1))}function v(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}function m(t,e){var i,s,t=t.apply(this,[].slice.call(arguments,1)),r=this.axis.chart,e=e.width;return r.is3d()&&this.base&&(s=+this.base.split(",")[0],s=r.series[s],i=r.options.chart.options3d,s&&"column"===s.type&&(s={x:t.x+(r.inverted?t.height:e/2),y:t.y,z:s.options.depth/2},r.inverted&&(t.width=0,90<=i.alpha&&i.alpha<=270&&(s.y+=e)),s=u([s],r,!0,!1)[0],t.x=s.x-e/2,t.y=s.y)),t}return{compose:function(t,e){r(a,t)&&(i=t.prototype,o(i,"alignDataLabel",g),o(i,"justifyDataLabel",v)),r(a,e)&&o(e.prototype,"getStackBox",m);var i=t.types,e=i.column,t=i.columnRange;e&&r(a,e)&&(e=(i=e.prototype).pointClass.prototype,i.translate3dPoints=function(){},i.translate3dShapes=n,s(i,"afterInit",h),o(e,"hasNewShapeType",l),o(i,"animate",p),o(i,"plotGroup",c),o(i,"pointAttribs",x),o(i,"setState",y),o(i,"setVisible",f),o(i,"translate",b)),t&&r(a,t)&&(e=t.prototype,o(e.pointClass.prototype,"hasNewShapeType",l),o(e,"plotGroup",c),o(e,"pointAttribs",x),o(e,"setState",y),o(e,"setVisible",f))}}}),e(t,"Series/Pie3D/Pie3DPoint.js",[t["Core/Series/SeriesRegistry.js"]],function(t){var s,e,i=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});return e=t.seriesTypes.pie.prototype.pointClass,i(r,e),r.prototype.haloPath=function(){var t;return null!=(t=this.series)&&t.chart.is3d()?[]:e.prototype.haloPath.apply(this,arguments)},r;function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.series=void 0,t}}),e(t,"Series/Pie3D/Pie3DSeries.js",[t["Core/Globals.js"],t["Series/Pie3D/Pie3DPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s){var r,c,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),d=t.deg2rad,t=i.seriesTypes.pie,i=s.extend,a=s.pick,n=s.pushUnique,h=[],s=(o(l,c=t),l.compose=function(t){n(h,t)&&(t.types.pie=l)},l.prototype.addPoint=function(){c.prototype.addPoint.apply(this,arguments),this.chart.is3d()&&this.update(this.userOptions,!0)},l.prototype.animate=function(t){var e,i,s,r,o;this.chart.is3d()?(e=this.center,i=this.group,s=this.markerGroup,!(o=void 0)===(r=this.options.animation)&&(r={}),t?(i.oldtranslateX=a(i.oldtranslateX,i.translateX),i.oldtranslateY=a(i.oldtranslateY,i.translateY),o={translateX:e[0],translateY:e[1],scaleX:.001,scaleY:.001},i.attr(o),s&&(s.attrSetters=i.attrSetters,s.attr(o))):(o={translateX:i.oldtranslateX,translateY:i.oldtranslateY,scaleX:1,scaleY:1},i.animate(o,r),s&&s.animate(o,r))):c.prototype.animate.apply(this,arguments)},l.prototype.getDataLabelPosition=function(t,e){e=c.prototype.getDataLabelPosition.call(this,t,e);if(this.chart.is3d())for(var i=this.chart.options.chart.options3d,t=t.shapeArgs,s=t.r,r=(t.alpha||(null==i?void 0:i.alpha))*d,i=(t.beta||(null==i?void 0:i.beta))*d,t=(t.start+t.end)/2,o=e.connectorPosition,a=-s*(1-Math.cos(r))*Math.sin(t),n=s*(Math.cos(i)-1)*Math.cos(t),h=0,l=[null==e?void 0:e.natural,o.breakAt,o.touchingSliceAt];h<l.length;h++){var p=l[h];p.x+=n,p.y+=a}return e},l.prototype.pointAttribs=function(t){var e=c.prototype.pointAttribs.apply(this,arguments),i=this.options;return this.chart.is3d()&&!this.chart.styledMode&&(e.stroke=i.edgeColor||t.color||this.color,e["stroke-width"]=a(i.edgeWidth,1)),e},l.prototype.translate=function(){if(c.prototype.translate.apply(this,arguments),this.chart.is3d()){var t=this.options,e=t.depth||0,i=this.chart.options.chart.options3d,s=i.alpha,r=i.beta,o=t.stacking?(t.stack||0)*e:this._i*e;o+=e/2,!1!==t.grouping&&(o=0);for(var a=0,n=this.data;a<n.length;a++){var h=n[a],l=h.shapeArgs,l=(h.shapeType="arc3d",l.z=o,l.depth=.75*e,l.alpha=s,l.beta=r,l.center=this.center,(l.end+l.start)/2);h.slicedTranslation={translateX:Math.round(Math.cos(l)*t.slicedOffset*Math.cos(s*d)),translateY:Math.round(Math.sin(l)*t.slicedOffset*Math.cos(s*d))}}}},l.prototype.drawTracker=function(){if(c.prototype.drawTracker.apply(this,arguments),this.chart.is3d())for(var t=0,e=this.points;t<e.length;t++){var i=e[t];if(i.graphic)for(var s=0,r=["out","inn","side1","side2"];s<r.length;s++)i.graphic&&(i.graphic[r[s]].element.point=i)}},l);function l(){return null!==c&&c.apply(this,arguments)||this}return i(s.prototype,{pointClass:e}),s}),e(t,"Series/Scatter3D/Scatter3DPoint.js",[t["Series/Scatter/ScatterSeries.js"],t["Core/Utilities.js"]],function(t,e){var s,i,r=this&&this.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),t=t.prototype.pointClass,o=e.defined;return r(a,i=t),a.prototype.applyOptions=function(){return i.prototype.applyOptions.apply(this,arguments),o(this.z)||(this.z=0),this},a;function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.options=void 0,t.series=void 0,t}}),e(t,"Series/Scatter3D/Scatter3DSeriesDefaults.js",[],function(){return{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}}}),e(t,"Series/Scatter3D/Scatter3DSeries.js",[t["Core/Math3D.js"],t["Series/Scatter3D/Scatter3DPoint.js"],t["Series/Scatter3D/Scatter3DSeriesDefaults.js"],t["Series/Scatter/ScatterSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,s,r,o){var a,n,h=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=t.pointCameraDistance,t=o.extend,o=o.merge,h=(h(p,n=s),p.prototype.pointAttribs=function(t){var e=n.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=l(t,this.chart)),e},p.defaultOptions=o(s.defaultOptions,i),p);function p(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return t(h.prototype,{axisTypes:["xAxis","yAxis","zAxis"],directTouch:!0,parallelArrays:["x","y","z"],pointArrayMap:["x","y","z"],pointClass:e}),r.registerSeriesType("scatter3d",h),h}),e(t,"masters/highcharts-3d.src.js",[t["Core/Globals.js"],t["Core/Chart/Chart3D.js"],t["Series/Area3D/Area3DSeries.js"],t["Core/Axis/Axis3DComposition.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Series/Series3D.js"],t["Core/Axis/Stacking/StackItem.js"],t["Core/Renderer/SVG/SVGRenderer3D.js"],t["Core/Axis/ZAxis.js"],t["Series/Column3D/Column3DComposition.js"],t["Series/Pie3D/Pie3DSeries.js"]],function(t,e,i,s,r,o,a,n,h,l,p){i.compose(t.seriesTypes.area),s.compose(t.Axis,t.Tick),e.compose(t.Chart,t.Fx),l.compose(t.Series,a),p.compose(t.Series),o.compose(t.Series),n.compose(r.getRendererType()),h.compose(t.Chart)})});