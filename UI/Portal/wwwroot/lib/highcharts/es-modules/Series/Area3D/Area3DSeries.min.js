"use strict";import Math3D from"../../Core/Math3D.js";const perspective=Math3D["perspective"];import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";const{line:{prototype:lineProto}}=SeriesRegistry["seriesTypes"];import U from"../../Core/Utilities.js";const wrap=U["wrap"],composedMembers=[];function compose(e){U.pushUnique(composedMembers,e)&&wrap(e.prototype,"getGraphPath",wrapAreaSeriesGetGraphPath)}function wrapAreaSeriesGetGraphPath(e){var t=this,e=e.apply(t,[].slice.call(arguments,1));if(!t.chart.is3d())return e;const r=lineProto.getGraphPath,a=t.options,o=Math.round(t.yAxis.getThreshold(a.threshold));let s=[];if(t.rawPointsX)for(let e=0;e<t.points.length;e++)s.push({x:t.rawPointsX[e],y:a.stacking?t.points[e].yBottom:o,z:t.zPadding});var p=t.chart.options.chart.options3d;s=perspective(s,t.chart,!0).map(e=>({plotX:e.x,plotY:e.y,plotZ:e.z})),t.group&&p&&p.depth&&p.beta&&(t.markerGroup&&(t.markerGroup.add(t.group),t.markerGroup.attr({translateX:0,translateY:0})),t.group.attr({zIndex:Math.max(1,270<p.beta||p.beta<90?p.depth-Math.round(t.zPadding||0):Math.round(t.zPadding||0))})),s.reversed=!0;const i=r.call(t,s,!0,!0);if(i[0]&&"M"===i[0][0]&&(i[0]=["L",i[0][1],i[0][2]]),t.areaPath){const n=t.areaPath.splice(0,t.areaPath.length/2).concat(i);n.xMap=t.areaPath.xMap,t.areaPath=n}return e}const Area3DSeries={compose:compose};export default Area3DSeries;