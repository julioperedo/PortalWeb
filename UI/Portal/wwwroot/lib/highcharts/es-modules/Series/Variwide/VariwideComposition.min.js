"use strict";import U from"../../Core/Utilities.js";const{addEvent,wrap}=U,composedMembers=[];function compose(t,i){if(U.pushUnique(composedMembers,t)&&(addEvent(t,"afterDrawCrosshair",onAxisAfterDrawCrosshair),addEvent(t,"afterRender",onAxisAfterRender)),U.pushUnique(composedMembers,i)){addEvent(i,"afterGetPosition",onTickAfterGetPosition);const s=i.prototype;s.postTranslate=tickPostTranslate,wrap(s,"getLabelPosition",wrapTickGetLabelPosition)}}function onAxisAfterDrawCrosshair(t){this.variwide&&this.cross&&this.cross.attr("stroke-width",t.point&&t.point.crosshairWidth)}function onAxisAfterRender(){const o=this;!this.horiz&&this.variwide&&this.chart.labelCollectors.push(function(){return o.tickPositions.filter(t=>!!o.ticks[t].label).map((t,i)=>{const s=o.ticks[t].label;return s.labelrank=o.zData[i],s})})}function onTickAfterGetPosition(t){var i=this.axis,s=i.horiz?"x":"y";i.variwide&&(this[s+"Orig"]=t.pos[s],this.postTranslate(t.pos,s,this.pos))}function tickPostTranslate(t,i,s){const o=this.axis;let e=t[i]-o.pos;o.horiz||(e=o.len-e),e=o.series[0].postTranslate(s,e),o.horiz||(e=o.len-e),t[i]=o.pos+e}function wrapTickGetLabelPosition(t,i,s,o,e,r,a,n){const c=Array.prototype.slice.call(arguments,1),p=e?"x":"y";this.axis.variwide&&"number"==typeof this[p+"Orig"]&&(c[e?0:1]=this[p+"Orig"]);e=t.apply(this,c);return this.axis.variwide&&this.axis.categories&&this.postTranslate(e,p,this.pos),e}const VariwideComposition={compose:compose};export default VariwideComposition;