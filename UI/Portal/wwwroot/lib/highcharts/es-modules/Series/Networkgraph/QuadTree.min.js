"use strict";import QuadTreeNode from"./QuadTreeNode.js";class QuadTree{constructor(t,e,o,s){this.box={left:t,top:e,width:o,height:s},this.maxDepth=25,this.root=new QuadTreeNode(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(t){t.updateMassAndCenter()})}insertNodes(t){for(const e of t)this.root.insert(e,this.maxDepth)}visitNodeRecursive(t,e,o){let s;if(t=t||this.root,!1!==(s=t===this.root&&e?e(t):s)){for(const i of t.nodes){if(i.isInternal){if(!1===(s=e?e(i):s))continue;this.visitNodeRecursive(i,e,o)}else i.body&&e&&e(i.body);o&&o(i)}t===this.root&&o&&o(t)}}}export default QuadTree;