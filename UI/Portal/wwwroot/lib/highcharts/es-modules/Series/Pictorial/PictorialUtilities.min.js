import U from"../../Core/Utilities.js";const defined=U["defined"];function rescalePatternFill(r,i,n,a,l=1){const t=r&&r.attr("fill"),e=t&&t.match(/url\(([^)]+)\)/);if(e){const c=document.querySelector(e[1]+" path");if(c){let t=c.getBBox();if(0===t.width){const d=c.parentElement;r.renderer.box.appendChild(c),t=c.getBBox(),d.appendChild(c)}let e=1/(t.width+l);var r=i/a/t.height,a=t.width/t.height,i=n/i,o=-t.width/2;a<i&&(e=e*a/i),c.setAttribute("stroke-width",l/(n*e)),c.setAttribute("transform","translate(0.5, 0)"+`scale(${e} ${r}) `+`translate(${o+l*e/2}, ${-t.y})`)}}}function getStackMetrics(t,e){let r=t.len,i=0;return e&&defined(e.max)&&(i=t.toPixels(e.max,!0),r=t.len-i),{height:r,y:i}}function invertShadowGroup(t,e){e=e.chart.inverted;e&&t.attr({rotation:e?90:0,scaleX:e?-1:1})}export default{rescalePatternFill:rescalePatternFill,invertShadowGroup:invertShadowGroup,getStackMetrics:getStackMetrics};