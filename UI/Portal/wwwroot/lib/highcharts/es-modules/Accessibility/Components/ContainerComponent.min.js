"use strict";import AccessibilityComponent from"../AccessibilityComponent.js";import KeyboardNavigationHandler from"../KeyboardNavigationHandler.js";import CU from"../Utils/ChartUtilities.js";const{unhideChartElementFromAT,getChartTitle}=CU;import H from"../../Core/Globals.js";const doc=H["doc"];import HU from"../Utils/HTMLUtilities.js";const stripHTMLTags=HU["stripHTMLTagsFromString"];class ContainerComponent extends AccessibilityComponent{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const t=this.chart,e="highcharts-title-"+t.index,i=stripHTMLTags(t.langFormat("accessibility.svgContainerTitle",{chartTitle:getChartTitle(t)}));if(i.length){const r=this.svgTitleElement=this.svgTitleElement||doc.createElementNS("http://www.w3.org/2000/svg","title");r.textContent=i,r.id=e,t.renderTo.insertBefore(r,t.renderTo.firstChild)}}setSVGContainerLabel(){const t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:getChartTitle(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)}setGraphicContainerAttrs(){const t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:getChartTitle(t)});e.length&&t.container.setAttribute("aria-label",e)}setRenderToAttrs(){const t=this.chart,e="disabled"!==t.options.accessibility.landmarkVerbosity,i=t.langFormat("accessibility.chartContainerLabel",{title:getChartTitle(t),chart:t});i&&(t.renderTo.setAttribute("role",e?"region":"group"),t.renderTo.setAttribute("aria-label",i))}makeCreditsAccessible(){const t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:stripHTMLTags(e.textStr,t.renderer.forExport)})),unhideChartElementFromAT(t,e.element))}getKeyboardNavigation(){const e=this.chart;return new KeyboardNavigationHandler(e,{keyCodeMap:[],validate:function(){return!0},init:function(){const t=e.accessibility;t&&t.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}export default ContainerComponent;