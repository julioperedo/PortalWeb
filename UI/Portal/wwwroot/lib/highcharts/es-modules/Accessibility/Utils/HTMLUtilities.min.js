"use strict";import H from"../../Core/Globals.js";const{doc,win}=H;import U from"../../Core/Utilities.js";const css=U["css"],simulatedEventTarget=win.EventTarget&&new win.EventTarget||"none";function addClass(e,t){e.classList?e.classList.add(t):e.className.indexOf(t)<0&&(e.className+=" "+t)}function removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),"")}function cloneMouseEvent(e){if("function"==typeof win.MouseEvent)return new win.MouseEvent(e.type,e);if(doc.createEvent){const t=doc.createEvent("MouseEvent");if(t.initMouseEvent)return t.initMouseEvent(e.type,e.bubbles,e.cancelable,e.view||win,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),t}return getFakeMouseEvent(e.type)}function cloneTouchEvent(e){var t=t=>{const n=[];for(let e=0;e<t.length;++e){var o=t.item(e);o&&n.push(o)}return n};if("function"==typeof win.TouchEvent){const o=new win.TouchEvent(e.type,{touches:t(e.touches),targetTouches:t(e.targetTouches),changedTouches:t(e.changedTouches),ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,detail:e.detail,view:e.view});return e.defaultPrevented&&o.preventDefault(),o}const n=cloneMouseEvent(e);return n.touches=e.touches,n.changedTouches=e.changedTouches,n.targetTouches=e.targetTouches,n}function escapeStringForHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}function getElement(e){return doc.getElementById(e)}function getFakeMouseEvent(e,t,n){t=t||{x:0,y:0};if("function"==typeof win.MouseEvent)return new win.MouseEvent(e,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:n||simulatedEventTarget,view:win,detail:"click"===e?1:0,screenX:t.x,screenY:t.y,clientX:t.x,clientY:t.y});if(doc.createEvent){const o=doc.createEvent("MouseEvent");if(o.initMouseEvent)return o.initMouseEvent(e,!0,!0,win,"click"===e?1:0,t.x,t.y,t.x,t.y,!1,!1,!1,!1,0,null),o}return{type:e}}function getHeadingTagNameForElement(e){const n=e=>{e=parseInt(e.slice(1),10);return"h"+Math.min(6,e+1)},o=e=>/H[1-6]/.test(e),r=e=>{var t=(e=>{let t=e;for(;t=t.previousSibling;){var n=t.tagName||"";if(o(n))return n}return""})(e);if(t)return n(t);t=e.parentElement;if(!t)return"p";e=t.tagName;return o(e)?n(e):r(t)};return r(e)}function removeElement(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function removeChildNodes(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function reverseChildNodes(e){let t=e.childNodes.length;for(;t--;)e.appendChild(e.childNodes[t])}function stripHTMLTagsFromString(e,t=!1){return"string"==typeof e?t?e.replace(/<\/?[^>]+(>|$)/g,""):e.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):e}function visuallyHideElement(e){css(e,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}const HTMLUtilities={addClass:addClass,cloneMouseEvent:cloneMouseEvent,cloneTouchEvent:cloneTouchEvent,escapeStringForHTML:escapeStringForHTML,getElement:getElement,getFakeMouseEvent:getFakeMouseEvent,getHeadingTagNameForElement:getHeadingTagNameForElement,removeChildNodes:removeChildNodes,removeClass:removeClass,removeElement:removeElement,reverseChildNodes:reverseChildNodes,simulatedEventTarget:simulatedEventTarget,stripHTMLTagsFromString:stripHTMLTagsFromString,visuallyHideElement:visuallyHideElement};export default HTMLUtilities;