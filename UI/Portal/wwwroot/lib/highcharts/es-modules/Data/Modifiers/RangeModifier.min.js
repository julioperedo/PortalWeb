"use strict";import DataModifier from"./DataModifier.js";import U from"../../Core/Utilities.js";const merge=U["merge"];class RangeModifier extends DataModifier{constructor(e){super(),this.options=merge(RangeModifier.defaultOptions,e)}modifyTable(f,e){var t=this,{additive:l,ranges:i,strict:d}=(t.emit({type:"modify",detail:e,table:f}),t.options);if(i.length){const m=f.modified;let r=f.getColumns(),n=[];for(let e=0,t=i.length,a,s;e<t;++e)if(a=i[e],!d||typeof a.minValue==typeof a.maxValue){0<e&&!l&&(m.deleteRows(),m.setRows(n),r=m.getColumns(),n=[]);for(let e=0,t=(s=r[a.column]||[]).length,i,o;e<t;++e){switch(typeof(i=s[e])){default:continue;case"boolean":case"number":case"string":}d&&typeof i!=typeof a.minValue||i>=a.minValue&&i<=a.maxValue&&(o=(l?f:m).getRow(e))&&n.push(o)}}m.deleteRows(),m.setRows(n)}return t.emit({type:"afterModify",detail:e,table:f}),f}}RangeModifier.defaultOptions={type:"Range",ranges:[]},DataModifier.registerType("Range",RangeModifier);export default RangeModifier;