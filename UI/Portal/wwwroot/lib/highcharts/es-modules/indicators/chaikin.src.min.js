"use strict";import H from"../parts/Globals.js";import"./accumulation-distribution.src.js";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,error=U.error,seriesType=U.seriesType;import requiredIndicatorMixin from"../mixins/indicator-required.js";var EMA=H.seriesTypes.ema,AD=H.seriesTypes.ad,requiredIndicator=requiredIndicatorMixin;seriesType("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var e=arguments,r=this;requiredIndicator.isParentLoaded(EMA,"ema",r.type,function(i){i.prototype.init.apply(r,e)})},getValues:function(e,r){var i,t,o,a,s,p,n=r.periods,l=r.period,u=[],c=[],d=[];if(2!==n.length||n[1]<=n[0])error('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."');else if((i=AD.prototype.getValues.call(this,e,{volumeSeriesID:r.volumeSeriesID,period:l}))&&(o=EMA.prototype.getValues.call(this,i,{period:n[0]}),a=EMA.prototype.getValues.call(this,i,{period:n[1]}),o&&a)){for(t=n[1]-n[0],p=0;p<a.yData.length;p++)s=correctFloat(o.yData[p+t]-a.yData[p]),u.push([a.xData[p],s]),c.push(a.xData[p]),d.push(s);return{values:u,xData:c,yData:d}}}});