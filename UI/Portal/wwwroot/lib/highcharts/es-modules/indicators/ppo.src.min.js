"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,error=U.error,seriesType=U.seriesType;import requiredIndicatorMixin from"../mixins/indicator-required.js";var EMA=H.seriesTypes.ema,requiredIndicator=requiredIndicatorMixin;seriesType("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var e=arguments,r=this;requiredIndicator.isParentLoaded(EMA,"ema",r.type,function(t){t.prototype.init.apply(r,e)})},getValues:function(e,r){var t,i,a,o,s,p=r.periods,n=r.index,d=[],l=[],c=[];if(2!==p.length||p[1]<=p[0])error('Error: "PPO requires two periods. Notice, first period should be lower than the second one."');else if(i=EMA.prototype.getValues.call(this,e,{index:n,period:p[0]}),a=EMA.prototype.getValues.call(this,e,{index:n,period:p[1]}),i&&a){for(t=p[1]-p[0],s=0;s<a.yData.length;s++)o=correctFloat((i.yData[s+t]-a.yData[s])/a.yData[s]*100),d.push([a.xData[s],o]),l.push(a.xData[s]),c.push(o);return{values:d,xData:l,yData:c}}}});