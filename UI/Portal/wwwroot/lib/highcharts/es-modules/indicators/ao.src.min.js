"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,isArray=U.isArray,seriesType=U.seriesType,noop=H.noop;seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:H.seriesTypes.column.prototype.getColumnMetrics,crispCol:H.seriesTypes.column.prototype.crispCol,translate:H.seriesTypes.column.prototype.translate,drawPoints:H.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var r,o=this.options,t=this.points,e=this.userOptions.color,s=o.greaterBarColor,a=o.lowerBarColor,l=t[0];if(!e&&l)for(l.color=s,r=1;r<t.length;r++)t[r].y>t[r-1].y?t[r].color=s:t[r].y<t[r-1].y?t[r].color=a:t[r].color=t[r-1].color},getValues:function(r){var o,t,e,s,a,l,i=r.xData||[],c=r.yData||[],p=c.length,n=[],y=[],u=[],h=0,m=0;if(!(i.length<=34)&&isArray(c[0])&&4===c[0].length){for(a=0;a<33;a++)s=(c[a][1]+c[a][2])/2,a>=29&&(h=correctFloat(h+s)),m=correctFloat(m+s);for(l=33;l<p;l++)s=(c[l][1]+c[l][2])/2,h=correctFloat(h+s),m=correctFloat(m+s),o=correctFloat(h/5-m/34),n.push([i[l],o]),y.push(i[l]),u.push(o),e=l+1-34,h=correctFloat(h-(c[t=l+1-5][1]+c[t][2])/2),m=correctFloat(m-(c[e][1]+c[e][2])/2);return{values:n,xData:y,yData:u}}}});