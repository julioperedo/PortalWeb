"use strict";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,pick=U.pick,seriesType=U.seriesType;function accumulatePoints(t,a,e,r,s){var i=pick(a[e][r],a[e]);return correctFloat(s?t-i:t+i)}seriesType("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(t,a){var e,r,s,i,c=a.period,o=a.index,u=c+Math.floor(c/2+1),p=t.xData||[],n=t.yData||[],l=n.length,m=[],f=[],h=[],y=0;if(!(p.length<=u)){for(s=0;s<c-1;s++)y=accumulatePoints(y,n,s,o);for(i=0;i<=l-u;i++)r=i+u-1,y=accumulatePoints(y,n,i+c-1,o),e=pick(n[r][o],n[r])-y/c,y=accumulatePoints(y,n,i,o,!0),m.push([p[r],e]),f.push(p[r]),h.push(e);return{values:m,xData:f,yData:h}}}});