"use strict";import U from"../parts/Utilities.js";var error=U.error,seriesType=U.seriesType;function populateAverage(e,r,a,t){var s=r[t][1],i=r[t][2],o=r[t][3],u=a[t],n=o===s&&o===i||s===i?0:(2*o-i-s)/(s-i)*u;return[e[t],n]}seriesType("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,r){var a,t,s,i=r.period,o=e.xData,u=e.yData,n=r.volumeSeriesID,p=e.chart.get(n),l=p&&p.yData,m=u?u.length:0,h=[],v=[],D=[];if(!(o.length<=i&&m&&4!==u[0].length)){if(p){for(t=i;t<m;t++)a=h.length,s=populateAverage(o,u,l,t,i),a>0&&(s[1]+=h[a-1][1]),h.push(s),v.push(s[0]),D.push(s[1]);return{values:h,xData:v,yData:D}}error("Series "+n+" not found! Check `volumeSeriesID`.",!0,e.chart)}}});