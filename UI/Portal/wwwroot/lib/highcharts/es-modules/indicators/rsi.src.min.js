"use strict";import U from"../parts/Utilities.js";var isArray=U.isArray,seriesType=U.seriesType;function toFixed(e,t){return parseFloat(e.toFixed(t))}seriesType("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(e,t){var i,a,s,r,o,d=t.period,p=e.xData,x=e.yData,u=x?x.length:0,F=t.decimals,l=1,n=[],h=[],y=[],f=0,m=0;if(!(p.length<d)&&isArray(x[0])&&4===x[0].length){for(;l<d;)(a=toFixed(x[l][3]-x[l-1][3],F))>0?f+=a:m+=Math.abs(a),l++;for(s=toFixed(f/(d-1),F),r=toFixed(m/(d-1),F),o=l;o<u;o++)(a=toFixed(x[o][3]-x[o-1][3],F))>0?(f=a,m=0):(f=0,m=Math.abs(a)),s=toFixed((s*(d-1)+f)/d,F),i=0===(r=toFixed((r*(d-1)+m)/d,F))?100:0===s?0:toFixed(100-100/(1+s/r),F),n.push([p[o],i]),h.push(p[o]),y.push(i);return{values:n,xData:h,yData:y}}}});