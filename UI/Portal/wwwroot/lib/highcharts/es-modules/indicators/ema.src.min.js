"use strict";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,isArray=U.isArray,seriesType=U.seriesType;seriesType("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(r,a,e){for(var t=0,i=0;i<r;)t+=a<0?e[i]:e[i][a],i++;return t},calculateEma:function(r,a,e,t,i,s,o){var c=r[e-1],u=s<0?a[e-1]:a[e-1][s];return[c,void 0===i?o:correctFloat(u*t+i*(1-t))]},getValues:function(r,a){var e,t,i,s,o=a.period,c=r.xData,u=r.yData,n=u?u.length:0,l=2/(o+1),p=[],m=[],d=[],y=-1;if(!(n<o)){for(isArray(u[0])&&(y=a.index?a.index:0),e=this.accumulatePeriodPoints(o,y,u)/o,s=o;s<n+1;s++)i=this.calculateEma(c,u,s,l,t,y,e),p.push(i),m.push(i[0]),d.push(i[1]),t=i[1];return{values:p,xData:m,yData:d}}}});