"use strict";import U from"../Core/Utilities.js";const{addEvent,defined,isNumber,pick,pushUnique}=U,composedMembers=[];function compose(t,e){if(pushUnique(composedMembers,t)&&addEvent(t,"afterSetOptions",onAxisAfterSetOptions),pushUnique(composedMembers,e)){const i=e.prototype;i.adjustHeight=chartAdjustHeight,addEvent(e,"render",i.adjustHeight)}}function onAxisAfterSetOptions(){var t=this.chart.options.chart;!this.horiz&&isNumber(this.options.staticScale)&&(!t.height||t.scrollablePlotArea&&t.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}function chartAdjustHeight(){const i=this;if("adjustHeight"!==i.redrawTrigger){for(const s of i.axes||[]){const i=s.chart,o=!!i.initiatedScale&&i.options.animation,a=s.options.staticScale;var t,e;s.staticScale&&defined(s.min)&&(t=pick(s.brokenAxis&&s.brokenAxis.unitLength,s.max+s.tickInterval-s.min)*a,e=(t=Math.max(t,a))-i.plotHeight,!i.scrollablePixelsY&&1<=Math.abs(e)&&(i.plotHeight=t,i.redrawTrigger="adjustHeight",i.setSize(void 0,i.chartHeight+e,o)),s.series.forEach(function(t){const e=t.sharedClipKey&&i.sharedClips[t.sharedClipKey];e&&e.attr(i.inverted?{width:i.plotHeight}:{height:i.plotHeight})}))}this.initiatedScale=!0}this.redrawTrigger=null}const StaticScale={compose:compose};export default StaticScale;