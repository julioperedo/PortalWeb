"use strict";import SeriesRegistry from"../../Core/Series/SeriesRegistry.js";const{prototype:seriesProto}=SeriesRegistry["series"];import U from"../../Core/Utilities.js";const{defined,fireEvent}=U;class MockPoint{static fromPoint(t){return new MockPoint(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})}static pointToPixels(t,s){const i=t.series,o=i.chart;let e=t.plotX||0,h=t.plotY||0,r;return o.inverted&&(h=t.mock?(e=t.plotY,t.plotX):(e=o.plotWidth-(t.plotY||0),o.plotHeight-(t.plotX||0))),i&&!s&&(r=i.getPlotBox(),e+=r.translateX,h+=r.translateY),{x:e,y:h}}static pointToOptions(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}}constructor(t,s,i){this.plotX=void 0,this.plotY=void 0,this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:seriesProto.getPlotBox},this.target=s||null,this.options=i,this.applyOptions(this.getOptions())}applyOptions(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()}getLabelConfig(){return{x:this.x,y:this.y,point:this}}getOptions(){return this.hasDynamicOptions()?this.options(this.target):this.options}hasDynamicOptions(){return"function"==typeof this.options}isInsidePlot(){const t=this.plotX,s=this.plotY,i=this.series.xAxis,o=this.series.yAxis,e={x:t,y:s,isInsidePlot:!0,options:{}};return i&&(e.isInsidePlot=defined(t)&&0<=t&&t<=i.len),o&&(e.isInsidePlot=e.isInsidePlot&&defined(s)&&0<=s&&s<=o.len),fireEvent(this.series.chart,"afterIsInsidePlot",e),e.isInsidePlot}refresh(){const t=this.series,s=t.xAxis,i=t.yAxis,o=this.getOptions();s?(this.x=o.x,this.plotX=s.toPixels(o.x,!0)):(this.x=void 0,this.plotX=o.x),i?(this.y=o.y,this.plotY=i.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()}refreshOptions(){const t=this.series,s=t.xAxis,i=t.yAxis;this.x=this.options.x=s?this.options.x=s.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=i?i.toValue(this.plotY,!0):this.plotY}rotate(t,s,i){var o,e,h,r;this.hasDynamicOptions()||(o=Math.cos(i),i=Math.sin(i),r=(e=this.plotX-t)*i+(h=this.plotY-s)*o,this.plotX=e*o-h*i+t,this.plotY=r+s,this.refreshOptions())}scale(t,s,i,o){var e,h;this.hasDynamicOptions()||(e=this.plotX*i,h=this.plotY*o,o=(1-o)*s,this.plotX=(1-i)*t+e,this.plotY=o+h,this.refreshOptions())}setAxis(t,s){const i=s+"Axis",o=t[i],e=this.series.chart;this.series[i]="object"==typeof o?o:defined(o)?e[i][o]||e.get(o):null}toAnchor(){const t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t}translate(t,s,i,o){this.hasDynamicOptions()||(this.plotX+=i,this.plotY+=o,this.refreshOptions())}}export default MockPoint;