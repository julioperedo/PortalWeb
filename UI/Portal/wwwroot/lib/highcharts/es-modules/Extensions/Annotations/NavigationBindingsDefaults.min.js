"use strict";import NBU from"./NavigationBindingsUtilities.js";const getAssignedAxis=NBU["getAssignedAxis"];import U from"../../Core/Utilities.js";const{isNumber,merge}=U,lang={navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",ellipse:"Ellipse",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation={bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(i){var i=this.chart.pointer.getCoordinates(i),t=getAssignedAxis(i.xAxis),i=getAssignedAxis(i.yAxis),n=this.chart.options.navigation;if(t&&i)return this.chart.addAnnotation(merge({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{x:t.value,y:i.value,xAxis:t.axis.index,yAxis:i.axis.index},r:5}]},n.annotationsOptions,n.bindings.circleAnnotation.annotationsOptions))},steps:[function(i,t){var n,s,a=t.options.shapes,a=a&&a[0]&&a[0].point||{};let e;isNumber(a.xAxis)&&isNumber(a.yAxis)&&(n=this.chart.inverted,s=this.chart.xAxis[a.xAxis].toPixels(a.x),a=this.chart.yAxis[a.yAxis].toPixels(a.y),e=Math.max(Math.sqrt(Math.pow(n?a-i.chartX:s-i.chartX,2)+Math.pow(n?s-i.chartY:a-i.chartY,2)),5)),t.update({shapes:[{r:e}]})}]},ellipseAnnotation:{className:"highcharts-ellipse-annotation",start:function(i){var i=this.chart.pointer.getCoordinates(i),t=getAssignedAxis(i.xAxis),i=getAssignedAxis(i.yAxis),n=this.chart.options.navigation;if(t&&i)return this.chart.addAnnotation(merge({langKey:"ellipse",type:"basicAnnotation",shapes:[{type:"ellipse",xAxis:t.axis.index,yAxis:i.axis.index,points:[{x:t.value,y:i.value},{x:t.value,y:i.value}],ry:1}]},n.annotationsOptions,n.bindings.ellipseAnnotation.annotationOptions))},steps:[function(i,t){const n=t.shapes[0],s=n.getAbsolutePosition(n.points[1]);n.translatePoint(i.chartX-s.x,i.chartY-s.y,1),n.redraw(!1)},function(i,t){const n=t.shapes[0],s=n.getAbsolutePosition(n.points[0]),a=n.getAbsolutePosition(n.points[1]),e=n.getDistanceFromLine(s,a,i.chartX,i.chartY),o=n.getYAxis(),r=Math.abs(o.toValue(0)-o.toValue(e));n.setYRadius(r),n.redraw(!1)}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(i){var t,n,s,i=this.chart.pointer.getCoordinates(i),a=getAssignedAxis(i.xAxis),i=getAssignedAxis(i.yAxis);if(a&&i)return t=a.value,n=i.value,a=a.axis.index,i=i.axis.index,s=this.chart.options.navigation,this.chart.addAnnotation(merge({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:a,yAxis:i,x:t,y:n},{xAxis:a,yAxis:i,x:t,y:n},{xAxis:a,yAxis:i,x:t,y:n},{xAxis:a,yAxis:i,x:t,y:n},{command:"Z"}]}]},s.annotationsOptions,s.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(i,t){const n=t.options.shapes,s=n&&n[0]&&n[0].points||[],a=this.chart.pointer.getCoordinates(i),e=getAssignedAxis(a.xAxis),o=getAssignedAxis(a.yAxis);var r;e&&o&&(i=e.value,r=o.value,s[1].x=i,s[2].x=i,s[2].y=r,s[3].y=r,t.update({shapes:[{points:s}]}))}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(i){var i=this.chart.pointer.getCoordinates(i),t=getAssignedAxis(i.xAxis),i=getAssignedAxis(i.yAxis),n=this.chart.options.navigation;if(t&&i)return this.chart.addAnnotation(merge({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}",overflow:"none",crop:!0},labels:[{point:{xAxis:t.axis.index,yAxis:i.axis.index,x:t.value,y:i.value}}]},n.annotationsOptions,n.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{animation:{defer:0}}},NavigationBindingDefaults={lang:lang,navigation:navigation};export default NavigationBindingDefaults;