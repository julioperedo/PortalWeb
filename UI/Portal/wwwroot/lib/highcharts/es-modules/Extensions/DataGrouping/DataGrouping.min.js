"use strict";import DataGroupingAxisComposition from"./DataGroupingAxisComposition.js";import DataGroupingDefaults from"./DataGroupingDefaults.js";import DataGroupingSeriesComposition from"./DataGroupingSeriesComposition.js";import F from"../../Core/Templating.js";const format=F["format"];import U from"../../Core/Utilities.js";const{addEvent,extend,isNumber}=U,composedMembers=[];function compose(o,t,e){DataGroupingAxisComposition.compose(o),DataGroupingSeriesComposition.compose(t),e&&U.pushUnique(composedMembers,e)&&addEvent(e,"headerFormatter",onTooltipHeaderFormatter)}function onTooltipHeaderFormatter(o){const t=this.chart,e=t.time,a=o.labelConfig,i=a.series,r=i.options,s=i.tooltipOptions,m=r.dataGrouping,n=i.xAxis;let p=s.xDateFormat,u,d,D,g,c,l=s[o.isFooter?"footerFormat":"headerFormat"];n&&"datetime"===n.options.type&&m&&isNumber(a.key)&&(d=i.currentDataGrouping,D=m.dateTimeLabelFormats||DataGroupingDefaults.common.dateTimeLabelFormats,d?(g=D[d.unitName],1===d.count?p=g[0]:(p=g[1],u=g[2])):!p&&D&&n.dateTime&&(p=n.dateTime.getXDateFormat(a.x,s.dateTimeLabelFormats)),c=e.dateFormat(p,a.key),u&&(c+=e.dateFormat(u,a.key+d.totalRange-1)),i.chart.styledMode&&(l=this.styledModeFormat(l)),o.text=format(l,{point:extend(a.point,{key:c}),series:i},t),o.preventDefault())}const DataGroupingComposition={compose:compose,groupData:DataGroupingSeriesComposition.groupData};export default DataGroupingComposition;