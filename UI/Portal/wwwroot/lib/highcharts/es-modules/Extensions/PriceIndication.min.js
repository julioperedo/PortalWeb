"use strict";import U from"../Core/Utilities.js";const{addEvent,isArray,merge,pushUnique}=U,composedMembers=[];function compose(s){pushUnique(composedMembers,s)&&addEvent(s,"afterRender",onSeriesAfterRender)}function onSeriesAfterRender(){var s=this,e=s.options,r=e.lastVisiblePrice,i=e.lastPrice;if((r||i)&&"highcharts-navigator-series"!==e.id){const o=s.xAxis,a=s.yAxis,c=a.crosshair,t=a.cross,l=a.crossLabel,n=s.points,d=s.yData.length,h=n.length,b=s.xData[s.xData.length-1],P=s.yData[d-1];i&&i.enabled&&(a.crosshair=a.options.crosshair=e.lastPrice,!s.chart.styledMode&&a.crosshair&&a.options.crosshair&&e.lastPrice&&(a.crosshair.color=a.options.crosshair.color=e.lastPrice.color||s.color),a.cross=s.lastPrice,i=isArray(P)?P[3]:P,s.lastPriceLabel&&s.lastPriceLabel.destroy(),delete a.crossLabel,a.drawCrosshair(null,{x:b,y:i,plotX:o.toPixels(b,!0),plotY:a.toPixels(i,!0)}),s.yAxis.cross&&(s.lastPrice=s.yAxis.cross,s.lastPrice.addClass("highcharts-color-"+s.colorIndex),s.lastPrice.y=i),s.lastPriceLabel=a.crossLabel),r&&r.enabled&&0<h&&(a.crosshair=a.options.crosshair=merge({color:"transparent"},e.lastVisiblePrice),a.cross=s.lastVisiblePrice,i=n[h-1].isInside?n[h-1]:n[h-2],s.lastVisiblePriceLabel&&s.lastVisiblePriceLabel.destroy(),delete a.crossLabel,a.drawCrosshair(null,i),a.cross&&(s.lastVisiblePrice=a.cross,i&&"number"==typeof i.y&&(s.lastVisiblePrice.y=i.y)),s.lastVisiblePriceLabel=a.crossLabel),a.crosshair=a.options.crosshair=c,a.cross=t,a.crossLabel=l}}const PriceIndication={compose:compose};export default PriceIndication;