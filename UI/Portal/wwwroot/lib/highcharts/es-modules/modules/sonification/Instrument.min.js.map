{"version":3,"sources":["Instrument.js"],"names":["H","U","error","merge","pick","uniqueKey","defaultOptions","type","playCallbackInterval","oscillator","waveformShape","Instrument","options","this","init","prototype","initAudioContext","id","ctx","audioContext","gainNode","createGain","setGain","panNode","createStereoPanner","setPan","connect","destination","initOscillator","playCallbackTimers","copy","Context","win","AudioContext","webkitAudioContext","hasOldContext","state","suspend","createOscillator","oscillatorStarted","panValue","pan","setValueAtTime","currentTime","gainValue","rampTime","console","warn","gain","value","linearRampToValueAtTime","cancelGainRamp","cancelScheduledValues","getValidFrequency","frequency","min","max","validFrequencies","allowedFrequencies","maximum","Infinity","minimum","length","reduce","acc","cur","Math","abs","clearPlayCallbackTimers","forEach","timer","clearInterval","setFrequency","frequencyLimits","limits","validFrequency","oscillatorPlay","start","preparePlay","resume","play","instrument","duration","setOrStartTimer","setter","setterData","target","currentDurationIx","callbackInterval","setInterval","curTime","push","setTimeout","stopOscillatorTimeout","clearTimeout","stopTimeout","stopCallback","_play","immediate","sonification","fadeOutDuration","onEnd","onStop","stop","minFrequency","maxFrequency","volume","mute","immediately","onStopped","callbackData","instr","reset","e","disconnect"],"mappings":"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"}