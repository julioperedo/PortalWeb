{"version":3,"sources":["chartSonify.js"],"names":["H","Point","U","find","isArray","merge","pick","splat","utilities","getPointTimeValue","point","timeProp","options","getTimeExtremes","series","points","reduce","acc","value","min","Math","max","Infinity","getExtremesForInstrumentProps","chart","instruments","dataExtremes","newExtremes","instrumentDefinition","Object","keys","instrumentMapping","forEach","instrumentParameter","calculateDataExtremes","getPointEarcons","earconDefinitions","earcons","earconDefinition","cond","earcon","condition","sonification","Earcon","push","onPoint","id","makeInstrumentCopies","map","instrumentDef","instrument","copy","buildTimelinePathFromSeries","timeExtremes","pointPlayTime","timelineEvents","events","time","virtualAxisTranslate","duration","pointToTime","concat","TimelineEvent","eventObject","playOptions","TimelinePath","onStart","onEventStart","event","visible","some","timelinePath","timeline","pause","resetCursor","onPointStart","onEventEnd","eventData","onPointEnd","onEnd","seriesSonify","this","chartSonification","Timeline","paths","play","buildSeriesOptions","chartSonifyOptions","seriesOptions","onSeriesStart","onSeriesEnd","optEntry","buildPathOrder","orderOptions","seriesOptionsCallback","order","seriesList","orderList","orderDef","simulItems","items","item","itemObject","get","silentWait","length","addAfterSeriesWaits","wait","newOrder","i","simultaneousPaths","getWaitTime","waitTime","def","syncSimultaneousPaths","extremes","path","hasEvents","eventsToAdd","addTimelineEvents","getSimulPathDurationTotal","durationTotal","maxPathDuration","getSeriesDurationMs","seriesValueDuration","totalValueDuration","totalDurationMs","buildPathsFromOrder","totalAvailableDurationMs","totalUsedDuration","allPaths","simulPaths","getChartSonifyOptions","userOptions","chartSonify","opts","enabled","afterSeriesWait","getCurrentPoints","cursorObj","getCursor","filter","eventObj","setCursor","fadeOut","currentlyPlayingPoint","cancelSonify","resume","rewind","cancel","pauseSonify","resetSonifyCursor","resetCursorEnd","chartSonifyFunctions"],"mappings":"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"}