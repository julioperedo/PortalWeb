"use strict";import U from"../parts/Utilities.js";var correctFloat=U.correctFloat,isNumber=U.isNumber,merge=U.merge,seriesType=U.seriesType;import derivedSeriesMixin from"../mixins/derived-series.js";function mean(e){var t=e.length,i=e.reduce(function(e,t){return e+t},0);return t>0&&i/t}function standardDeviation(e,t){var i,r=e.length;return t=isNumber(t)?t:mean(e),i=e.reduce(function(e,i){var r=i-t;return e+r*r},0),r>1&&Math.sqrt(i/(r-1))}function normalDensity(e,t,i){var r=e-t;return Math.exp(-r*r/(2*i*i))/(i*Math.sqrt(2*Math.PI))}seriesType("bellcurve","areaspline",{intervals:3,pointsInInterval:3,marker:{enabled:!1}},merge(derivedSeriesMixin,{setMean:function(){this.mean=correctFloat(mean(this.baseSeries.yData))},setStandardDeviation:function(){this.standardDeviation=correctFloat(standardDeviation(this.baseSeries.yData,this.mean))},setDerivedData:function(){this.baseSeries.yData.length>1&&(this.setMean(),this.setStandardDeviation(),this.setData(this.derivedData(this.mean,this.standardDeviation),!1))},derivedData:function(e,t){var i,r=this.options.intervals,a=this.options.pointsInInterval,n=e-r*t,s=r*a*2+1,o=t/a,d=[];for(i=0;i<s;i++)d.push([n,normalDensity(n,e,t)]),n+=o;return d}}));