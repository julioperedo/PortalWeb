"use strict";import H from"./Globals.js";H.timers=[];var charts=H.charts,doc=H.doc,win=H.win;function error(t,e,r,n){var i=e?"Highcharts error":"Highcharts warning";32===t&&(t=i+": Deprecated member");var o=isNumber(t),a=o?i+" #"+t+": www.highcharts.com/errors/"+t+"/":t.toString(),s=function(){if(e)throw new Error(a);win.console&&-1===error.messages.indexOf(a)&&console.log(a)};if(void 0!==n){var c="";o&&(a+="?"),objectEach(n,function(t,e){c+="\n - "+e+": "+t,o&&(a+=encodeURI(e)+"="+encodeURI(t))}),a+=c}r?fireEvent(r,"displayError",{code:t,message:a,params:n},s):s(),error.messages.push(a)}!function(t){t.messages=[]}(error||(error={})),H.error=error;var Fx=function(){function t(t,e,r){this.options=e,this.elem=t,this.prop=r}return t.prototype.dSetter=function(){var t=this.paths,e=t&&t[0],r=t&&t[1],n=[],i=this.now||0;if(1!==i&&e&&r)if(e.length===r.length&&i<1)for(var o=0;o<r.length;o++){for(var a=e[o],s=r[o],c=[],l=0;l<s.length;l++){var u=a[l],p=s[l];"number"==typeof u&&"number"==typeof p&&("A"!==s[0]||4!==l&&5!==l)?c[l]=u+i*(p-u):c[l]=p}n.push(c)}else n=r;else n=this.toD||[];this.elem.attr("d",n,void 0,!0)},t.prototype.update=function(){var t=this.elem,e=this.prop,r=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,r,null,!0):t.style[e]=r+this.unit,n&&n.call(t,r,this)},t.prototype.run=function(t,e,r){var n=this,i=n.options,o=function(t){return!o.stopped&&n.step(t)},a=win.requestAnimationFrame||function(t){setTimeout(t,13)},s=function(){for(var t=0;t<H.timers.length;t++)H.timers[t]()||H.timers.splice(t--,1);H.timers.length&&a(s)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=r,this.now=this.start,this.pos=0,o.elem=this.elem,o.prop=this.prop,o()&&1===H.timers.push(o)&&a(s)):(delete i.curAnim[this.prop],i.complete&&0===Object.keys(i.curAnim).length&&i.complete.call(this.elem))},t.prototype.step=function(t){var e,r,n=+new Date,i=this.options,o=this.elem,a=i.complete,s=i.duration,c=i.curAnim;return o.attr&&!o.element?e=!1:t||n>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,r=!0,objectEach(c,function(t){!0!==t&&(r=!1)}),r&&a&&a.call(o),e=!1):(this.pos=i.easing((n-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},t.prototype.initPath=function(t,e,r){var n,i,o,a,s=t.startX,c=t.endX,l=e&&e.slice(),u=r.slice(),p=t.isArea,f=p?2:1;if(!l)return[u,u];function h(t,e){for(;t.length<i;){var r=t[0],n=e[i-t.length];n&&"M"===r[0]&&("C"===n[0]?t[0]=["C",r[1],r[2],r[1],r[2],r[1],r[2]]:t[0]=["L",r[1],r[2]]),t.unshift(r),p&&t.push(t[t.length-1])}}function d(t,e){for(;t.length<i;){var r=t[t.length/f-1].slice();if("C"===r[0]&&(r[1]=r[5],r[2]=r[6]),p){var n=t[t.length/f].slice();t.splice(t.length/2,0,r,n)}else t.push(r)}}if(s&&c){for(o=0;o<s.length;o++){if(s[o]===c[0]){n=o;break}if(s[0]===c[c.length-s.length+o]){n=o,a=!0;break}if(s[s.length-1]===c[c.length-s.length+o]){n=s.length-o;break}}void 0===n&&(l=[])}return l.length&&isNumber(n)&&(i=u.length+n*f,a?(h(l,u),d(u)):(h(u,l),d(l))),[l,u]},t.prototype.fillSetter=function(){t.prototype.strokeSetter.apply(this,arguments)},t.prototype.strokeSetter=function(){this.elem.attr(this.prop,H.color(this.start).tweenTo(H.color(this.end),this.pos),null,!0)},t}();function merge(){var t,e,r=arguments,n={},i=function(t,e){return"object"!=typeof t&&(t={}),objectEach(e,function(r,n){!isObject(r,!0)||isClass(r)||isDOMElement(r)?t[n]=e[n]:t[n]=i(t[n]||{},r)}),t};for(!0===r[0]&&(n=r[1],r=Array.prototype.slice.call(r,2)),e=r.length,t=0;t<e;t++)n=i(n,r[t]);return n}function clamp(t,e,r){return t>e?t<r?t:r:e}H.Fx=Fx,H.merge=merge;var pInt=H.pInt=function(t,e){return parseInt(t,e||10)},isString=H.isString=function(t){return"string"==typeof t},isArray=H.isArray=function(t){var e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e};function isObject(t,e){return!(!t||"object"!=typeof t||e&&isArray(t))}H.isObject=isObject;var isDOMElement=H.isDOMElement=function(t){return isObject(t)&&"number"==typeof t.nodeType},isClass=H.isClass=function(t){var e=t&&t.constructor;return!(!isObject(t,!0)||isDOMElement(t)||!e||!e.name||"Object"===e.name)},isNumber=H.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&t<1/0&&t>-1/0},erase=H.erase=function(t,e){for(var r=t.length;r--;)if(t[r]===e){t.splice(r,1);break}},defined=H.defined=function(t){return null!=t};function attr(t,e,r){var n;return isString(e)?defined(r)?t.setAttribute(e,r):t&&t.getAttribute&&((n=t.getAttribute(e))||"class"!==e||(n=t.getAttribute(e+"Name"))):objectEach(e,function(e,r){t.setAttribute(r,e)}),n}H.attr=attr;var splat=H.splat=function(t){return isArray(t)?t:[t]},syncTimeout=H.syncTimeout=function(t,e,r){return e>0?setTimeout(t,e,r):(t.call(0,r),-1)},internalClearTimeout=H.clearTimeout=function(t){defined(t)&&clearTimeout(t)},extend=H.extend=function(t,e){var r;for(r in t||(t={}),e)t[r]=e[r];return t};function pick(){for(var t=arguments,e=t.length,r=0;r<e;r++){var n=t[r];if(null!=n)return n}}H.pick=pick;var css=H.css=function(t,e){H.isMS&&!H.svg&&e&&void 0!==e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),extend(t.style,e)},createElement=H.createElement=function(t,e,r,n,i){var o=doc.createElement(t);return e&&extend(o,e),i&&css(o,{padding:"0",border:"none",margin:"0"}),r&&css(o,r),n&&n.appendChild(o),o},extendClass=H.extendClass=function(t,e){var r=function(){};return r.prototype=new t,extend(r.prototype,e),r},pad=H.pad=function(t,e,r){return new Array((e||2)+1-String(t).replace("-","").length).join(r||"0")+t},relativeLength=H.relativeLength=function(t,e,r){return/%$/.test(t)?e*parseFloat(t)/100+(r||0):parseFloat(t)},wrap=H.wrap=function(t,e,r){var n=t[e];t[e]=function(){var t,e=Array.prototype.slice.call(arguments),i=arguments,o=this;return o.proceed=function(){n.apply(o,arguments.length?arguments:i)},e.unshift(n),t=r.apply(this,e),o.proceed=null,t}},format=H.format=function(t,e,r){for(var n,i,o,a,s="{",c=!1,l=[],u=/f$/,p=/\.([0-9])/,f=H.defaultOptions.lang,h=r&&r.time||H.time,d=r&&r.numberFormatter||numberFormat;t&&-1!==(a=t.indexOf(s));){if(n=t.slice(0,a),c){if(o=getNestedProperty((i=n.split(":")).shift()||"",e),i.length&&"number"==typeof o)if(n=i.join(":"),u.test(n)){var m=parseInt((n.match(p)||["","-1"])[1],10);null!==o&&(o=d(o,m,f.decimalPoint,n.indexOf(",")>-1?f.thousandsSep:""))}else o=h.dateFormat(n,o);l.push(o)}else l.push(n);t=t.slice(a+1),s=(c=!c)?"}":"{"}return l.push(t),l.join("")},getMagnitude=H.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},normalizeTickInterval=H.normalizeTickInterval=function(t,e,r,n,i){var o,a,s=t;for(o=t/(r=pick(r,1)),e||(e=i?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===n&&(1===r?e=e.filter(function(t){return t%1==0}):r<=.1&&(e=[1/r]))),a=0;a<e.length&&(s=e[a],!(i&&s*r>=t||!i&&o<=(e[a]+(e[a+1]||e[a]))/2));a++);return s=correctFloat(s*r,-Math.round(Math.log(.001)/Math.LN10))},stableSort=H.stableSort=function(t,e){var r,n,i=t.length;for(n=0;n<i;n++)t[n].safeI=n;for(t.sort(function(t,n){return 0===(r=e(t,n))?t.safeI-n.safeI:r}),n=0;n<i;n++)delete t[n].safeI},arrayMin=H.arrayMin=function(t){for(var e=t.length,r=t[0];e--;)t[e]<r&&(r=t[e]);return r},arrayMax=H.arrayMax=function(t){for(var e=t.length,r=t[0];e--;)t[e]>r&&(r=t[e]);return r},destroyObjectProperties=H.destroyObjectProperties=function(t,e){objectEach(t,function(r,n){r&&r!==e&&r.destroy&&r.destroy(),delete t[n]})},discardElement=H.discardElement=function(t){var e=H.garbageBin;e||(e=createElement("div")),t&&e.appendChild(t),e.innerHTML=""},correctFloat=H.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},setAnimation=H.setAnimation=function(t,e){e.renderer.globalAnimation=pick(t,e.options.chart.animation,!0)},animObject=H.animObject=function(t){return isObject(t)?merge(t):{duration:t?500:0}},timeUnits=H.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},numberFormat=H.numberFormat=function(t,e,r,n){t=+t||0,e=+e;var i,o,a,s,c,l=H.defaultOptions.lang,u=(t.toString().split(".")[1]||"").split("e")[0].length,p=t.toString().split("e");return-1===e?e=Math.min(u,20):isNumber(e)?e&&p[1]&&p[1]<0&&((c=e+ +p[1])>=0?(p[0]=(+p[0]).toExponential(c).split("e")[0],e=c):(p[0]=p[0].split(".")[0]||0,t=e<20?(p[0]*Math.pow(10,p[1])).toFixed(e):0,p[1]=0)):e=2,s=(Math.abs(p[1]?p[0]:t)+Math.pow(10,-Math.max(e,u)-1)).toFixed(e),o=(i=String(pInt(s))).length>3?i.length%3:0,r=pick(r,l.decimalPoint),n=pick(n,l.thousandsSep),a=t<0?"-":"",a+=o?i.substr(0,o)+n:"",a+=i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n),e&&(a+=r+s.slice(-e)),p[1]&&0!=+a&&(a+="e"+p[1]),a};function getNestedProperty(t,e){if(!t)return e;var r=t.split(".").reverse(),n=e;if(1===r.length)return n[t];for(var i=r.pop();void 0!==i&&null!=n;)n=n[i],i=r.pop();return n}Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var getStyle=H.getStyle=function(t,e,r){var n;if("width"===e){var i=Math.min(t.offsetWidth,t.scrollWidth),o=t.getBoundingClientRect&&t.getBoundingClientRect().width;return o<i&&o>=i-1&&(i=Math.floor(o)),Math.max(0,i-H.getStyle(t,"padding-left")-H.getStyle(t,"padding-right"))}return"height"===e?Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-H.getStyle(t,"padding-top")-H.getStyle(t,"padding-bottom")):(win.getComputedStyle||error(27,!0),(n=win.getComputedStyle(t,void 0))&&(n=n.getPropertyValue(e),pick(r,"opacity"!==e)&&(n=pInt(n))),n)},inArray=H.inArray=function(t,e,r){return error(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),e.indexOf(t,r)},find=H.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var r,n=t.length;for(r=0;r<n;r++)if(e(t[r],r))return t[r]};H.keys=function(t){return error(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)};var offset=H.offset=function(t){var e=doc.documentElement,r=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0};return{top:r.top+(win.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(win.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},stop=H.stop=function(t,e){for(var r=H.timers.length;r--;)H.timers[r].elem!==t||e&&e!==H.timers[r].prop||(H.timers[r].stopped=!0)},objectEach=H.objectEach=function(t,e,r){for(var n in t)Object.hasOwnProperty.call(t,n)&&e.call(r||t[n],t[n],n,t)};objectEach({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(t,e){H[e]=function(r){var n;return error(32,!1,void 0,((n={})["Highcharts."+e]="use Array."+t,n)),Array.prototype[t].apply(r,[].slice.call(arguments,1))}});var serialMode,addEvent=H.addEvent=function(t,e,r,n){void 0===n&&(n={});var i,o=t.addEventListener||H.addEventListenerPolyfill;i="function"==typeof t&&t.prototype?t.prototype.protoEvents=t.prototype.protoEvents||{}:t.hcEvents=t.hcEvents||{},H.Point&&t instanceof H.Point&&t.series&&t.series.chart&&(t.series.chart.runTrackerClick=!0),o&&o.call(t,e,r,!1),i[e]||(i[e]=[]);var a={fn:r,order:"number"==typeof n.order?n.order:1/0};return i[e].push(a),i[e].sort(function(t,e){return t.order-e.order}),function(){removeEvent(t,e,r)}},removeEvent=H.removeEvent=function(t,e,r){var n;function i(e,r){var n=t.removeEventListener||H.removeEventListenerPolyfill;n&&n.call(t,e,r,!1)}function o(r){var n,o;t.nodeName&&(e?(n={})[e]=!0:n=r,objectEach(n,function(t,e){if(r[e])for(o=r[e].length;o--;)i(e,r[e][o].fn)}))}["protoEvents","hcEvents"].forEach(function(a,s){var c=s?t:t.prototype,l=c&&c[a];l&&(e?(n=l[e]||[],r?(l[e]=n.filter(function(t){return r!==t.fn}),i(e,r)):(o(l),l[e]=[])):(o(l),c[a]={}))})},fireEvent=H.fireEvent=function(t,e,r,n){var i,o;if(r=r||{},doc.createEvent&&(t.dispatchEvent||t.fireEvent))(i=doc.createEvent("Events")).initEvent(e,!0,!0),extend(i,r),t.dispatchEvent?t.dispatchEvent(i):t.fireEvent(e,i);else{r.target||extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:t,type:e});!function(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=0,a=0,s=e.length+n.length;for(o=0;o<s;o++)!1===(e[i]?n[a]?e[i].order<=n[a].order?e[i++]:n[a++]:e[i++]:n[a++]).fn.call(t,r)&&r.preventDefault()}(t.protoEvents&&t.protoEvents[e],t.hcEvents&&t.hcEvents[e])}n&&!r.defaultPrevented&&n.call(t,r)},animate=H.animate=function(t,e,r){var n,i,o,a,s="";isObject(r)||(r={duration:(a=arguments)[2],easing:a[3],complete:a[4]}),isNumber(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=merge(e),objectEach(e,function(a,c){stop(t,c),o=new Fx(t,r,c),i=null,"d"===c&&isArray(e.d)?(o.paths=o.initPath(t,t.pathArray,e.d),o.toD=e.d,n=0,i=1):t.attr?n=t.attr(c):(n=parseFloat(getStyle(t,c))||0,"opacity"!==c&&(s="px")),i||(i=a),i&&i.match&&i.match("px")&&(i=i.replace(/px/g,"")),o.run(n,i,s)})},seriesType=H.seriesType=function(t,e,r,n,i){var o=getOptions(),a=H.seriesTypes;return o.plotOptions[t]=merge(o.plotOptions[e],r),a[t]=extendClass(a[e]||function(){},n),a[t].prototype.type=t,i&&(a[t].prototype.pointClass=extendClass(H.Point,i)),a[t]},uniqueKey=H.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9)+"-",e=0;return function(){return"highcharts-"+(serialMode?"":t)+e++}}(),useSerialIds=H.useSerialIds=function(t){return serialMode=pick(t,serialMode)},isFunction=H.isFunction=function(t){return"function"==typeof t},getOptions=H.getOptions=function(){return H.defaultOptions},setOptions=H.setOptions=function(t){return H.defaultOptions=merge(!0,H.defaultOptions,t),(t.time||t.global)&&H.time.update(merge(H.defaultOptions.global,H.defaultOptions.time,t.global,t.time)),H.defaultOptions};win.jQuery&&(win.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(H[isString(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):charts[attr(this[0],"data-highcharts-chart")]});var utilitiesModule={Fx:H.Fx,addEvent:addEvent,animate:animate,animObject:animObject,arrayMax:arrayMax,arrayMin:arrayMin,attr:attr,clamp:clamp,clearTimeout:internalClearTimeout,correctFloat:correctFloat,createElement:createElement,css:css,defined:defined,destroyObjectProperties:destroyObjectProperties,discardElement:discardElement,erase:erase,error:error,extend:extend,extendClass:extendClass,find:find,fireEvent:fireEvent,format:format,getMagnitude:getMagnitude,getNestedProperty:getNestedProperty,getOptions:getOptions,getStyle:getStyle,inArray:inArray,isArray:isArray,isClass:isClass,isDOMElement:isDOMElement,isFunction:isFunction,isNumber:isNumber,isObject:isObject,isString:isString,merge:merge,normalizeTickInterval:normalizeTickInterval,numberFormat:numberFormat,objectEach:objectEach,offset:offset,pad:pad,pick:pick,pInt:pInt,relativeLength:relativeLength,removeEvent:removeEvent,seriesType:seriesType,setAnimation:setAnimation,setOptions:setOptions,splat:splat,stableSort:stableSort,stop:stop,syncTimeout:syncTimeout,timeUnits:timeUnits,uniqueKey:uniqueKey,useSerialIds:useSerialIds,wrap:wrap};export default utilitiesModule;