"use strict";import U from"../Core/Utilities.js";const{defined,extend,pick,pushUnique,wrap}=U;var MapPointer;!function(t){const o=[];let a=0,e;function i(t){const o=this.chart;t=this.normalize(t),o.options.mapNavigation.enableDoubleClickZoomTo?o.pointer.inClass(t.target,"highcharts-tracker")&&o.hoverPoint&&o.hoverPoint.zoomTo():o.isInsidePlot(t.chartX-o.plotLeft,t.chartY-o.plotTop)&&o.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)}function n(t){const o=this.chart;t=this.normalize(t);var i=defined(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(i)&&(a+=Math.abs(i),e&&clearTimeout(e),e=setTimeout(()=>{a=0},50)),a<10&&o.isInsidePlot(t.chartX-o.plotLeft,t.chartY-o.plotTop)&&o.mapView&&o.mapView.zoomBy((o.options.mapNavigation.mouseWheelSensitivity-1)*-i,void 0,[t.chartX,t.chartY],!(Math.abs(i)<1)&&void 0)}function r(t,o,i){const a=this.chart;return o=t.call(this,o,i),a&&a.mapView&&((t=a.mapView.pixelsToLonLat({x:o.chartX-a.plotLeft,y:o.chartY-a.plotTop}))&&extend(o,t)),o}function s(t,o,i,a,e,n,r){t.call(this,o,i,a,e,n,r),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=a.scaleX>a.scaleY,this.pinchTranslateDirection(!t,o,i,a,e,n,r,t?a.scaleX:a.scaleY))}function c(t){var o=this.chart.options.mapNavigation;o&&pick(o.enableTouchZoom,o.enabled)&&(this.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))}t.compose=function(t){pushUnique(o,t)&&(t=t.prototype,extend(t,{onContainerDblClick:i,onContainerMouseWheel:n}),wrap(t,"normalize",r),wrap(t,"pinchTranslate",s),wrap(t,"zoomOption",c))}}(MapPointer=MapPointer||{});export default MapPointer;