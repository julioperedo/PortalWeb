"use strict";import H from"../../../Core/Globals.js";const noop=H["noop"];import SeriesRegistry from"../../../Core/Series/SeriesRegistry.js";const{column:{prototype:columnProto},sma:SMAIndicator}=SeriesRegistry.seriesTypes;import U from"../../../Core/Utilities.js";const{extend,merge,correctFloat,isArray}=U;class AOIndicator extends SMAIndicator{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0}drawGraph(){const o=this,r=o.options,t=o.points,e=o.userOptions.color,s=r.greaterBarColor,a=r.lowerBarColor,i=t[0];let n;if(!e&&i)for(i.color=s,n=1;n<t.length;n++)t[n].y>t[n-1].y?t[n].color=s:t[n].y<t[n-1].y?t[n].color=a:t[n].color=t[n-1].color}getValues(o){const r=34,t=o.xData||[],e=o.yData||[],s=e.length,a=[],i=[],n=[];let c,l,p,d,m,u,g,h,y=0,f=0;if(!(t.length<=r)&&isArray(e[0])&&4===e[0].length){for(g=0;g<33;g++)u=(e[g][1]+e[g][2])/2,29<=g&&(f=correctFloat(f+u)),y=correctFloat(y+u);for(h=33;h<s;h++)u=(e[h][1]+e[h][2])/2,f=correctFloat(f+u),y=correctFloat(y+u),c=f/5,l=y/r,p=correctFloat(c-l),a.push([t[h],p]),i.push(t[h]),n.push(p),d=h+1-5,m=h+1-r,f=correctFloat(f-(e[d][1]+e[d][2])/2),y=correctFloat(y-(e[m][1]+e[m][2])/2);return{values:a,xData:i,yData:n}}}}AOIndicator.defaultOptions=merge(SMAIndicator.defaultOptions,{params:{index:void 0,period:void 0},greaterBarColor:"#06b535",lowerBarColor:"#f21313",threshold:0,groupPadding:.2,pointPadding:.2,crisp:!1,states:{hover:{halo:{size:0}}}}),extend(AOIndicator.prototype,{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:columnProto.getColumnMetrics,crispCol:columnProto.crispCol,translate:columnProto.translate,drawPoints:columnProto.drawPoints}),SeriesRegistry.registerSeriesType("ao",AOIndicator);export default AOIndicator;