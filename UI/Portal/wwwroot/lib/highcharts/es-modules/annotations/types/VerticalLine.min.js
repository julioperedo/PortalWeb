"use strict";import Annotation from"../annotations.src.js";import H from"../../parts/Globals.js";import MockPoint from"../MockPoint.js";import U from"../../parts/Utilities.js";var merge=U.merge,VerticalLine=function(){Annotation.apply(this,arguments)};VerticalLine.connectorFirstPoint=function(t){var o=t.annotation,n=o.points[0],i=MockPoint.pointToPixels(n,!0),e=i.y,r=o.options.typeOptions.label.offset;return o.chart.inverted&&(e=i.x),{x:n.x,xAxis:n.series.xAxis,y:e+r}},VerticalLine.connectorSecondPoint=function(t){var o=t.annotation,n=o.options.typeOptions,i=o.points[0],e=n.yOffset,r=MockPoint.pointToPixels(i,!0)[o.chart.inverted?"x":"y"];return n.label.offset<0&&(e*=-1),{x:i.x,xAxis:i.series.xAxis,y:r+e}},H.extendAnnotation(VerticalLine,null,{getPointsOptions:function(){return[this.options.typeOptions.point]},addShapes:function(){var t=this.options.typeOptions,o=this.initShape(merge(t.connector,{type:"path",points:[VerticalLine.connectorFirstPoint,VerticalLine.connectorSecondPoint]}),!1);t.connector=o.options},addLabels:function(){var t=this.options.typeOptions,o=t.label,n=0,i=o.offset,e=o.offset<0?"bottom":"top",r="center";this.chart.inverted&&(n=o.offset,i=0,e="middle",r=o.offset<0?"right":"left");var s=this.initLabel(merge(o,{verticalAlign:e,align:r,x:n,y:i}));t.label=s.options}},{typeOptions:{yOffset:10,label:{offset:-40,point:function(t){return t.annotation.points[0]},allowOverlap:!0,backgroundColor:"none",borderWidth:0,crop:!0,overflow:"none",shape:"rect",text:"{y:.2f}"},connector:{strokeWidth:1,markerEnd:"arrow"}}}),Annotation.types.verticalLine=VerticalLine;export default VerticalLine;