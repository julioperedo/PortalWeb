"use strict";import H from"./Globals.js";const{charts,doc,win}=H;function error(e,t,n,r){var i=t?"Highcharts error":"Highcharts warning";const o=isNumber(e=32===e?i+": Deprecated member":e);let s=o?i+` #${e}: www.highcharts.com/errors/${e}/`:e.toString();if(void 0!==r){let n="";o&&(s+="?"),objectEach(r,function(e,t){n+=`
 - ${t}: `+e,o&&(s+=encodeURI(t)+"="+encodeURI(e))}),s+=n}fireEvent(H,"displayError",{chart:n,code:e,message:s,params:r},function(){if(t)throw new Error(s);win.console&&-1===error.messages.indexOf(s)&&console.warn(s)}),error.messages.push(s)}function merge(){let e,t=arguments,n={};function i(n,r){return"object"!=typeof n&&(n={}),objectEach(r,function(e,t){"__proto__"!==t&&"constructor"!==t&&(!isObject(e,!0)||isClass(e)||isDOMElement(e)?n[t]=r[t]:n[t]=i(n[t]||{},e))}),n}!0===t[0]&&(n=t[1],t=Array.prototype.slice.call(t,2));var r=t.length;for(e=0;e<r;e++)n=i(n,t[e]);return n}function clamp(e,t,n){return t<e?e<n?e:n:t}function diffObjects(e,t,n,a){var r={};return function r(e,i,o,s){const c=n?i:e;objectEach(e,function(t,n){if(!s&&a&&-1<a.indexOf(n)&&i[n]){t=splat(t),o[n]=[];for(let e=0;e<Math.max(t.length,i[n].length);e++)i[n][e]&&(void 0===t[e]?o[n][e]=i[n][e]:(o[n][e]={},r(t[e],i[n][e],o[n][e],s+1)))}else isObject(t,!0)&&!t.nodeType?(o[n]=isArray(t)?[]:{},r(t,i[n]||{},o[n],s+1),0!==Object.keys(o[n]).length||"colorAxis"===n&&0===s||delete o[n]):(e[n]!==i[n]||n in e&&!(n in i))&&(o[n]=c[n])})}(e,t,r,0),r}function pInt(e,t){return parseInt(e,t||10)}function isString(e){return"string"==typeof e}function isArray(e){e=Object.prototype.toString.call(e);return"[object Array]"===e||"[object Array Iterator]"===e}function isObject(e,t){return!(!e||"object"!=typeof e||t&&isArray(e))}function isDOMElement(e){return isObject(e)&&"number"==typeof e.nodeType}function isClass(e){var t=e&&e.constructor;return!(!isObject(e,!0)||isDOMElement(e)||!t||!t.name||"Object"===t.name)}function isNumber(e){return"number"==typeof e&&!isNaN(e)&&e<1/0&&-1/0<e}function erase(e,t){let n=e.length;for(;n--;)if(e[n]===t){e.splice(n,1);break}}function insertItem(e,t){var n=e.options.index,r=t.length;let i;for(i=e.options.isInternal?r:0;i<r+1;i++)if(!t[i]||isNumber(n)&&n<pick(t[i].options.index,t[i]._i)||t[i].options.isInternal){t.splice(i,0,e);break}return i}function pushUnique(e,t){return e.indexOf(t)<0&&!!e.push(t)}function defined(e){return null!=e}function attr(n,e,t){const r=isString(e)&&!defined(t);let i;var o=(e,t)=>{defined(e)?n.setAttribute(t,e):r?(i=n.getAttribute(t))||"class"!==t||(i=n.getAttribute(t+"Name")):n.removeAttribute(t)};return isString(e)?o(t,e):objectEach(e,o),i}function splat(e){return isArray(e)?e:[e]}function syncTimeout(e,t,n){return 0<t?setTimeout(e,t,n):(e.call(0,n),-1)}function internalClearTimeout(e){defined(e)&&clearTimeout(e)}function extend(e,t){let n;for(n in e=e||{},t)e[n]=t[n];return e}function pick(){var t=arguments,n=t.length;for(let e=0;e<n;e++){var r=t[e];if(null!=r)return r}}function css(e,t){H.isMS&&!H.svg&&t&&defined(t.opacity)&&(t.filter=`alpha(opacity=${100*t.opacity})`),extend(e.style,t)}function createElement(e,t,n,r,i){e=doc.createElement(e);return t&&extend(e,t),i&&css(e,{padding:"0",border:"none",margin:"0"}),n&&css(e,n),r&&r.appendChild(e),e}function extendClass(e,t){function n(){}return extend(n.prototype=new e,t),n}function pad(e,t,n){return new Array((t||2)+1-String(e).replace("-","").length).join(n||"0")+e}function relativeLength(e,t,n){return/%$/.test(e)?t*parseFloat(e)/100+(n||0):parseFloat(e)}function wrap(e,t,n){const r=e[t];e[t]=function(){const e=arguments,t=this;return n.apply(this,[function(){return r.apply(t,arguments.length?arguments:e)}].concat([].slice.call(arguments)))}}function getMagnitude(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function normalizeTickInterval(e,t,n,r,i){let o,s=e;var c=e/(n=pick(n,getMagnitude(e)));for(t||(t=i?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?t=t.filter(function(e){return e%1==0}):n<=.1&&(t=[1/n]))),o=0;o<t.length&&(s=t[o],!(i&&s*n>=e||!i&&c<=(t[o]+(t[o+1]||t[o]))/2));o++);return s=correctFloat(s*n,-Math.round(Math.log(.001)/Math.LN10))}function stableSort(e,n){var t=e.length;let r,i;for(i=0;i<t;i++)e[i].safeI=i;for(e.sort(function(e,t){return 0===(r=n(e,t))?e.safeI-t.safeI:r}),i=0;i<t;i++)delete e[i].safeI}function arrayMin(e){let t=e.length,n=e[0];for(;t--;)e[t]<n&&(n=e[t]);return n}function arrayMax(e){let t=e.length,n=e[0];for(;t--;)e[t]>n&&(n=e[t]);return n}function destroyObjectProperties(n,r){objectEach(n,function(e,t){e&&e!==r&&e.destroy&&e.destroy(),delete n[t]})}function discardElement(e){e&&e.parentElement&&e.parentElement.removeChild(e)}function correctFloat(e,t){return 1e14<e?e:parseFloat(e.toPrecision(t||14))}(error=error||{}).messages=[];const timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5};function getClosestDistance(e,t){const n=!t;let r,i,o,s;return e.forEach(e=>{if(1<e.length)for(i=e.length-1,s=i;0<s;s--)(o=e[s]-e[s-1])<0&&!n?(t?.(),t=void 0):o&&(void 0===r||o<r)&&(r=o)}),r}function getNestedProperty(e,t){const n=e.split(".");for(;n.length&&defined(t);){var r=n.shift();if(void 0===r||"__proto__"===r)return;if("this"===r){let e;return(e=isObject(t)?t["@this"]:e)??t}r=t[r];if(!defined(r)||"function"==typeof r||"number"==typeof r.nodeType||r===win)return;t=r}return t}function getStyle(t,e,n){let r;if("width"===e){let e=Math.min(t.offsetWidth,t.scrollWidth);var i=t.getBoundingClientRect&&t.getBoundingClientRect().width;return i<e&&i>=e-1&&(e=Math.floor(i)),Math.max(0,e-(getStyle(t,"padding-left",!0)||0)-(getStyle(t,"padding-right",!0)||0))}if("height"===e)return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(getStyle(t,"padding-top",!0)||0)-(getStyle(t,"padding-bottom",!0)||0));const o=win.getComputedStyle(t,void 0);return o&&(r=o.getPropertyValue(e),pick(n,"opacity"!==e)&&(r=pInt(r))),r}function inArray(e,t,n){return error(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),t.indexOf(e,n)}Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)};const find=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){let n;var r=e.length;for(n=0;n<r;n++)if(t(e[n],n))return e[n]};function keys(e){return error(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(e)}function offset(e){var t=doc.documentElement,e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:e.top+(win.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(win.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}}function objectEach(e,t,n){for(const r in e)Object.hasOwnProperty.call(e,r)&&t.call(n||e[r],e[r],r,e)}function addEvent(e,t,n,r={}){const i="function"==typeof e&&e.prototype||e,o=(Object.hasOwnProperty.call(i,"hcEvents")||(i.hcEvents={}),i.hcEvents),s=(H.Point&&e instanceof H.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),e.addEventListener);s&&s.call(e,t,n,!!H.supportsPassiveEvents&&{passive:void 0===r.passive?-1!==t.indexOf("touch"):r.passive,capture:!1}),o[t]||(o[t]=[]);r={fn:n,order:"number"==typeof r.order?r.order:1/0};return o[t].push(r),o[t].sort((e,t)=>e.order-t.order),function(){removeEvent(e,t,n)}}function removeEvent(i,t,n){function o(e,t){const n=i.removeEventListener;n&&n.call(i,e,t,!1)}function e(n){let e,r;i.nodeName&&(t?(e={})[t]=!0:e=n,objectEach(e,function(e,t){if(n[t])for(r=n[t].length;r--;)o(t,n[t][r].fn)}))}const r="function"==typeof i&&i.prototype||i;if(Object.hasOwnProperty.call(r,"hcEvents")){const s=r.hcEvents;if(t){const c=s[t]||[];n?(s[t]=c.filter(function(e){return n!==e.fn}),o(t,n)):(e(s),s[t]=[])}else e(s),delete r.hcEvents}}function fireEvent(n,r,i,e){let t;if(i=i||{},doc.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==H))(t=doc.createEvent("Events")).initEvent(r,!0,!0),i=extend(t,i),n.dispatchEvent?n.dispatchEvent(i):n.fireEvent(r,i);else if(n.hcEvents){i.target||extend(i,{preventDefault:function(){i.defaultPrevented=!0},target:n,type:r});const o=[];let e=n,t=!1;for(;e.hcEvents;)Object.hasOwnProperty.call(e,"hcEvents")&&e.hcEvents[r]&&(o.length&&(t=!0),o.unshift.apply(o,e.hcEvents[r])),e=Object.getPrototypeOf(e);t&&o.sort((e,t)=>e.order-t.order),o.forEach(e=>{!1===e.fn.call(n,i)&&i.preventDefault()})}e&&!i.defaultPrevented&&e.call(n,i)}objectEach({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(t,n){H[n]=function(e){return error(32,!1,void 0,{["Highcharts."+n]:"use Array."+t}),Array.prototype[t].apply(e,[].slice.call(arguments,1))}});let serialMode;const uniqueKey=function(){const e=Math.random().toString(36).substring(2,9)+"-";let t=0;return function(){return"highcharts-"+(serialMode?"":e)+t++}}();function useSerialIds(e){return serialMode=pick(e,serialMode)}function isFunction(e){return"function"==typeof e}win.jQuery&&(win.jQuery.fn.highcharts=function(){const e=[].slice.call(arguments);if(this[0])return e[0]?(new H[isString(e[0])?e.shift():"Chart"](this[0],e[0],e[1]),this):charts[attr(this[0],"data-highcharts-chart")]});const Utilities={addEvent:addEvent,arrayMax:arrayMax,arrayMin:arrayMin,attr:attr,clamp:clamp,clearTimeout:internalClearTimeout,correctFloat:correctFloat,createElement:createElement,css:css,defined:defined,destroyObjectProperties:destroyObjectProperties,diffObjects:diffObjects,discardElement:discardElement,erase:erase,error:error,extend:extend,extendClass:extendClass,find:find,fireEvent:fireEvent,getClosestDistance:getClosestDistance,getMagnitude:getMagnitude,getNestedProperty:getNestedProperty,getStyle:getStyle,inArray:inArray,insertItem:insertItem,isArray:isArray,isClass:isClass,isDOMElement:isDOMElement,isFunction:isFunction,isNumber:isNumber,isObject:isObject,isString:isString,keys:keys,merge:merge,normalizeTickInterval:normalizeTickInterval,objectEach:objectEach,offset:offset,pad:pad,pick:pick,pInt:pInt,pushUnique:pushUnique,relativeLength:relativeLength,removeEvent:removeEvent,splat:splat,stableSort:stableSort,syncTimeout:syncTimeout,timeUnits:timeUnits,uniqueKey:uniqueKey,useSerialIds:useSerialIds,wrap:wrap};export default Utilities;