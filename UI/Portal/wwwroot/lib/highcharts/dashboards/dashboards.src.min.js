!function(e,t){"object"==typeof module&&module.exports?(t.default=t,module.exports=e.document?t(e):t):"function"==typeof define&&define.amd?define("dashboards/dashboards",function(){return t(e)}):(e.Dashboards&&e.Dashboards.error(16,!0),e.Dashboards=t(e))}("undefined"!=typeof window?window:this,function(E){"use strict";var e={};function t(e,t,o,s){e.hasOwnProperty(t)||(e[t]=s.apply(null,o),"function"==typeof CustomEvent&&E.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:t,module:e[t]}})))}return t(e,"Core/Globals.js",[],function(){var e,o;return(o=e=e||{}).SVG_NS="http://www.w3.org/2000/svg",o.product="Highcharts",o.version="",o.win=void 0!==E?E:{},o.doc=o.win.document,o.svg=o.doc&&o.doc.createElementNS&&!!o.doc.createElementNS(o.SVG_NS,"svg").createSVGRect,o.userAgent=o.win.navigator&&o.win.navigator.userAgent||"",o.isChrome=-1!==o.userAgent.indexOf("Chrome"),o.isFirefox=-1!==o.userAgent.indexOf("Firefox"),o.isMS=/(edge|msie|trident)/i.test(o.userAgent)&&!o.win.opera,o.isSafari=!o.isChrome&&-1!==o.userAgent.indexOf("Safari"),o.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(o.userAgent),o.isWebKit=-1!==o.userAgent.indexOf("AppleWebKit"),o.deg2rad=2*Math.PI/360,o.hasBidiBug=o.isFirefox&&parseInt(o.userAgent.split("Firefox/")[1],10)<4,o.hasTouch=!!o.win.TouchEvent,o.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],o.noop=function(){},o.supportsPassiveEvents=function(){let e=!1;var t;return o.isMS||(t=Object.defineProperty({},"passive",{get:function(){e=!0}}),o.win.addEventListener&&o.win.removeEventListener&&(o.win.addEventListener("testPassive",o.noop,t),o.win.removeEventListener("testPassive",o.noop,t))),e}(),o.charts=[],o.dateFormats={},o.seriesTypes={},o.symbolSizes={},o.chartCount=0,e}),t(e,"Core/Utilities.js",[e["Core/Globals.js"]],function(a){const{charts:t,doc:r,win:l}=a;function c(e,t,o,s){var n=t?"Highcharts error":"Highcharts warning";const i=f(e=32===e?n+": Deprecated member":e);let r=i?n+` #${e}: www.highcharts.com/errors/${e}/`:e.toString();if(void 0!==s){let o="";i&&(r+="?"),E(s,function(e,t){o+=`
 - ${t}: `+e,i&&(r+=encodeURI(t)+"="+encodeURI(e))}),r+=o}D(a,"displayError",{chart:o,code:e,message:r,params:s},function(){if(t)throw new Error(r);l.console&&-1===c.messages.indexOf(r)&&console.warn(r)}),c.messages.push(r)}function d(e,t){return parseInt(e,t||10)}function h(e){return"string"==typeof e}function u(e){e=Object.prototype.toString.call(e);return"[object Array]"===e||"[object Array Iterator]"===e}function p(e,t){return!(!e||"object"!=typeof e||t&&u(e))}function i(e){return p(e)&&"number"==typeof e.nodeType}function m(e){var t=e&&e.constructor;return!(!p(e,!0)||i(e)||!t||!t.name||"Object"===t.name)}function f(e){return"number"==typeof e&&!isNaN(e)&&e<1/0&&-1/0<e}function g(e){return null!=e}function o(o,e,t){const s=h(e)&&!g(t);let n;var i=(e,t)=>{g(e)?o.setAttribute(t,e):s?(n=o.getAttribute(t))||"class"!==t||(n=o.getAttribute(t+"Name")):o.removeAttribute(t)};return h(e)?i(t,e):E(e,i),n}function b(e){return u(e)?e:[e]}function y(e,t){let o;for(o in e=e||{},t)e[o]=t[o];return e}function C(){var t=arguments,o=t.length;for(let e=0;e<o;e++){var s=t[e];if(null!=s)return s}}function v(e,t){a.isMS&&!a.svg&&t&&g(t.opacity)&&(t.filter=`alpha(opacity=${100*t.opacity})`),y(e.style,t)}function w(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function x(e,t){return 1e14<e?e:parseFloat(e.toPrecision(t||14))}(c=c||{}).messages=[];Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)};var e=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){let o;var s=e.length;for(o=0;o<s;o++)if(t(e[o],o))return e[o]};function E(e,t,o){for(const s in e)Object.hasOwnProperty.call(e,s)&&t.call(o||e[s],e[s],s,e)}function N(n,t,o){function i(e,t){const o=n.removeEventListener;o&&o.call(n,e,t,!1)}function e(o){let e,s;n.nodeName&&(t?(e={})[t]=!0:e=o,E(e,function(e,t){if(o[t])for(s=o[t].length;s--;)i(t,o[t][s].fn)}))}const s="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(s,"hcEvents")){const r=s.hcEvents;if(t){const a=r[t]||[];o?(r[t]=a.filter(function(e){return o!==e.fn}),i(t,o)):(e(r),r[t]=[])}else e(r),delete s.hcEvents}}function D(o,s,n,e){let t;if(n=n||{},r.createEvent&&(o.dispatchEvent||o.fireEvent&&o!==a))(t=r.createEvent("Events")).initEvent(s,!0,!0),n=y(t,n),o.dispatchEvent?o.dispatchEvent(n):o.fireEvent(s,n);else if(o.hcEvents){n.target||y(n,{preventDefault:function(){n.defaultPrevented=!0},target:o,type:s});const i=[];let e=o,t=!1;for(;e.hcEvents;)Object.hasOwnProperty.call(e,"hcEvents")&&e.hcEvents[s]&&(i.length&&(t=!0),i.unshift.apply(i,e.hcEvents[s])),e=Object.getPrototypeOf(e);t&&i.sort((e,t)=>e.order-t.order),i.forEach(e=>{!1===e.fn.call(o,n)&&n.preventDefault()})}e&&!n.defaultPrevented&&e.call(o,n)}E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(t,o){a[o]=function(e){return c(32,!1,void 0,{["Highcharts."+o]:"use Array."+t}),Array.prototype[t].apply(e,[].slice.call(arguments,1))}});let s;var n=function(){const e=Math.random().toString(36).substring(2,9)+"-";let t=0;return function(){return"highcharts-"+(s?"":e)+t++}}();return l.jQuery&&(l.jQuery.fn.highcharts=function(){const e=[].slice.call(arguments);if(this[0])return e[0]?(new a[h(e[0])?e.shift():"Chart"](this[0],e[0],e[1]),this):t[o(this[0],"data-highcharts-chart")]}),{addEvent:function(e,t,o,s={}){const n="function"==typeof e&&e.prototype||e,i=(Object.hasOwnProperty.call(n,"hcEvents")||(n.hcEvents={}),n.hcEvents),r=(a.Point&&e instanceof a.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),e.addEventListener);return r&&r.call(e,t,o,!!a.supportsPassiveEvents&&{passive:void 0===s.passive?-1!==t.indexOf("touch"):s.passive,capture:!1}),i[t]||(i[t]=[]),s={fn:o,order:"number"==typeof s.order?s.order:1/0},i[t].push(s),i[t].sort((e,t)=>e.order-t.order),function(){N(e,t,o)}},arrayMax:function(e){let t=e.length,o=e[0];for(;t--;)e[t]>o&&(o=e[t]);return o},arrayMin:function(e){let t=e.length,o=e[0];for(;t--;)e[t]<o&&(o=e[t]);return o},attr:o,clamp:function(e,t,o){return t<e?e<o?e:o:t},clearTimeout:function(e){g(e)&&clearTimeout(e)},correctFloat:x,createElement:function(e,t,o,s,n){return e=r.createElement(e),t&&y(e,t),n&&v(e,{padding:"0",border:"none",margin:"0"}),o&&v(e,o),s&&s.appendChild(e),e},css:v,defined:g,destroyObjectProperties:function(o,s){E(o,function(e,t){e&&e!==s&&e.destroy&&e.destroy(),delete o[t]})},diffObjects:function(e,t,o,l){var s={};return function s(e,n,i,r){const a=o?n:e;E(e,function(t,o){if(!r&&l&&-1<l.indexOf(o)&&n[o]){t=b(t),i[o]=[];for(let e=0;e<Math.max(t.length,n[o].length);e++)n[o][e]&&(void 0===t[e]?i[o][e]=n[o][e]:(i[o][e]={},s(t[e],n[o][e],i[o][e],r+1)))}else p(t,!0)&&!t.nodeType?(i[o]=u(t)?[]:{},s(t,n[o]||{},i[o],r+1),0!==Object.keys(i[o]).length||"colorAxis"===o&&0===r||delete i[o]):(e[o]!==n[o]||o in e&&!(o in n))&&(i[o]=a[o])})}(e,t,s,0),s},discardElement:function(e){e&&e.parentElement&&e.parentElement.removeChild(e)},erase:function(e,t){let o=e.length;for(;o--;)if(e[o]===t){e.splice(o,1);break}},error:c,extend:y,extendClass:function(e,t){function o(){}return y(o.prototype=new e,t),o},find:e,fireEvent:D,getClosestDistance:function(e,t){const o=!t;let s,n,i,r;return e.forEach(e=>{if(1<e.length)for(n=e.length-1,r=n;0<r;r--)(i=e[r]-e[r-1])<0&&!o?(t?.(),t=void 0):i&&(void 0===s||i<s)&&(s=i)}),s},getMagnitude:w,getNestedProperty:function(e,t){const o=e.split(".");for(;o.length&&g(t);){var s=o.shift();if(void 0===s||"__proto__"===s)return;if("this"===s){let e;return(e=p(t)?t["@this"]:e)??t}s=t[s];if(!g(s)||"function"==typeof s||"number"==typeof s.nodeType||s===l)return;t=s}return t},getStyle:function t(o,e,s){let n;if("width"===e){let e=Math.min(o.offsetWidth,o.scrollWidth);var i=o.getBoundingClientRect&&o.getBoundingClientRect().width;return i<e&&i>=e-1&&(e=Math.floor(i)),Math.max(0,e-(t(o,"padding-left",!0)||0)-(t(o,"padding-right",!0)||0))}if("height"===e)return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(t(o,"padding-top",!0)||0)-(t(o,"padding-bottom",!0)||0));const r=l.getComputedStyle(o,void 0);return r&&(n=r.getPropertyValue(e),C(s,"opacity"!==e)&&(n=d(n))),n},inArray:function(e,t,o){return c(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),t.indexOf(e,o)},insertItem:function(e,t){var o=e.options.index,s=t.length;let n;for(n=e.options.isInternal?s:0;n<s+1;n++)if(!t[n]||f(o)&&o<C(t[n].options.index,t[n]._i)||t[n].options.isInternal){t.splice(n,0,e);break}return n},isArray:u,isClass:m,isDOMElement:i,isFunction:function(e){return"function"==typeof e},isNumber:f,isObject:p,isString:h,keys:function(e){return c(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(e)},merge:function(){let e,t=arguments,o={};function n(o,s){return"object"!=typeof o&&(o={}),E(s,function(e,t){"__proto__"!==t&&"constructor"!==t&&(!p(e,!0)||m(e)||i(e)?o[t]=s[t]:o[t]=n(o[t]||{},e))}),o}!0===t[0]&&(o=t[1],t=Array.prototype.slice.call(t,2));var s=t.length;for(e=0;e<s;e++)o=n(o,t[e]);return o},normalizeTickInterval:function(e,t,o,s,n){let i,r=e;var a=e/(o=C(o,w(e)));for(t||(t=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===o?t=t.filter(function(e){return e%1==0}):o<=.1&&(t=[1/o]))),i=0;i<t.length&&(r=t[i],!(n&&r*o>=e||!n&&a<=(t[i]+(t[i+1]||t[i]))/2));i++);return r=x(r*o,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(e){var t=r.documentElement;return{top:(e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(l.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(l.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:e.width,height:e.height}},pad:function(e,t,o){return new Array((t||2)+1-String(e).replace("-","").length).join(o||"0")+e},pick:C,pInt:d,pushUnique:function(e,t){return e.indexOf(t)<0&&!!e.push(t)},relativeLength:function(e,t,o){return/%$/.test(e)?t*parseFloat(e)/100+(o||0):parseFloat(e)},removeEvent:N,splat:b,stableSort:function(e,o){var t=e.length;let s,n;for(n=0;n<t;n++)e[n].safeI=n;for(e.sort(function(e,t){return 0===(s=o(e,t))?e.safeI-t.safeI:s}),n=0;n<t;n++)delete e[n].safeI},syncTimeout:function(e,t,o){return 0<t?setTimeout(e,t,o):(e.call(0,o),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:n,useSerialIds:function(e){return s=C(e,s)},wrap:function(e,t,o){const s=e[t];e[t]=function(){const e=arguments,t=this;return o.apply(this,[function(){return s.apply(t,arguments.length?arguments:e)}].concat([].slice.call(arguments)))}}}}),t(e,"Data/Modifiers/DataModifier.js",[e["Core/Utilities.js"]],function(e){const{addEvent:o,fireEvent:t,merge:a}=e;class s{benchmark(e,t){const o=[],s=this,n=()=>{s.modifyTable(e),s.emit({type:"afterBenchmarkIteration"})};const i=a({iterations:1},t)["iterations"],r=(s.on("afterBenchmarkIteration",()=>{o.length===i?s.emit({type:"afterBenchmark",results:o}):n()}),{startTime:0,endTime:0});return s.on("modify",()=>{r.startTime=E.performance.now()}),s.on("afterModify",()=>{r.endTime=E.performance.now(),o.push(r.endTime-r.startTime)}),n(),o}emit(e){t(this,e.type,e)}modify(o,s){const n=this;return new Promise((e,t)=>{o.modified===o&&(o.modified=o.clone(!1,s));try{e(n.modifyTable(o,s))}catch(e){n.emit({type:"error",detail:s,table:o}),t(e)}})}modifyCell(e,t,o,s,n){return this.modifyTable(e)}modifyColumns(e,t,o,s){return this.modifyTable(e)}modifyRows(e,t,o,s){return this.modifyTable(e)}on(e,t){return o(this,e,t)}}var n;return(n=s=s||{}).types={},n.registerType=function(e,t){return!!e&&!n.types[e]&&!!(n.types[e]=t)},s}),t(e,"Data/DataTable.js",[e["Core/Utilities.js"]],function(e){const{addEvent:o,fireEvent:t,uniqueKey:d}=e;class h{static isNull(o){if(o===h.NULL)return!0;if(o instanceof Array){if(!o.length)return!1;for(let e=0,t=o.length;e<t;++e)if(null!==o[e])return!1}else{var s=Object.keys(o);if(!s.length)return!1;for(let e=0,t=s.length;e<t;++e)if(null!==o[s[e]])return!1}return!0}constructor(e={}){this.aliases=e.aliases?JSON.parse(JSON.stringify(e.aliases)):{},this.autoId=!e.id,this.columns={},this.id=e.id||d(),(this.modified=this).rowCount=0,this.versionTag=d();const n=e.columns||{},i=Object.keys(n),r=this.columns;let a=0;for(let e=0,t=i.length,o,s;e<t;++e)s=i[e],o=n[s].slice(),r[s]=o,a=Math.max(a,o.length);for(let e=0,t=i.length;e<t;++e)r[i[e]].length=a;this.rowCount=a;const s=e.aliases||{},l=Object.keys(s),c=this.aliases;for(let e=0,t=l.length,o;e<t;++e)o=l[e],c[o]=s[o]}clone(e,t){const o=this,s={},n=(o.emit({type:"cloneTable",detail:t}),e||(s.aliases=o.aliases,s.columns=o.columns),o.autoId||(s.id=o.id),new h(s));return e||(n.versionTag=o.versionTag),o.emit({type:"afterCloneTable",detail:t,tableClone:n}),n}deleteColumnAlias(e){const t=this,o=t.aliases,s=o[e],n=t.modifier;return s&&(delete t.aliases[e],n&&n.modifyColumns(t,{[s]:new Array(t.rowCount)},0)),s}deleteColumns(n,e){const t=this,i=t.columns,r={},a={},o=t.modifier,l=t.rowCount;if((n=n||Object.keys(i)).length){t.emit({type:"deleteColumns",columnNames:n,detail:e});for(let e=0,t=n.length,o,s;e<t;++e)s=n[e],(o=i[s])&&(r[s]=o,a[s]=new Array(l)),delete i[s];return Object.keys(i).length||(t.rowCount=0),o&&o.modifyColumns(t,a,0,e),t.emit({type:"afterDeleteColumns",columns:r,columnNames:n,detail:e}),r}}deleteRows(n,i=1,e){const r=this,a=[],l=[],t=r.modifier;if(r.emit({type:"deleteRows",detail:e,rowCount:i,rowIndex:n||0}),void 0===n&&(n=0,i=r.rowCount),0<i&&n<r.rowCount){var c=r.columns,d=Object.keys(c);for(let o=0,e=d.length,t,s;o<e;++o){s=(t=c[d[o]]).splice(n,i),o||(r.rowCount=t.length);for(let e=0,t=s.length;e<t;++e)a[e]=a[e]||[],a[e][o]=s[e];l.push(new Array(e))}}return t&&t.modifyRows(r,l,n||0,e),r.emit({type:"afterDeleteRows",detail:e,rowCount:i,rowIndex:n||0,rows:a}),a}emit(e){switch(e.type){case"afterDeleteColumns":case"afterDeleteRows":case"afterSetCell":case"afterSetColumns":case"afterSetRows":this.versionTag=d()}t(this,e.type,e)}getCell(e,t){e=this.aliases[e]||e;e=this.columns[e];if(e)return e[t]}getCellAsBoolean(e,t){e=this.aliases[e]||e;e=this.columns[e];return!(!e||!e[t])}getCellAsNumber(e,t,o){e=this.aliases[e]||e;e=this.columns[e];let s=e&&e[t];switch(typeof s){case"boolean":return s?1:0;case"number":return isNaN(s)&&!o?null:s}return s=parseFloat(""+s),isNaN(s)&&!o?null:s}getCellAsString(e,t){e=this.aliases[e]||e;e=this.columns[e];return""+(e&&e[t])}getColumn(e,t){return this.getColumns([e],t)[e]}getColumnAsNumbers(t,e){const o=this.columns[t=this.aliases[t]||t],s=[];if(o){var n=o.length;if(e)for(let e=0;e<n;++e)s.push(this.getCellAsNumber(t,e,!0));else{for(let e=0,t;e<n;++e){if("number"==typeof(t=o[e]))return o.slice();if(null!=t)break}for(let e=0;e<n;++e)s.push(this.getCellAsNumber(t,e))}}return s}getColumnNames(){return Object.keys(this.columns)}getColumns(n,i){const r=this.aliases,a=this.columns,l={};for(let e=0,t=(n=n||Object.keys(a)).length,o,s;e<t;++e)s=n[e],(o=a[r[s]||s])&&(l[s]=i?o:o.slice());return l}getModifier(){return this.modifier}getRow(e,t){return this.getRows(e,1,t)[0]}getRowCount(){return this.rowCount}getRowIndexBy(e,t,o){e=this.aliases[e]||e;const s=this.columns[e];if(s){e=s.indexOf(t,o);if(-1!==e)return e}}getRowObject(e,t){return this.getRowObjects(e,1,t)[0]}getRowObjects(i=0,r=this.rowCount-i,a){const l=this.aliases,c=this.columns,d=new Array(r);a=a||Object.keys(c);for(let e=i,t=0,o=Math.min(this.rowCount,i+r),s,n;e<o;++e,++t){n=d[t]={};for(const h of a)s=c[l[h]||h],n[h]=s?s[e]:void 0}return d}getRows(i=0,r=this.rowCount-i,a){const l=this.aliases,c=this.columns,d=new Array(r);a=a||Object.keys(c);for(let e=i,t=0,o=Math.min(this.rowCount,i+r),s,n;e<o;++e,++t){n=d[t]=[];for(const h of a)s=c[l[h]||h],n.push(s?s[e]:void 0)}return d}getVersionTag(){return this.versionTag}hasColumns(s){var n=this.aliases,i=this.columns;for(let e=0,t=s.length,o;e<t;++e)if(!i[o=s[e]]&&!n[o])return!1;return!0}hasRowWith(e,t){e=this.aliases[e]||e;const o=this.columns[e];return!!o&&-1!==o.indexOf(t)}on(e,t){return o(this,e,t)}renameColumn(e,t){const o=this.columns;if(o[e]){if(e!==t){const s=this.aliases;s[t]&&delete s[t],o[t]=o[e],delete o[e]}return!0}return!1}setCell(e,t,o,s){const n=this,i=n.columns,r=n.modifier;e=n.aliases[e]||e;let a=i[e];a&&a[t]===o||(n.emit({type:"setCell",cellValue:o,columnName:e,detail:s,rowIndex:t}),a=a||(i[e]=new Array(n.rowCount)),t>=n.rowCount&&(n.rowCount=t+1),a[t]=o,r&&r.modifyCell(n,e,t,o),n.emit({type:"afterSetCell",cellValue:o,columnName:e,detail:s,rowIndex:t}))}setColumn(e,t=[],o=0,s){this.setColumns({[e]:t},o,s)}setColumns(n,i,e){const r=this,a=r.columns,t=r.modifier,l=(r.rowCount,void 0===i),c=Object.keys(n);r.emit({type:"setColumns",columns:n,columnNames:c,detail:e,rowIndex:i});for(let e=0,t=c.length,o,s;e<t;++e)if(s=c[e],o=n[s],s=r.aliases[s]||s,l)a[s]=o.slice(),r.rowCount=o.length;else{const d=a[s]||(a[s]=new Array(r.rowCount));for(let e=i||0,t=o.length;e<t;++e)d[e]=o[e];r.rowCount=Math.max(r.rowCount,d.length)}var o=Object.keys(a);for(let e=0,t=o.length;e<t;++e)a[o[e]].length=r.rowCount;t&&t.modifyColumns(r,n,i||0),r.emit({type:"afterSetColumns",columns:n,columnNames:c,detail:e,rowIndex:i})}setModifier(t,o){const s=this;let e;return s.emit({type:"setModifier",detail:o,modifier:t,modified:s.modified}),(s.modified=s).modifier=t,(e=t?t.modify(s):Promise.resolve(s)).then(e=>(e.emit({type:"afterSetModifier",detail:o,modifier:t,modified:e.modified}),e)).catch(e=>{throw s.emit({type:"setModifierError",error:e,modifier:t,modified:s.modified}),e})}setRow(e,t,o){this.setRows([e],t,o)}setRows(t,o=this.rowCount,e){const s=this,i=s.aliases,r=s.columns,a=Object.keys(r),n=s.modifier,l=t.length;s.emit({type:"setRows",detail:e,rowCount:l,rowIndex:o,rows:t});for(let e=0,s=o,n;e<l;++e,++s)if((n=t[e])===h.NULL)for(let e=0,t=a.length;e<t;++e)r[a[e]][s]=null;else if(n instanceof Array)for(let e=0,t=a.length;e<t;++e)r[a[e]][s]=n[e];else{var c=Object.keys(n);for(let e=0,t=c.length,o;e<t;++e)o=i[o=c[e]]||o,r[o]||(r[o]=new Array(s+1)),r[o][s]=n[o]}var d=o+l;if(d>s.rowCount){s.rowCount=d;for(let e=0,t=a.length;e<t;++e)r[a[e]].length=d}n&&n.modifyRows(s,t,o),s.emit({type:"afterSetRows",detail:e,rowCount:l,rowIndex:o,rows:t})}}return h.NULL={},h.version="1.0.0",h}),t(e,"Data/Connectors/DataConnector.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(o,t,e){const{addEvent:s,fireEvent:n,merge:i,pick:r}=e;class a{constructor(e={}){this.table=new t(e.dataTable),this.metadata=e.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(e,t){const o=this.metadata.columns;o[e]=i(o[e]||{},t)}describeColumns(e){const t=Object.keys(e);for(var o;"string"==typeof(o=t.pop());)this.describeColumn(o,e[o])}emit(e){n(this,e.type,e)}getColumnOrder(e){const o=this.metadata.columns,t=Object.keys(o||{});if(t.length)return t.sort((e,t)=>r(o[e].index,0)-r(o[t].index,0))}getSortedColumns(e){return this.table.getColumns(this.getColumnOrder(e))}load(){return n(this,"afterLoad",{table:this.table}),Promise.resolve(this)}on(e,t){return s(this,e,t)}save(){return n(this,"saveError",{table:this.table}),Promise.reject(new Error("Not implemented"))}setColumnOrder(o){for(let e=0,t=o.length;e<t;++e)this.describeColumn(o[e],{index:e})}setModifierOptions(e){const t=e&&o.types[e.type];return this.table.setModifier(t?new t(e):void 0).then(()=>this)}startPolling(e=1e3){const t=this;E.clearTimeout(t._polling),t._polling=E.setTimeout(()=>t.load().catch(e=>t.emit({type:"loadError",error:e,table:t.table})).then(()=>{t._polling&&t.startPolling(e)}),e)}stopPolling(){E.clearTimeout(this._polling),delete this._polling}whatIs(e){return this.metadata.columns[e]}}var l;return(l=a=a||{}).types={},l.registerType=function(e,t){return!!e&&!l.types[e]&&!!(l.types[e]=t)},a}),t(e,"Dashboards/Components/ComponentRegistry.js",[e["Core/Utilities.js"]],function(e){var t,o,{}=e;return(o=t=t||{}).types={},o.registerComponent=function(e,t){return!!e&&!o.types[e]&&!!(o.types[e]=t)},t}),t(e,"Dashboards/Globals.js",[],function(){var e,t;return(t=e=e||{}).classNamePrefix="highcharts-dashboards-",t.classNames={layout:t.classNamePrefix+"layout",cell:t.classNamePrefix+"cell",cellHover:t.classNamePrefix+"cell-state-hover",cellActive:t.classNamePrefix+"cell-state-active",cellLoading:t.classNamePrefix+"cell-state-loading",row:t.classNamePrefix+"row",layoutsWrapper:t.classNamePrefix+"layouts-wrapper",boardContainer:t.classNamePrefix+"wrapper"},t.guiElementType={row:"row",cell:"cell",layout:"layout"},t.responsiveBreakpoints={small:"small",medium:"medium",large:"large"},t.boards=[],t.win=E,e}),t(e,"Dashboards/Actions/Bindings.js",[e["Dashboards/Components/ComponentRegistry.js"],e["Dashboards/Globals.js"],e["Core/Utilities.js"]],function(l,c,e){const{addEvent:d,fireEvent:h,error:u}=e;var t,p;function o(e){e="string"==typeof e?document.getElementById(e):e;let t;return null!==e&&h(e,"bindedGUIElement",{},function(e){t=e.guiElement}),t}return(p=t=t||{}).addComponent=async function(t,o){const s=t.states,n=t.events;if((o=o||p.getCell(t.cell||""))?.container&&t.type){const r=o.container;let e=l.types[t.type];e||(u(`The component's type ${t.type} does not exist.`),e=l.types.HTML,t.title={text:o.row.layout.board?.editMode?.lang.errorMessage,className:c.classNamePrefix+"component-title-error "+c.classNamePrefix+"component-title"});const a=new e(o,t);var i=a.load().catch(e=>{console.error(e),a.update({connector:{id:""},title:{text:o?.row.layout.board?.editMode?.lang.errorMessage,className:c.classNamePrefix+"component-title-error "+c.classNamePrefix+"component-title"}})});return h(a,"mount"),a.setCell(o),o.mountedComponent=a,o.row.layout.board.mountedComponents.push({options:t,component:a,cell:o}),n&&n.click&&d(r,"click",()=>{n.click(),o&&a&&r&&s&&s.active&&o.setActiveState()}),s?.hover&&r.classList.add(c.classNames.cellHover),h(a,"afterLoad"),i}u(`The component is misconfigured and is unable to find the
                        HTML cell element ${t.cell} to render the content.`)},p.componentFromJSON=function(e,t){let o=l.types[e.$class];if(o){var s=p.getCell(e.options.cell||"");if(s){const n=o.fromJSON(e,s);return n&&n.render(),n}}},p.getCell=function(e){const t=o(e);if(t&&"cell"===t.getType())return t},p.getRow=function(e){const t=o(e);if(t&&"row"===t.getType())return t},p.getLayout=function(e){const t=o(e);if(t&&"layout"===t.getType())return t},t}),t(e,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){return class{constructor(e){this.board=e,this.addTabIndexToCells()}addTabIndexToCells(){var o=this.board.mountedComponents;let s;for(let e=0,t=o.length;e<t;++e)(s=o[e].cell)&&s.container&&s.container.setAttribute("tabindex",-1)}}}),t(e,"Data/DataCursor.js",[],function(){class g{constructor(e={}){this.emittingRegister=[],this.listenerMap={},this.stateMap=e}addListener(e,t,o){const s=this.listenerMap[e]=this.listenerMap[e]||{},n=s[t]=s[t]||[];return n.push(o),this}buildEmittingTag(e){return("position"===e.cursor.type?[e.table.id,e.cursor.column,e.cursor.row,e.cursor.state,e.cursor.type]:[e.table.id,e.cursor.columns,e.cursor.firstRow,e.cursor.lastRow,e.cursor.state,e.cursor.type]).join("\0")}emitCursor(e,t,o,s,n){const i="object"==typeof t?t:o,r="object"==typeof s?s:o,a="string"==typeof t?t:void 0,l=e.id,c=i.state,d=this.listenerMap[l]&&this.listenerMap[l][c];if(n=n||!0===s,d){const h=this.stateMap[l]=this.stateMap[l]||{},u=h[i.state]||[],p=(n&&(u.length||(h[i.state]=u),-1===g.getIndex(i,u)&&u.push(i)),{cursor:i,cursors:u,table:e}),m=(r&&(p.event=r),a&&(p.group=a),this.emittingRegister),f=this.buildEmittingTag(p);if(0<=m.indexOf(f))return this;try{this.emittingRegister.push(f);for(let e=0,t=d.length;e<t;++e)d[e].call(this,p)}finally{o=this.emittingRegister.indexOf(f);0<=o&&this.emittingRegister.splice(o,1)}}return this}remitCursor(e,t){const o=this.stateMap[e]&&this.stateMap[e][t.state];return o&&0<=(e=g.getIndex(t,o))&&o.splice(e,1),this}removeListener(e,t,o){const s=this.listenerMap[e]&&this.listenerMap[e][t];return s&&(e=s.indexOf(o))&&s.splice(e,1),this}}function n(e,t){if("range"===e.type)return e;const o={type:"range",firstRow:e.row??(t&&t.firstRow)??0,lastRow:e.row??(t&&t.lastRow)??Number.MAX_VALUE,state:e.state};return void 0!==e.column&&(o.columns=[e.column]),o}var e;return g.version="1.0.0",(e=g=g||{}).getIndex=function(s,n){if("position"===s.type){for(let e,t=0,o=n.length;t<o;++t)if("position"===(e=n[t]).type&&e.state===s.state&&e.column===s.column&&e.row===s.row)return t}else{var i=JSON.stringify(s.columns);for(let e,t=0,o=n.length;t<o;++t)if("range"===(e=n[t]).type&&e.state===s.state&&e.firstRow===s.firstRow&&e.lastRow===s.lastRow&&JSON.stringify(e.columns)===i)return t}return-1},e.isEqual=function(e,t){return"position"===e.type&&"position"===t.type?e.column===t.column&&e.row===t.row&&e.state===t.state:"range"===e.type&&"range"===t.type&&(e.firstRow===t.firstRow&&e.lastRow===t.lastRow&&JSON.stringify(e.columns)===JSON.stringify(t.columns))},e.isInRange=function(e,t){"position"===t.type&&(t=n(t));const o=(e="position"===e.type?n(e,t):e).columns,s=t.columns;return e.firstRow>=t.firstRow&&e.lastRow<=t.lastRow&&(!o||!s||o.every(e=>0<=s.indexOf(e)))},e.toPositions=function(t){if("position"===t.type)return[t];var s=t.columns||[];const n=[];var i=t.state;for(let o=t.firstRow,e=t.lastRow;o<e;++o)if(s.length)for(let e=0,t=s.length;e<t;++e)n.push({type:"position",column:s[e],row:o,state:i});else n.push({type:"position",row:o,state:i});return n},e.toRange=n,g}),t(e,"Dashboards/Serializable.js",[],function(){var e;{var t=e=e||{};const n={},r={};t.fromJSON=function(e){var t=e.$class;if("string"!=typeof t)throw new Error("JSON has no $class property.");const o=n[t];if(o)return o.fromJSON(e);const s=r[t];if(s)return s.fromJSON(e);throw new Error(`'${t}' unknown.`)},t.registerClassPrototype=function(e,t){if(n[e])throw new Error("A serializer for '"+e+"' is already registered.");n[e]=t},t.registerHelper=function(e){if(r[e.$class])throw new Error("A serializer for '"+e.$class+"' is already registered.");r[e.$class]=e},t.toJSON=function(t){if("function"==typeof t.fromJSON&&"function"==typeof t.toJSON)return t.toJSON();var o=Object.keys(r),s=o.length;let n,i;for(let e=0;e<s;++e)if(n=o[e],(i=r[n]).jsonSupportFor(t))return i.toJSON(t);throw new Error("Object is not supported.")}}return e}),t(e,"Dashboards/SerializeHelper/DataCursorHelper.js",[e["Data/DataCursor.js"],e["Dashboards/Serializable.js"]],function(t,e){var o={$class:"Data.DataCursor",fromJSON:function(e){return new t(e.stateMap)},jsonSupportFor:function(e){return e instanceof t},toJSON:function(e){const o=e.stateMap,s={},n=Object.keys(e.stateMap);let i,r,a,l,c;for(let e=0,t=n.length;e<t;++e){a=n[e],c=Object.keys(o[a]),s[a]={};for(let e=0,t=c.length;e<t;++e){l=c[e],i=o[a][l],s[a][l]=r=[];for(let e=0,t=i.length;e<t;++e)r.push({...i[e]})}}return{$class:"Data.DataCursor",stateMap:s}}};return e.registerHelper(o),o}),t(e,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}}),t(e,"Data/DataPool.js",[e["Data/Connectors/DataConnector.js"],e["Data/DataPoolDefaults.js"],e["Core/Utilities.js"]],function(i,t,o){class e{constructor(e=t){e.connectors=e.connectors||[],this.connectors={},this.options=e,this.waiting={}}emit(e){o.fireEvent(this,e.type,e)}getConnector(e){var t=this.connectors[e];if(t)return Promise.resolve(t);let s=this.waiting[e];if(!s){s=this.waiting[e]=[];t=this.getConnectorOptions(e);if(!t)throw new Error(`Connector not found. (${e})`);this.loadConnector(t).then(o=>{delete this.waiting[e];for(let e=0,t=s.length;e<t;++e)s[e][0](o)}).catch(o=>{delete this.waiting[e];for(let e=0,t=s.length;e<t;++e)s[e][1](o)})}return new Promise((e,t)=>{s.push([e,t])})}getConnectorIds(){const o=this.options.connectors,s=[];for(let e=0,t=o.length;e<t;++e)s.push(o[e].id);return s}getConnectorOptions(o){var s=this.options.connectors;for(let e=0,t=s.length;e<t;++e)if(s[e].id===o)return s[e]}getConnectorTable(e){return this.getConnector(e).then(e=>e.table)}loadConnector(n){return new Promise((t,e)=>{this.emit({type:"load",options:n});const o=i.types[n.type];if(!o)throw new Error(`Connector type not found. (${n.type})`);const s=new o(n.options);s.load().then(e=>{this.connectors[n.id]=e,this.emit({type:"afterLoad",options:n}),t(e)}).catch(e)})}on(e,t){return o.addEvent(this,e,t)}setConnectorOptions(o){const s=this.options.connectors;this.emit({type:"setConnectorOptions",options:o});for(let e=0,t=s.length;e<t;++e)if(s[e].id===o.id){s.splice(e,1);break}s.push(o),this.emit({type:"afterSetConnectorOptions",options:o})}}return e.version="1.0.0",e}),t(e,"Dashboards/EditMode/EditGlobals.js",[e["Dashboards/Globals.js"]],function(e){e=e.classNamePrefix+"edit-";return{classNames:{resizeSnap:e+"resize-snap",resizeSnapX:e+"resize-snap-x",resizeSnapY:e+"resize-snap-y",separator:e+"separator",contextMenuBtn:e+"context-menu-btn",contextMenu:e+"context-menu",contextMenuItem:e+"context-menu-item",editModeEnabled:e+"enabled",editToolbar:e+"toolbar",editToolbarCellOutline:e+"toolbar-cell-outline",editToolbarRowOutline:e+"toolbar-row-outline",editToolbarItem:e+"toolbar-item",editToolbarRow:e+"toolbar-row",editToolbarCell:e+"toolbar-cell",editSidebar:e+"sidebar",editSidebarShow:e+"sidebar-show",editSidebarHide:e+"sidebar-hide",editSidebarTitle:e+"sidebar-title",editSidebarMenuItem:e+"sidebar-item",rowContextHighlight:e+"row-context-highlight",cellEditHighlight:e+"cell-highlight",dashboardCellEditHighlightActive:e+"cell-highlight-active",dragMock:e+"drag-mock",dropPointer:e+"drop-pointer",contextDetectionPointer:e+"ctx-detection-pointer",resizePointer:e+"resize-pointer",currentEditedElement:e+"unmask",maskElement:e+"mask",menuItem:e+"menu-item",menu:e+"menu",menuVerticalSeparator:e+"menu-vertical-separator",menuHorizontalSeparator:e+"menu-horizontal-separator",menuDestroy:e+"menu-destroy",editSidebarWrapper:e+"sidebar-wrapper",customSelect:e+"custom-select",customSelectButton:e+"custom-option-button",toggleContainer:e+"toggle-container",toggleWrapper:e+"toggle-wrapper",toggleSlider:e+"toggle-slider",toggleWrapperColored:e+"toggle-wrapper-colored",toggleLabels:e+"toggle-labels",button:e+"button",sidebarNavButton:e+"sidebar-button-nav",labelText:e+"label-text",editSidebarTabBtn:e+"sidebar-tab-btn",editToolsBtn:e+"tools-btn",editTools:e+"tools",editGridItems:e+"grid-items",confirmationPopup:e+"confirmation-popup",popupButtonContainer:e+"confirmation-popup-button-container",popupContentContainer:e+"confirmation-popup-content",popupCancelBtn:e+"confirmation-popup-cancel-btn",popupConfirmBtn:e+"confirmation-popup-confirm-btn",popupCloseButton:e+"popup-close",editOverlay:e+"overlay",editOverlayActive:e+"overlay-active",resizerMenuBtnActive:e+"resizer-menu-btn-active",sidebarCloseButton:e+"close-btn",editSidebarTabBtnWrapper:e+"tabs-buttons-wrapper",editSidebarRight:e+"sidebar-right",editSidebarRightShow:e+"sidebar-right-show",viewFullscreen:e+"view-fullscreen",accordionMenu:e+"accordion-menu",accordionContainer:e+"accordion",accordionHeader:e+"accordion-header",accordionHeaderBtn:e+"accordion-header-btn",accordionHeaderIcon:e+"accordion-header-icon",accordionContent:e+"accordion-content",accordionNestedWrapper:e+"accordion-nested",accordionMenuButtonsContainer:e+"accordion-menu-buttons-container",accordionMenuButton:e+"accordion-menu-button",hiddenElement:e+"hidden-element",collapsableContentHeader:e+"collapsable-content-header",collapsedElement:e+"collapsed-element",dropdown:e+"dropdown",dropdownContent:e+"dropdown-content",dropdownButton:e+"dropdown-button",dropdownButtonContent:e+"dropdown-button-content",dropdownIcon:e+"pointer",icon:e+"icon"},lang:{accessibility:{contextMenu:{button:"Context menu"}},addComponent:"Add component",cancelButton:"Cancel",caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you really want to destroy the cell?",confirmDestroyRow:"Do you really want to destroy the row?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",id:"Id",large:"Large",medium:"Medium",off:"off",on:"on",pointFormat:"Point format",settings:"Settings",small:"Small",style:"Styles",title:"Title",viewFullscreen:"View in full screen"}}}),t(e,"Dashboards/EditMode/EditRenderer.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"]],function(d,h){const{merge:u,createElement:p,defined:n}=h;function t(e,t){let o;return t.options.contextMenu&&((o=p("button",{className:d.classNames.contextMenuBtn,onclick:function(){t.onContextBtnClick()}},{"background-image":"url("+t.options.contextMenu.icon+")"},e)).setAttribute("aria-label",t.lang.accessibility.contextMenu.button),o.setAttribute("aria-expanded","false")),o}function o(e,t){var{name:t,showToggle:o,onchange:s,isEnabled:n,isNested:i,lang:r}=t,i=p("div",{className:d.classNames[i?"accordionNestedWrapper":"accordionContainer"]+" "+d.classNames.collapsableContentHeader},{},e),e=p("div",{className:d.classNames.accordionHeader},{},i);const a=p("button",{className:d.classNames.accordionHeaderBtn},{},e),l=(p("span",{textContent:r[t]||t},{},a),o&&m(e,{enabledOnOffLabels:!0,id:t,name:"",onchange:s,value:n||!1,lang:r}),p("span",{className:d.classNames.accordionHeaderIcon+" "+d.classNames.collapsedElement},{},a)),c=p("div",{className:d.classNames.accordionContent+" "+d.classNames.hiddenElement},{},i);return a.addEventListener("click",function(){c.classList.toggle(d.classNames.hiddenElement),l.classList.toggle(d.classNames.collapsedElement)}),{outerElement:i,content:c}}function s(e,s){if(e){s.name&&f(e,{title:s.name,isLabel:!0});var n=s.iconsURLPrefix||"",e=p("div",{className:d.classNames.dropdown+" "+d.classNames.collapsableContentHeader},{},e);const a=p("button",{className:d.classNames.dropdownButton},{},e);var t=p("div",{className:d.classNames.dropdownButtonContent},{},a),i=(h.find(s.selectOptions,e=>e.name===s.value)||{}).iconURL;let o;i&&(o=p("img",{src:n+i,className:d.classNames.icon},{},t));var r=p("span",{textContent:s.value,id:s.id||""},{},t);const l=p("img",{className:d.classNames.dropdownIcon+" "+d.classNames.collapsedElement,src:n+"dropdown-pointer.svg"},{},a),c=p("ul",{className:d.classNames.dropdownContent+" "+d.classNames.hiddenElement},{},e);a.addEventListener("click",function(){c.classList.toggle(d.classNames.hiddenElement),l.classList.toggle(d.classNames.collapsedElement)});for(let e=0,t=s.selectOptions.length;e<t;++e)!function(e,t,o,s,n,i){const r=e.iconsURLPrefix+e.iconURL,a=p("li",{},{},t),l=p("button",{className:d.classNames.customSelectButton},{},a);e.iconURL&&p("img",{src:r},{},l);p("span",{textContent:e.name||""},{},l),l.addEventListener("click",function(){if(t.classList.add(d.classNames.hiddenElement),s.classList.toggle(d.classNames.collapsedElement),o.textContent=e.name||"",n&&e.iconURL&&(n.src=r),i)return i(e.name)})}(u(s.selectOptions[e]||{},{iconsURLPrefix:n}),c,r,(s.id,l),o,s.onchange);return e}}function m(e,t){if(e){var{value:o,lang:s}=t,n=t.title||t.name;const i=p("div",{className:d.classNames.toggleContainer},{},e);n&&f(i,{title:n}),t.enabledOnOffLabels&&g.renderText(i,{title:s.off,className:d.classNames.toggleLabels});e=p("label",{className:d.classNames.toggleWrapper+" "+(t.className||"")},{},i);const r=c(e,o),a=t.onchange,l=(r&&a&&i.addEventListener("click",e=>{a(!r.checked),r.checked=!r.checked}),p("span",{className:d.classNames.toggleSlider},{},e));return a&&l.addEventListener("click",e=>{e.preventDefault()}),t.enabledOnOffLabels&&g.renderText(i,{title:s.on,className:d.classNames.toggleLabels}),i}}function f(e,t){let o;var s,{title:t,className:n,isLabel:i}=t;return e&&(s=i?{htmlFor:t}:{},o=p(i?"label":"div",{className:d.classNames.labelText+" "+(n||""),textContent:t,...s},{},e)),o}function i(e,t){var{icon:o,callback:s}=t;if(e){const n=p("div",{onclick:s,className:t.className||""},{},e),i=(n.style["background-image"]="url("+o+")",t.mousedown),r=t.click;return i&&(n.onmousedown=function(){i.apply(this,arguments)}),r&&n.addEventListener("click",function(){r.apply(this,arguments)}),n}}function r(e,t){if(e){t.name&&f(e,{title:t.name,isLabel:!0});const o=p("input",{type:"text",onclick:t.callback,id:t.id||"",name:t.name||"",value:n(t.value)&&t.value.toString().replace(/\"/g,"")||""},{},e),s=t.onchange;return s&&o.addEventListener("change",function(e){s(e.target.value)}),o}}function a(e,t){if(e){t.name&&f(e,{title:t.name,isLabel:!0});const o=p("textarea",{id:t.id,name:t.name,value:t.value||""},{},e),s=t.onchange;return s&&o.addEventListener("change",function(e){s(e.target.value)}),o}}function c(e,t){let o;return o=e?p("input",{type:"checkbox",checked:!!t},{},e):o}function l(e,t){let o;if(e)return o=p("button",{className:d.classNames.button+" "+(t.className||""),onclick:t.callback,textContent:t.text},t.style||{},e),t.icon&&(o.style["background-image"]="url("+t.icon+")"),o}const g={renderSelect:s,renderToggle:m,renderText:f,renderCollapseHeader:o,renderIcon:i,renderContextButton:t,renderInput:r,renderTextarea:a,renderCheckbox:c,renderButton:l,getRendererFunction:function(e){return{select:s,toggle:m,text:f,collapse:o,icon:i,contextButton:t,input:r,textarea:a,checkbox:c,button:l}[e]}};return g}),t(e,"Dashboards/EditMode/Menu/MenuItem.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(o,e,n){const{createElement:s,merge:i}=e;class r{constructor(e,t){this.menu=e,this.isActive=!1,this.options=i(r.defaultOptions,t),this.container=this.setContainer(),this.innerElement=this.setInnerElement()}setContainer(){var e=this.options;let t=o.classNames.menuItem;return this.menu.options.itemsClassName&&(t+=" "+this.menu.options.itemsClassName),e.className&&(t+=" "+e.className),s("div",{className:t||""},i(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){const e=this,t=e.options,o=e.container,s=t.langKey;return"toggle"===t.type?n.renderToggle(o,{id:t.id,name:t.id,title:s?this.menu.editMode.lang[s]:t.text,value:!(!t.getValue||!t.getValue(e)),lang:this.menu.editMode.lang,onchange:t.events?.click?.bind(e)}):"text"===t.type?n.renderText(o,{title:s?this.menu.editMode.lang[s]:t.text||"",className:t.className||""}):"icon"===t.type?n.renderIcon(o,{icon:t.icon||"",mousedown:t.events?.onmousedown?.bind(e),click:t.events?.click?.bind(e)}):"button"===t.type?n.renderButton(o,{callback:t.events?.click?.bind(e),className:t.className||"",style:t.style||{},text:s?this.menu.editMode.lang[s]:t.text||""}):void 0}update(){const e=this.options;e.events&&e.events.update&&e.events.update.apply(this,arguments)}activate(){this.update(),this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}return r.defaultOptions={id:"",type:"text"},r}),t(e,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(e){const t=this.menu.editMode.board.fullscreen;t&&t.toggle()}}}}}),t(e,"Dashboards/EditMode/Menu/Menu.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/MenuItem.js"],e["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(e,t,c,o){const{createElement:s,merge:d}=t;class n{constructor(e,t,o,s){this.parentElement=e,this.isVisible=!1,this.activeItems=[],this.options=t,this.items={},this.editMode=o,s&&(this.parent=s),this.container=this.setContainer()}setContainer(){return s("div",{className:e.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(o,s){var n=this.options.items||[];let i,r,a,l;for(let e=0,t=n.length;e<t;++e)i="string"==typeof(r=n[e])?o[r]:r.id?o[r.id]:{},(l="string"==typeof r?d(i,{id:r}):d(i,r)).id&&(a=new c(this,l),this.items[a.options.id]=a,s&&(a.activate(),this.activeItems.push(a)))}setActiveItems(o){var s=this;let n;for(let e=0,t=s.activeItems.length;e<t;++e)-1===o.indexOf(s.activeItems[e].options.id)&&s.activeItems[e].deactivate();for(let e=s.activeItems.length=0,t=o.length;e<t;++e)(n=s.items[o[e]])&&(n.isActive?n.update():n.activate(),s.activeItems.push(n))}deactivateActiveItems(){for(let e=0,t=this.activeItems.length;e<t;++e)this.activeItems[e].deactivate()}updateActiveItems(){const o=this.activeItems;for(let e=0,t=o.length;e<t;++e)o[e].update()}destroy(){this.activeItems.length=0,this.container.remove(),this.items={},this.options={}}}return n.items=o,n}),t(e,"Dashboards/EditMode/Toolbar/EditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(e,o){const{defined:s,createElement:n,css:i}=e;return class{constructor(e,t){this.container=n("div",{className:t.className},void 0,e.board.container),this.editMode=e,this.iconURLPrefix=e.iconsURLPrefix,this.menu=new o(this.container,t.menu,e,this),this.options=t,this.isVisible=!1,this.options.outline&&(this.outline=n("div",{className:t.outlineClassName},void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(e,t,o,s=0){o=(o||{}).container;this.outline&&o&&i(this.outline,{display:"block",left:e-s+"px",top:t-s+"px",width:o.offsetWidth+2*s+"px",height:o.offsetHeight+2*s+"px"})}hideOutline(){this.outline&&(this.outline.style.display="none")}setPosition(e,t){this.container&&i(this.container,{left:(e||"-9999")+"px",top:(t||"-9999")+"px"}),this.isVisible=s(e)&&s(t)}}}),t(e,"Dashboards/Layout/GUIElement.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(e,t){const{addEvent:n,createElement:i,uniqueKey:o,objectEach:s,error:r}=e;return class{static getOffsets(e,t){const o={left:0,top:0,right:0,bottom:0};return e.container&&(e=e.container.getBoundingClientRect(),t=t?t.getBoundingClientRect():{left:0,top:0},o.left=e.left-t.left,o.top=e.top-t.top,o.right=e.right-t.left,o.bottom=e.bottom-t.top),o}static getDimFromOffsets(e){return{width:e.right-e.left,height:e.bottom-e.top}}static createElementId(e){return t.classNamePrefix+e+"-"+o().slice(11)}static getPercentageWidth(e){const t=/^([0-9]{1})[\-\/\.]([0-9]{1,2})$/;let o;var s,n;return t.test(e)?(n=+(s=e.match(t)||[])[1],s=+s[2],o=((o=100*n/s)<=100?o:100)+"%"):-1!==e.indexOf("%")&&(n=parseFloat(e),o=(n<=100?0<=n?n:0:100)+"%"),o}getElementContainer(e){const t=this;let o;var s;return e.render?e.attribs&&!e.attribs.id&&delete e.attribs.id:"string"==typeof e.elementId&&((s=document.getElementById(e.elementId))?t.container=s:r("Element "+e.elementId+" does not exist")),o=e.element instanceof HTMLElement?e.element:i("div",e.attribs||{},e.style||{},e.parentContainer),t.removeBindedEventFn=n(o,"bindedGUIElement",function(e){e.guiElement=t,e.stopImmediatePropagation()}),o}destroy(){const o=this;o.removeBindedEventFn&&o.removeBindedEventFn(),o.container&&o.container.parentNode&&o.container.parentNode.removeChild(o.container),s(o,function(e,t){delete o[t]})}getType(){return this.type}changeVisibility(e=!0,t){var o=this.isVisible&&!e||!this.isVisible&&e;this.container&&o&&(this.container.style.display=e?t||"block":"none",this.isVisible=e)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}}),t(e,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,s,t,n){const{merge:o,fireEvent:i,objectEach:r}=e;class a extends t{static getItemsConfig(e,t){const o=[];return e.dragDrop?.enabled&&o.push({id:"drag",type:"icon",icon:t+"drag.svg",events:{onmousedown:function(e){var t=this.menu.parent;const o=t.editMode.dragDrop;o&&t.cell&&o.onDragStart(e,t.cell)}}}),e.settings?.enabled&&o.push({id:"settings",type:"icon",icon:t+"settings.svg",events:{click:function(e){this.menu.parent.editMode.setEditOverlay(),this.menu.parent.onCellOptions()}}}),o.push({id:"destroy",type:"icon",className:s.classNames.menuDestroy,icon:t+"destroy.svg",events:{click:function(e){const t=this.menu.parent,o=this.menu.parent.editMode,s=o.confirmationPopup;s.show({confirmButton:{value:o.lang.confirmButton,callback:t.onCellDestroy,context:t},cancelButton:{value:o.lang.cancelButton,callback:()=>{s.closePopup()}},text:o.lang.confirmDestroyCell})}}}),o}constructor(e){super(e,o(a.defaultOptions,(e.options.toolbars||{}).cell,{menu:{items:a.getItemsConfig(e.options,e.iconsURLPrefix)}})),this.menu.initItems({})}showToolbar(e){var t,o,s=this;e.container&&s.editMode.isActive()&&!(s.editMode.dragDrop||{}).isActive?(t=(o=n.getOffsets(e,s.editMode.board.container)).right-30-10,o=o.top+10,r(s.menu.items,e=>{e.activate()}),s.setPosition(t,o),s.cell=e,s.refreshOutline()):s.isVisible&&s.hide()}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){this.editMode.sidebar&&(this.editMode.sidebar.show(this.cell),this.cell&&this.cell.setHighlight())}onCellDestroy(){var e,t=this;t.cell&&(e=t.cell.row,t.resetEditedCell(),t.cell.destroy(),t.cell=void 0,t.editMode.hideToolbars(["cell","row"]),e&&e.cells&&e.cells.length&&(i(t.editMode.board,"cellResize",{cell:e.cells[0]}),i(e,"cellChange",{cell:e.cells[0],row:e})))}resetEditedCell(){this.editedCell=void 0}}return a.defaultOptions={enabled:!0,className:s.classNames.editToolbar,outline:!1,outlineClassName:s.classNames.editToolbarCellOutline,menu:{className:s.classNames.editToolbarCell,itemsClassName:s.classNames.editToolbarItem,items:[]}},a}),t(e,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,s,t,i){const{merge:o,objectEach:r}=e;class n extends t{static getMenuItemsConfig(e,t){const o=[];return e.dragDrop?.enabled&&o.push({id:"drag",type:"icon",icon:t+"drag.svg",events:{onmousedown:function(e){const t=this.menu.parent,o=t.editMode.dragDrop;o&&t.row&&o.onDragStart(e,t.row)}}}),e.settings?.enabled&&o.push({id:"settings",type:"icon",icon:t+"settings.svg",events:{click:function(e){this.menu.parent.editMode.setEditOverlay(),this.menu.parent.onRowOptions(e)}}}),o.push({id:"destroy",type:"icon",className:s.classNames.menuDestroy,icon:t+"destroy.svg",events:{click:function(e){const t=this.menu.parent,o=this.menu.parent.editMode,s=o.confirmationPopup;s.show({confirmButton:{value:o.lang.confirmButton,callback:t.onRowDestroy,context:t},cancelButton:{value:o.lang.cancelButton,callback:()=>{s.closePopup()}},text:o.lang.confirmDestroyRow})}}}),o}constructor(e){super(e,o(n.defaultOptions,(e.options.toolbars||{}).row,{menu:{items:n.getMenuItemsConfig(e.options,e.iconsURLPrefix)}})),this.menu.initItems({})}refreshOutline(e,t){this.row&&this.row.container&&super.refreshOutline(e,t,this.row,2)}showToolbar(e){var t,o,s,n=this;e.container&&n.editMode.isActive()&&!(n.editMode.dragDrop||{}).isActive?(s=(o=i.getOffsets(e,n.editMode.board.container)).right-o.left,r(n.menu.items,e=>{e.activate()}),s=s/2-n.container.clientWidth/2,t=o.left+s,o=o.top-n.container.clientHeight,n.setPosition(t,o),n.row=e,n.refreshOutline(-s,n.container.clientHeight)):n.isVisible&&n.hide()}onRowOptions(e){this.editMode.sidebar&&this.editMode.sidebar.show(this.row)}onRowDestroy(e){this.row&&(this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]))}resetEditedRow(){this.editedRow=void 0}}return n.defaultOptions={enabled:!0,className:s.classNames.editToolbar,outline:!0,outlineClassName:s.classNames.editToolbarRowOutline,menu:{className:s.classNames.editToolbarRow,itemsClassName:s.classNames.editToolbarItem,items:[]}},n}),t(e,"Dashboards/EditMode/AccordionMenu.js",[e["Dashboards/EditMode/EditRenderer.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(d,e,h){const{createElement:t,merge:l,error:r}=e;return class{constructor(e,t){this.changedOptions={},this.chartOptionsJSON={},this.iconsURLPrefix=e,this.closeSidebar=t}renderContent(e,o){const s=this;var n,i,r=o.editableOptions.getOptions(),a=t("div",{className:h.classNames.accordionMenu},{},e);for(let e=0,t=r.length;e<t;e++)n=r[e],i=d.renderCollapseHeader(a,{name:n.name,iconsURLPrefix:s.iconsURLPrefix,lang:(o.board?.editMode||h).lang}).content,this.renderAccordion(n,i,o);e=t("div",{className:h.classNames.accordionMenuButtonsContainer},{},a);d.renderButton(e,{text:(o.board?.editMode||h).lang.confirmButton,className:h.classNames.popupConfirmBtn,callback:()=>{var e=this.changedOptions;o.update(l(e,{chartOptions:this.chartOptionsJSON})),s.changedOptions={},s.chartOptionsJSON={},s.closeSidebar()}}),d.renderButton(e,{text:(o.board?.editMode||h).lang.cancelButton,className:h.classNames.popupCancelBtn,callback:()=>{s.changedOptions={},s.chartOptionsJSON={},s.closeSidebar()}})}updateOptions(t,e){var o=t.length-1;let s=this.changedOptions;if(0==o&&"chartOptions"===t[0])try{var n=JSON.parse(e);this.chartOptionsJSON=n}catch(e){r("Dashboards Error: Wrong JSON config structure passed as a chart options.")}for(let e=0;e<o;e++){var i=t[e];s[i]||(s[i]={}),s=s[i]}s[t[o]]=e}renderAccordion(t,e,o){if("nested"===t.type)return this.renderNested(e,t,o);const s=d.getRendererFunction(t.type);s&&s(e,{...t,iconsURLPrefix:this.iconsURLPrefix,value:o.getEditableOptionValue(t.propertyPath),onchange:e=>this.updateOptions(t.propertyPath||[],e)})}renderNested(o,e,s){if(o&&e.nestedOptions){var n=e.nestedOptions;for(let e=0,t=n.length;e<t;++e){var i=n[e].name,r=n[e].options,a=!!n[e].showToggle;const c=n[e].propertyPath||[];var l=d.renderCollapseHeader(o,{name:i,isEnabled:!!s.getEditableOptionValue(c),iconsURLPrefix:this.iconsURLPrefix,showToggle:a,onchange:e=>this.updateOptions(c,e),isNested:!0,lang:(s.board?.editMode||h).lang});for(let e=0,t=r.length;e<t;++e)this.renderAccordion(r[e],l.content,s)}}}}}),t(e,"Core/Renderer/HTML/AST.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(h,e){const{SVG_NS:u,win:t}=h,{attr:p,createElement:n,css:m,error:f,isFunction:o,isString:i,objectEach:g,splat:s}=e,r=t["trustedTypes"],a=r&&o(r.createPolicy)&&r.createPolicy("highcharts",{createHTML:e=>e}),l=a?a.createHTML(""):"",c=function(){try{return Boolean((new DOMParser).parseFromString(l,"text/html"))}catch(e){return!1}}();class b{static filterUserAttributes(s){return g(s,(t,e)=>{let o=!0;-1===b.allowedAttributes.indexOf(e)&&(o=!1),(o=-1!==["background","dynsrc","href","lowsrc","src"].indexOf(e)?i(t)&&b.allowedReferences.some(e=>0===t.indexOf(e)):o)||(f(33,!1,void 0,{"Invalid attribute in config":""+e}),delete s[e]),i(t)&&s[e]&&(s[e]=t.replace(/</g,"&lt;"))}),s}static parseStyle(e){return e.split(";").reduce((e,t)=>{const o=t.split(":").map(e=>e.trim()),s=o.shift();return s&&o.length&&(e[s.replace(/-([a-z])/g,e=>e[1].toUpperCase())]=o.join(":")),e},{})}static setElementHTML(e,t){if(e.innerHTML=b.emptyHTML,t){const o=new b(t);o.addToDOM(e)}}constructor(e){this.nodes="string"==typeof e?this.parseMarkup(e):e}addToDOM(e){return function l(e,c){let d;return s(e).forEach(function(e){var t=e.tagName,o=e.textContent?h.doc.createTextNode(e.textContent):void 0,s=b.bypassHTMLFiltering;let n;if(t)if("#text"===t)n=o;else if(-1!==b.allowedTags.indexOf(t)||s){var i="svg"!==t&&c.namespaceURI||u;const r=h.doc.createElementNS(i,t),a=e.attributes||{};g(e,function(e,t){"tagName"!==t&&"attributes"!==t&&"children"!==t&&"style"!==t&&"textContent"!==t&&(a[t]=e)}),p(r,s?a:b.filterUserAttributes(a)),e.style&&m(r,e.style),o&&r.appendChild(o),l(e.children||[],r),n=r}else f(33,!1,void 0,{"Invalid tagName in config":t});n&&c.appendChild(n),d=n}),d}(this.nodes,e)}parseMarkup(e){const t=[];e=e.trim().replace(/ style=(["'])/g," data-style=$1");let o;if(c)o=(new DOMParser).parseFromString(a?a.createHTML(e):e,"text/html");else{const s=n("div");s.innerHTML=e,o={body:s}}const r=(e,t)=>{var o=e.nodeName.toLowerCase();const s={tagName:o};"#text"===o&&(s.textContent=e.textContent||"");o=e.attributes;if(o){const n={};[].forEach.call(o,e=>{"data-style"===e.name?s.style=b.parseStyle(e.value):n[e.name]=e.value}),s.attributes=n}if(e.childNodes.length){const i=[];[].forEach.call(e.childNodes,e=>{r(e,i)}),i.length&&(s.children=i)}t.push(s)};return[].forEach.call(o.body.childNodes,e=>r(e,t)),t}}return b.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","markerHeight","markerWidth","offset","opacity","orient","padding","paddingLeft","paddingRight","patternUnits","r","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],b.allowedReferences=["https://","http://","mailto:","/","../","./","#"],b.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feDropShadow","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],b.emptyHTML=l,b.bypassHTMLFiltering=!1,b}),t(e,"Shared/BaseForm.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],function(s,e){const{addEvent:n,createElement:i}=e;return class{constructor(e,t){this.iconsURL=t,this.container=this.createPopupContainer(e),this.closeButton=this.addCloseButton()}createPopupContainer(e,t="highcharts-popup highcharts-no-tooltip"){return i("div",{className:t},void 0,e)}addCloseButton(e="highcharts-popup-close"){const t=this,o=this.iconsURL,s=i("div",{className:e},void 0,this.container);return s.style["background-image"]="url("+(o.match(/png|svg|jpeg|jpg|gif/gi)?o:o+"close.svg")+")",["click","touchstart"].forEach(e=>{n(s,e,t.closeButtonEvents.bind(t))}),n(document,"keydown",function(e){"Escape"===e.code&&t.closeButtonEvents()}),s}closeButtonEvents(){this.closePopup()}showPopup(e="highcharts-annotation-toolbar"){const t=this.container,o=this.closeButton;this.type=void 0,t.innerHTML=s.emptyHTML,0<=t.className.indexOf(e)&&(t.classList.remove(e),t.removeAttribute("style")),t.appendChild(o),t.style.display="block",t.style.height=""}closePopup(){this.container.style.display="none"}}}),t(e,"Dashboards/Utilities.js",[e["Core/Utilities.js"]],function(e){const{isClass:a,isDOMElement:l,isObject:c,objectEach:d,uniqueKey:t}=e;return{merge:function(){let e,t=arguments,n=0,o={};const i=new Error("Recursive copy depth > 100"),r=(o,s)=>{if("object"!=typeof o&&(o={}),100<++n)throw i;return d(s,(e,t)=>{"__proto__"!==t&&"constructor"!==t&&(!c(e,!0)||a(e)||l(e)?o[t]=s[t]:o[t]=r(o[t]||{},e))}),--n,o};!0===t[0]&&(o=t[1],t=Array.prototype.slice.call(t,2));var s=t.length;for(e=0;e<s;e++)o=r(o,t[e]);return o},uniqueKey:function(){return"dashboard-"+t().replace("highcharts-","")}}}),t(e,"Dashboards/Layout/Cell.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(e,i,h,r,t){const o=e["componentFromJSON"],{merge:u,fireEvent:n}=t;class s extends r{static fromJSON(t,o){if(o){t=t.options;let e=t.containerId;return o.layout.copyId&&(e=e+"_"+o.layout.copyId),new s(o,{id:e,parentContainerId:o.container&&o.container.id||t.parentContainerId,mountedComponentJSON:t.mountedComponentJSON,style:t.style,layoutJSON:t.layoutJSON,width:t.width,height:t.height})}}constructor(e,t,o){super(),this.type=h.guiElementType.cell,this.id=t.id,this.options=t,this.row=e,this.isVisible=!0;var s=document.getElementById(t.parentContainerId||"")||e.container,n=e.layout.options||{},i=e.options||{},r=n.cellClassName||"";let a;if(t.height&&(a="number"==typeof t.height?t.height+"px":t.height),this.container=this.getElementContainer({render:e.layout.board.guiEnabled,parentContainer:s,attribs:{id:t.id,className:h.classNames.cell+" "+r},element:o,elementId:t.id,style:u(n.style,i.style,t.style,{height:a})}),this.reflow(),this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON,this.container),this.options.layout&&this.setNestedLayout(),this.options.layoutJSON){const l=this.row.layout,c=l.board,d=l.constructor.fromJSON;this.nestedLayout=d(u(this.options.layoutJSON,{parentContainerId:this.options.id}),c,this)}}setNestedLayout(){const e=this.row.layout.board,t=this.row.layout.constructor;var o=e.options.gui;this.nestedLayout=new t(e,u({},o&&o.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(e,t){this.id!==e.options.parentElement&&(e.options.parentElement=this.id);e=o(e,t);return!!e&&(this.mountedComponent=e,!0)}destroy(){const e=this["row"];this.mountedComponent&&this.mountedComponent.destroy(),e.unmountCell(this);var t=0===e.cells.length;super.destroy(),t&&e.destroy()}toJSON(){var e=this,t=(e.row.container||{}).id||"";return{$class:"Dashboards.Layout.Cell",options:{containerId:e.container.id,parentContainerId:t,width:e.options.width,height:e.options.height,mountedComponentJSON:e.mountedComponent&&e.mountedComponent.toJSON(),style:e.options.style,layoutJSON:e.nestedLayout&&e.nestedLayout.toJSON()}}}getOptions(){return this.options}changeVisibility(e=!0){super.changeVisibility(e);const t=this,o=t.row;t.row.getVisibleCells().length?t.isVisible&&!o.isVisible&&t.row.show():t.row.hide(),setTimeout(()=>{n(o,"cellChange",{row:o,cell:t})},0)}getParentCell(e){var t=this;let o;if(e<=t.row.layout.level)return t.row.layout.level===e?t:0<=t.row.layout.level-1&&(o=t.row.layout.parentCell)?o.getParentCell(e):void 0}getOverlappingLevels(e,t,o){const s=this.row.layout.parentCell;let n=[this.row.layout.level];var i;return s&&(o=o||r.getOffsets(this)[e],i=r.getOffsets(s)[e],Math.abs(o-i)<t&&(n=[...n,...s.getOverlappingLevels(e,t,i)])),n}reflow(t){var o=this,t=t||o.row.layout.board.getLayoutContainerSize(),s=o.options.responsive,n=o.options.width;if(o.container){let e="";s&&s[t]&&s[t].width?e=o.convertWidthToValue(s[t].width):n&&(e=o.convertWidthToValue(n)),o.setSize(e||"auto")}}setSize(e,t){const o=this,s=o.row.layout.board.editMode;o.container&&(e&&("auto"===e&&"1 1 0%"!==o.container.style.flex?o.container.style.flex="1 1 0%":((e=o.convertWidthToValue(e))&&o.container.style.flex!=="0 0 "+e&&(o.container.style.flex="0 0 "+e),o.options.width=e)),t&&(o.options.height=o.container.style.height=t+"px"),s&&(s.hideContextPointer(),s.cellToolbar&&s.cellToolbar.isVisible&&(s.cellToolbar.cell===o?s.cellToolbar.showToolbar(o):s.cellToolbar.hide())),n(o.row.layout.board,"cellResize",{cell:o}),n(o.row,"cellChange",{cell:o,row:o.row}))}updateSize(e,t){t=t||this.row.layout.board.getLayoutContainerSize();this.options.responsive||(this.options.responsive={}),this.options.responsive[t]={width:e}}setHighlight(e){var t=this,o=t.row.layout.board.editMode;if(t.container&&o){const s=t.container,n=s.classList.contains(i.classNames.cellEditHighlight);e||n?e&&n&&(s.classList.remove(i.classNames.cellEditHighlight),t.row.layout.board.container.classList.remove(i.classNames.dashboardCellEditHighlightActive),t.isHighlighted=!1):(s.classList.add(i.classNames.cellEditHighlight),t.row.layout.board.container.classList.add(i.classNames.dashboardCellEditHighlightActive),t.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(e=>{e.cell.container&&e.cell.container.classList.remove(h.classNames.cellActive)}),this.container&&this.container.classList.add(h.classNames.cellActive)}setLoadingState(e=!0){this.container?.classList?.toggle(h.classNames.cellLoading,e)}convertWidthToValue(e){return"number"==typeof e?e+"px":/px/.test(e)?e:r.getPercentageWidth(e)||""}}return s}),t(e,"Dashboards/Layout/Row.js",[e["Dashboards/Globals.js"],e["Dashboards/Layout/Cell.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(r,a,i,e,s){const{pick:l,defined:n,merge:c,objectEach:d,fireEvent:h}=e;class u extends i{static fromJSON(t,o){if(o){t=t.options;let e=t.containerId||"";return e&&o.copyId&&(e=e+"_"+o.copyId),new u(o,{id:e,parentContainerId:o.container&&o.container.id||t.parentContainerId,cellsJSON:t.cells,style:t.style})}}static setContainerHeight(e,t){t&&(e.style.height=t+"px")}constructor(e,t,o){super(),this.type=r.guiElementType.row,this.layout=e,this.cells=[],this.options=t,this.isVisible=!0;var s=document.getElementById(t.parentContainerId||"")||e.container,n=e.options||{},i=n.rowClassName||"";this.container=this.getElementContainer({render:e.board.guiEnabled,parentContainer:s,attribs:{id:t.id,className:r.classNames.row+" "+i},element:o,elementId:t.id,style:c(n.style,t.style)}),this.options.cells&&this.setCells(),t.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(t.cellsJSON)}setCells(){var e=this,t=(e.layout.options||{}).cellClassName||"",o=l(e.options.cells,e.container&&e.container.getElementsByClassName(t))||[];let s,n,i;for(n=0,i=o.length;n<i;++n)s=o[n],e.addCell(e.layout.board.guiEnabled?s:{id:""},s instanceof HTMLElement?s:void 0)}setCellsFromJSON(o){const s=[];let n,i;for(let e=0,t=o.length;e<t;++e)i=o[e],(n=a.fromJSON({$class:i.$class,options:{containerId:i.options.containerId,parentContainerId:i.options.parentContainerId,width:i.options.width,height:i.options.height,style:i.options.style,layoutJSON:i.options.layoutJSON,mountedComponentJSON:void 0}},this))&&(this.cells.push(n),i.options.mountedComponentJSON&&s.push({cell:n,mountedComponentJSON:i.options.mountedComponentJSON}));for(let e=0,t=s.length;e<t;++e)s[e].cell.mountComponentFromJSON(s[e].mountedComponentJSON,(n||{}).container)}addCell(e,t,o){var s=this,e=new a(s,e,t);return n(o)?s.mountCell(e,o):s.cells.push(e),s.layout.board.editMode&&s.layout.board.editMode.setCellEvents(e),e}destroy(){var o=this;const e=o["layout"];for(let e=0,t=o.cells.length;e<t;++e)o.cells[e]&&o.cells[e].destroy();o.layout&&(o.layout.unmountRow(o),super.destroy(),0===e.rows.length&&e.destroy())}toJSON(){const o=this,e=(o.layout.container||{}).id||"",s=[];for(let e=0,t=o.cells.length;e<t;++e)s.push(o.cells[e].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:o.container.id,parentContainerId:e,cells:s,style:o.options.style}}}getOptions(){const o=[];for(let e=0,t=this.cells.length;e<t;++e)o.push(this.cells[e].getOptions());return{id:this.options.id,style:this.options.style,cells:o}}setSize(e){this.cells;u.setContainerHeight(this.container,e)}getCellIndex(o){for(let e=0,t=this.cells.length;e<t;++e)if(this.cells[e].id===o.id)return e}mountCell(e,t=0){const o=this,s=o.cells[t],n=o.cells[t-1];e.container&&(s&&s.container?s.container.parentNode.insertBefore(e.container,s.container):n&&n.container?n.container.parentNode.insertBefore(e.container,n.container.nextSibling):n||s||!o.container||o.container.appendChild(e.container),o.cells.splice(t,0,e),e.row=o,setTimeout(()=>{h(o,"cellChange",{row:o,cell:e})},0))}unmountCell(e){var t=this.getCellIndex(e);n(t)&&this.cells.splice(t,1),setTimeout(()=>{h(this,"cellChange",{row:this,cell:e})},0)}getVisibleCells(){const o=[];for(let e=0,t=this.cells.length;e<t;++e)this.cells[e].isVisible&&o.push(this.cells[e]);return o}changeVisibility(e=!0,t){var o=this;super.changeVisibility(e,t),o.layout.getVisibleRows().length?o.isVisible&&!o.layout.isVisible&&o.layout.show():o.layout.hide()}show(){this.changeVisibility(!0,"flex")}setHighlight(e){if(this.container){const t=this.container,o=t.classList.contains(s.classNames.rowContextHighlight);e||o?e&&o&&t.classList.remove(s.classNames.rowContextHighlight):t.classList.add(s.classNames.rowContextHighlight)}}getRowLevels(){const o={},t=[];var s,n;for(let e=0,t=this.cells.length;e<t;++e)(s=this.cells[e]).isVisible&&(n=i.getOffsets(s),o[n.top]||(o[n.top]={top:n.top,bottom:n.bottom,cells:[]}),o[n.top].bottom<n.bottom&&(o[n.top].bottom=n.bottom),o[n.top].cells.push(s));return d(o,e=>{t.push(e)}),t}getRowLevelInfo(o){var s=this.getRowLevels();let n;for(let e=0,t=s.length;e<t;++e)s[e].top<=o&&s[e].bottom>o&&(n={index:e,rowLevels:s,rowLevel:s[e]});return n}}return u}),t(e,"Dashboards/Layout/Layout.js",[e["Dashboards/Utilities.js"],e["Core/Utilities.js"],e["Dashboards/Layout/Row.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Globals.js"]],function(e,t,n,o,i){const r=e["uniqueKey"],{pick:a,defined:l}=t;class c extends o{static fromJSON(e,t,o){var s=e.options,e=document.getElementById(e.options.containerId),e=new c(t,{id:s.containerId,copyId:e?r():"",parentContainerId:s.parentContainerId||t.container.id,rowsJSON:s.rows,style:s.style},o);return e&&!o&&t.layouts.push(e),e}static importLocal(e,t){e=localStorage.getItem(i.classNamePrefix+e);let o;return o=e?c.fromJSON(JSON.parse(e),t):o}constructor(e,t,o){super(),this.type=i.guiElementType.layout,this.board=e,this.rows=[],this.options=t,this.isVisible=!0;var s=o?o.container:document.getElementById(t.parentContainerId||"")||e.layoutsWrapper,o=(o?(this.parentCell=o,this.level=o.row.layout.level+1):this.level=0,t.copyId&&(this.copyId=t.copyId),this.options||{}),o=o.rowClassName||"";this.container=this.getElementContainer({render:e.guiEnabled,parentContainer:s,attribs:{id:(t.id||"")+(this.copyId?"_"+this.copyId:""),className:i.classNames.layout+" "+o},elementId:t.id,style:this.options.style}),this.options.rows&&this.setRows(),t.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(t.rowsJSON)}setRows(){var e=this,t=a(e.options.rows,e.container&&e.container.getElementsByClassName(e.options.rowClassName||""))||[];let o,s,n;for(s=0,n=t.length;s<n;++s)o=t[s],e.addRow(e.board.guiEnabled?o:{},o instanceof HTMLElement?o:void 0)}setRowsFromJSON(o){var s;for(let e=0,t=o.length;e<t;++e)(s=n.fromJSON(o[e],this))&&this.rows.push(s)}addRow(e,t,o){var s=this,e=new n(s,e,t);return l(o)?s.mountRow(e,o):s.rows.push(e),s.board.editMode&&s.board.editMode.setRowEvents(e),e}destroy(){var t=this;for(let e=t.board.layouts.length-1;0<=e;e--)t.board.layouts[e]===t&&t.board.layouts.splice(e,1);for(let e=t.rows.length-1;0<=e;e--)t.rows[e].destroy();t.parentCell&&t.parentCell.destroy(),super.destroy()}exportLocal(){localStorage.setItem(i.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(o){for(let e=0,t=this.rows.length;e<t;++e)if(this.rows[e]===o)return e}mountRow(e,t){const o=this.rows[t],s=this.rows[t-1];e.container&&(o&&o.container?o.container.parentNode.insertBefore(e.container,o.container):s&&s.container&&s.container.parentNode.insertBefore(e.container,s.container.nextSibling),this.rows.splice(t,0,e),e.layout=this)}unmountRow(e){e=this.getRowIndex(e);l(e)&&this.rows.splice(e,1)}getVisibleRows(){const o=[];for(let e=0,t=this.rows.length;e<t;++e)this.rows[e].isVisible&&o.push(this.rows[e]);return o}changeVisibility(e=!0){var t=this;super.changeVisibility(e),t.parentCell&&(t.isVisible&&!t.parentCell.isVisible?t.parentCell.show():!t.isVisible&&t.parentCell.isVisible&&t.parentCell.hide())}toJSON(){const o=this,e=(o.board.container||{}).id||"",s=[];for(let e=0,t=o.rows.length;e<t;++e)s.push(o.rows[e].toJSON());return{$class:"Dashboards.Layout",options:{containerId:o.container.id,parentContainerId:e,rows:s,style:o.options.style}}}getOptions(){const o=[];for(let e=0,t=this.rows.length;e<t;++e)o.push(this.rows[e].getOptions());return{id:this.options.id,layoutClassName:this.options.layoutClassName,rowClassName:this.options.rowClassName,cellClassName:this.options.cellClassName,style:this.options.style,rows:o}}}return c}),t(e,"Dashboards/EditMode/SidebarPopup.js",[e["Dashboards/EditMode/AccordionMenu.js"],e["Shared/BaseForm.js"],e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Layout/Layout.js"],e["Core/Utilities.js"]],function(s,e,a,n,i,d,h,t){const{createElement:r,merge:l}=t;class u extends e{constructor(e,t,o){super(e,t),this.isVisible=!1,this.editMode=o,this.accordionMenu=new s(this.iconsURL,this.hide.bind(this))}detectRightSidebar(e){var t=this.editMode.board.layoutsWrapper;return d.getOffsets(e,t).left<t.offsetWidth/2-10}removeClassNames(){const e=n.classNames,t=this.container.classList;t.remove(e.editSidebarShow),t.remove(e.editSidebarRightShow)}addClassNames(e){const t=this.container.classList;e?t.add(n.classNames.editSidebarRight):t.remove(n.classNames.editSidebarRight),setTimeout(()=>{t.add(n.classNames[e?"editSidebarRightShow":"editSidebarShow"])})}show(e){const t=this.editMode,o=!(!e||!this.detectRightSidebar(e));this.showPopup(n.classNames.editSidebarShow),this.addClassNames(o),t.resizer&&t.resizer.disableResizer(),t.editCellContext&&t.editCellContext.row&&t.editCellContext.row.setHighlight(!0),t.hideToolbars(["cell","row"]),t.stopContextDetection(),this.isVisible=!0,this.generateContent(e)}generateContent(e){this.renderHeader(e?this.editMode.lang.settings:this.editMode.lang.addComponent,""),e?"cell"===e.getType()&&(e=e.mountedComponent)&&this.accordionMenu.renderContent(this.container,e):this.renderAddComponentsList()}renderAddComponentsList(){const l=this,c=u.components;let t;var o=r("div",{className:n.classNames.editGridItems},{},l.container);for(let a=0,e=c.length;a<e;++a)(t=r("div",{},{},o)).addEventListener("mousedown",e=>{if(l.editMode.dragDrop){const r=()=>{l.hide()};l.container.addEventListener("mouseleave",r),l.editMode.dragDrop.onDragStart(e,void 0,e=>{if(0===this.editMode.board.layouts.length){const o=this.editMode.board,s=d.createElementId("layout"),n=new h(o,{id:s,copyId:"",parentContainerId:o.container.id,rows:[{}],style:{}});n&&o.layouts.push(n),e=n.rows[0]}const t=c[a].onDrop(l,e);if(t){const i=t.mountedComponent;i.options?.connector?.id&&i.initConnector(),l.editMode.setEditCellContext(t),l.show(t),t.setHighlight()}l.container.removeEventListener("mouseleave",r)})}}),t.innerHTML=c[a].text}onDropNewComponent(e,t){const o=this.editMode.dragDrop;if(o){const s="cell"===e.getType()?e.row:e,n=s.addCell({id:d.createElementId("col")});o.onCellDragEnd(n);e=l(t,{cell:n.id});return a.addComponent(e,n),this.editMode.setEditOverlay(),n}}hide(){const e=this.editMode,t=e.editCellContext;this.removeClassNames(),e.isEditOverlayActive&&e.setEditOverlay(!0),t&&t.row&&(e.showToolbars(["cell","row"],t),t.row.setHighlight(),t.isHighlighted&&t.setHighlight(!0)),e.isContextDetectionActive=!0,this.isVisible=!1}closeButtonEvents(){this.hide()}renderHeader(e,t){const o=i.renderIcon(this.container,{icon:t,className:n.classNames.editSidebarTitle});o&&(o.textContent=e)}addCloseButton(e=n.classNames.popupCloseButton){return super.addCloseButton.call(this,e)}createPopupContainer(e,t=n.classNames.editSidebar){return super.createPopupContainer.call(this,e,t)}}return u.components=[{text:"HTML",onDrop:function(e,t){if(e&&t)return e.onDropNewComponent(t,{cell:"",type:"HTML",elements:[{tagName:"img",attributes:{src:"https://www.highcharts.com/samples/graphics/stock-dark.svg"}}]})}},{text:"layout",onDrop:function(e,t){if(t){const o="cell"===t.getType()?t.row:t,s=o.layout.board,n=d.createElementId("layout"),i=d.createElementId("cell"),r=new h(s,{id:n,copyId:"",parentContainerId:s.container.id,rows:[{cells:[{id:i}]}],style:{}});r&&s.layouts.push(r),a.addComponent({type:"HTML",cell:i,elements:[{tagName:"div",style:{"text-align":"center"},textContent:"Placeholder text"}]})}}},{text:"chart",onDrop:function(t,o){if(t&&o){var s=t.editMode.board.dataPool.getConnectorIds();let e={cell:"",type:"Highcharts",chartOptions:{chart:{animation:!1,type:"column",zooming:{}}}};return s.length&&(e={...e,connector:{id:s[0]}}),t.onDropNewComponent(o,e)}}},{text:"datagrid",onDrop:function(t,o){if(t&&o){var s=t.editMode.board.dataPool.getConnectorIds();let e={cell:"",type:"DataGrid"};return s.length&&(e={...e,connector:{id:s[0]}}),t.onDropNewComponent(o,e)}}},{text:"KPI",onDrop:function(t,o){if(t&&o){var s=t.editMode.board.dataPool.getConnectorIds();let e={cell:"",type:"KPI"};return s.length&&(e={...e,connector:{id:s[0]}}),t.onDropNewComponent(o,e)}}}],u}),t(e,"Dashboards/EditMode/EditContextMenu.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(o,e,t){const{addEvent:s,merge:i}=e;class r extends t{constructor(e,t,o,s){if(super(o.board.container,i(r.defaultOptions,t||{}),o),this.editMode=o,this.options=i(r.defaultOptions,t||{}),this.container.style.width=this.options.width+"px",super.initItems(r.items),this.options.items){const n=[];for(let e=0,t=this.options.items.length;e<t;++e)"string"==typeof this.options.items[e]?n.push(this.options.items[e]):this.options.items[e].id&&n.push(this.options.items[e].id);this.setActiveItems(n)}this.initEvents()}initEvents(){const t=this;s(document,"click",e=>{e.target!==this.container&&e.target!==t.editMode.tools.contextButtonElement&&!e.target.classList.contains(o.classNames.toggleSlider)&&"INPUT"!==e.target.tagName&&this.isVisible&&this.setVisible(!1)})}setVisible(e){const t=this,o=t.editMode.tools.contextButtonElement;t.container&&o&&(e?(t.container.style.display="block",t.isVisible=!0,o.setAttribute("aria-expanded","true")):(t.container.style.display="none",t.isVisible=!1,o.setAttribute("aria-expanded","false")))}updatePosition(e,t,o){var s=this.options.width||0,s=e?e.offsetLeft-s+e.offsetWidth:t,t=e?e.offsetTop+e.offsetHeight:o;s&&t&&(this.container.style.left=s+"px",this.container.style.top=t+"px")}}return r.defaultOptions={enabled:!0,width:150,className:o.classNames.contextMenu,itemsClassName:o.classNames.contextMenuItem,items:["editMode"]},r.items=i(t.items,{editMode:{id:"editMode",type:"toggle",getValue:function(e){return e.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.onEditModeToggle()}}}}),r}),t(e,"Dashboards/Actions/ContextDetection.js",[e["Core/Utilities.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,d){const h=e["defined"];class u{static isGUIElementOnParentEdge(e,t){var o="top"===t||"bottom"===t?e.row.layout.getVisibleRows():"left"===t||"right"===t?e.row.getVisibleCells():[],s=o.length-1;return o[s]===e&&"right"===t||o[s]===e.row&&"bottom"===t||o[0]===e&&"left"===t||o[0]===e.row&&"top"===t}static getContextLevel(e,t,o,s){s=e.getOverlappingLevels(s,t/2),t/=s.length,s=s[s.length-1];let n=e.row.layout.level-Math.floor(o/t);return n=n<s?s:n>e.row.layout.level?e.row.layout.level:n}static getContext(e,t,o){let s;var n=d.getOffsets(e),{width:i,height:r}=d.getDimFromOffsets(n),a=t.clientX-n.left,l=t.clientY-n.top,t=-(o=i<2*o?i/2:o)<=a&&a<=o?"left":-o<=a-i&&a-i<=o?"right":"",n=t||(-o<=l&&l<=o?"top":-o<=l-r&&l-r<=o?"bottom":"");switch(n){case"right":s=a-i+o;break;case"left":s=o-a;break;case"top":s=o-l;break;case"bottom":s=l-r+o}const c={cell:e,side:n};return 0!==e.row.layout.level&&n&&u.isGUIElementOnParentEdge(e,n)&&h(s)&&(t=u.getContextLevel(e,o,s,n),(n=e.getParentCell(t))&&(c.cell=n)),c}}return u}),t(e,"Dashboards/Actions/DragDrop.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Actions/ContextDetection.js"]],function(e,l,o,m,a){const{addEvent:t,merge:s,css:n,fireEvent:c,createElement:i}=e;class r{constructor(e,t){this.editMode=e,this.options=s(r.defaultOptions,t),this.mockElement=i("div",{className:o.classNames.dragMock},{},e.board.container),this.dropPointer={isVisible:!1,align:"",element:i("div",{className:o.classNames.dropPointer},{},e.board.container)},this.isActive=!1,this.initEvents()}showDropPointer(e,t,o,s){this.dropPointer.isVisible=!0,n(this.dropPointer.element,{display:"block",left:e+"px",top:t+"px",height:s+"px",width:o+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(e){var t=this.editMode.board.container.getBoundingClientRect(),o=this.mockElement.clientWidth/2,s=e.clientX-t.left-o,e=e.clientY-t.top-o;n(this.mockElement,{left:s+"px",top:e+"px"})}initEvents(){t(document,"mousemove",this.onDrag.bind(this)),t(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(e,t,o){this.isActive=!0,this.editMode.hideToolbars(["cell","row"]),this.editMode.resizer&&this.editMode.resizer.disableResizer(),this.setMockElementPosition(e),t?((this.context=t).hide(),t.getType()===l.guiElementType.cell&&(e=t,c(this.editMode.board,"cellResize",{cell:t}),c(e.row,"cellChange",{cell:t,row:e.row}))):o&&(this.dragEndCallback=o),n(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(e){var t=this;t.isActive&&(e.preventDefault(),t.setMockElementPosition(e),t.context?t.context.getType()===l.guiElementType.cell?t.onCellDrag(e):t.context.getType()===l.guiElementType.row&&t.onRowDrag(e):t.dragEndCallback&&t.onCellDrag(e))}onDragEnd(){var e=this;e.isActive&&(e.isActive=!1,n(e.mockElement,{cursor:"grab",display:"none"}),e.context?(e.context.getType()===l.guiElementType.cell?e.onCellDragEnd():e.context.getType()===l.guiElementType.row&&e.onRowDragEnd(),e.context=void 0,e.editMode.editCellContext&&(e.editMode.showToolbars(["row","cell"],e.editMode.editCellContext),e.editMode.resizer&&e.editMode.resizer.setSnapPositions(e.editMode.editCellContext))):e.dragEndCallback&&(e.dragEndCallback(e.dropContext),e.dragEndCallback=void 0,e.hideDropPointer()))}onRowDrag(e,t){var o=this,s=o.mouseCellContext,n=o.options.dropPointerSize,i=o.options.rowDropOffset;let r=!1;s&&(s=(t=t||a.getContext(s,e,i)).side,o.dropPointer.align===s&&o.dropContext===t.cell.row||(r=!0,o.dropPointer.align=s,o.dropContext=t.cell.row),s?(e=m.getOffsets(o.dropContext,o.editMode.board.container),{width:i,height:t}=m.getDimFromOffsets(e),o.dropPointer.isVisible&&!r||o.showDropPointer(e.left,e.top+("bottom"===o.dropPointer.align?t:0)-n/2,i,n)):(o.dropContext=void 0,o.hideDropPointer()))}onRowDragEnd(){const e=this,t=e.context,o=e.dropContext;e.dropPointer.align&&(t.layout.unmountRow(t),0===t.layout.rows.length&&t.layout.destroy(),o.layout.mountRow(t,(o.layout.getRowIndex(o)||0)+("bottom"===e.dropPointer.align?1:0)),t.cells[0]&&(c(e.editMode.board,"cellResize",{cell:t.cells[0]}),c(t,"cellChange",{cell:t.cells[0],row:t}))),e.hideDropPointer(),t.show()}onCellDrag(e,t){var o=this,s=o.mouseCellContext,n=o.options.cellDropOffset;s||t?o.onCellDragCellCtx(e,t||a.getContext(s,e,n)):o.mouseRowContext&&o.onCellDragRowCtx(e,o.mouseRowContext)}onCellDragCellCtx(e,t){var o,s,n,i,r=this,a=r.options.dropPointerSize,l=t.side;let c=!1;r.dropPointer.align===l&&r.dropContext===t.cell||(c=!0,r.dropPointer.align=l,r.dropContext=t.cell),"right"===l||"left"===l?(o=m.getOffsets(r.dropContext,r.editMode.board.container),{width:i,height:n}=m.getDimFromOffsets(o),r.dropPointer.isVisible&&!c||(s=(s=r.dropContext.row.getRowLevelInfo(e.clientY))?s.rowLevel.bottom-s.rowLevel.top:n,r.showDropPointer(o.left+("right"===l?i:0)-a/2,o.top,a,s))):"top"===l||"bottom"===l?(n=m.getOffsets(r.dropContext),(i=r.dropContext.row.getRowLevelInfo(n.top))&&(0===i.index&&"top"===l||i.index===i.rowLevels.length-1&&"bottom"===l)&&r.onRowDrag(e,t)):(r.dropContext=void 0,r.hideDropPointer())}onCellDragRowCtx(o,e){var s=this,n=s.options.dropPointerSize,i=m.getOffsets(e),r=e.getRowLevelInfo(o.clientY);if(r)for(let e=0,t=r.rowLevel.cells.length;e<t;++e){var a,l=r.rowLevel.cells[e],c=m.getOffsets(l),{width:d,height:h}=m.getDimFromOffsets(c),u=s.editMode.board.container.getBoundingClientRect(),p=r.rowLevel.bottom-r.rowLevel.top;l.isVisible?h<.8*p&&c.left<=o.clientX&&c.right>=o.clientX?(c.top>o.clientY||c.bottom<o.clientY&&(s.showDropPointer(c.left-u.left,c.top-u.top+h,d,p-h),s.dropPointer.align="nestedBottom",s.dropContext=l),e=t):(0===e&&c.left>o.clientX||e===t-1&&c.right<o.clientX)&&(c.left>o.clientX||c.right<o.clientX&&(a=i.right-c.right,s.showDropPointer(c.left+(0===e&&c.left>o.clientX?0:d)-n/2-u.left,c.top-u.top,n<a?a:n,p||h),s.dropPointer.align="right",s.dropContext=l),e=t):l.isVisible||l!==s.context||(s.dropContext=void 0,s.hideDropPointer())}}onCellDragEnd(e){const t=this,o=e||t.context;let s=t.dropContext;if(t.dropPointer.align&&s&&o)if(o.row.unmountCell(o),0===o.row.cells.length&&o.row.destroy(),"top"!==t.dropPointer.align&&"bottom"!==t.dropPointer.align||s.getType()!==l.guiElementType.row)if("nestedBottom"===t.dropPointer.align&&s.getType()===l.guiElementType.cell){e=s;const i=e.row;var n=i.getCellIndex(e);i.unmountCell(e);const r=i.addCell({id:m.createElementId("col-nested-"),layout:{rows:[{},{}]}},void 0,n);r.nestedLayout&&(r.nestedLayout.rows[0].mountCell(e),r.nestedLayout.rows[1].mountCell(o))}else s.getType()===l.guiElementType.cell&&(s=s).row.mountCell(o,(s.row.getCellIndex(s)||0)+("right"===t.dropPointer.align?1:0));else{const a=(s=s).layout.addRow({},void 0,(s.layout.getRowIndex(s)||0)+("bottom"===t.dropPointer.align?1:0));a.mountCell(o,0)}c(t.editMode.board,"cellResize",{cell:o}),c(o.row,"cellChange",{cell:o,row:o.row}),t.hideDropPointer(),o.show()}}return r.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16},r}),t(e,"Dashboards/Actions/Resizer.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(n,l,e){const{merge:o,addEvent:i,createElement:r,fireEvent:a,removeEvent:c,pick:d}=e;class s{static fromJSON(e,t){return new s(e,t.options)}constructor(e,t){this.editMode=e,this.options=o({},s.defaultOptions,e.options.resize,t),this.currentCell=void 0,this.isX=-1<this.options.type.indexOf("x"),this.isY=-1<this.options.type.indexOf("y"),this.isActive=!1,this.startX=0,this.tempSiblingsWidth=[],this.addSnaps()}addSnaps(){var e=this.editMode.iconsURLPrefix,t=this.options.snap.width||0,o=this.options.snap.height||0,s=this.editMode.board.container;this.snapRight=r("img",{className:n.classNames.resizeSnap+" "+n.classNames.resizeSnapX,src:e+"resize-handle.svg"},{width:t+"px",height:o+"px",left:"-9999px"},s),this.snapBottom=r("img",{className:n.classNames.resizeSnap+" "+n.classNames.resizeSnapY,src:e+"resize-handle.svg"},{width:t+"px",height:o+"px",top:"-9999px",left:"0px"},s),this.addResizeEvents()}disableResizer(){this.isActive=!1,this.currentDimension=void 0,this.currentCell=void 0,this.snapRight&&(this.snapRight.style.left="-9999px"),this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(e){this.currentCell=e;var e=l.getOffsets(e,this.editMode.board.container),t=e.left||0,o=e.top||0,{width:e,height:s}=l.getDimFromOffsets(e),n=this.options.snap.width||0,i=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=t+e-n+"px",this.snapRight.style.top=o+s/2-i/2+"px"),this.snapBottom&&(this.snapBottom.style.top=o+s-i+"px",this.snapBottom.style.left=t+e/2-n/2+"px")}setTempWidthSiblings(){const i=this.currentCell;if(i){var r=this.editMode.rwdMode,e=l.getOffsets(i),e=i.row.getRowLevelInfo(e.top),a=e&&e.rowLevel.cells||[];let o,s,n;for(let e=0,t=a.length;e<t&&(s=a[e],o=s.container,n=d(((s.options.responsive||{})[r]||{}).width,s.options.width),s!==i);++e)!o||n&&"auto"!==n||(o.style.flex="0 0 "+o.offsetWidth+"px",this.tempSiblingsWidth.push(s))}}revertSiblingsAutoWidth(){var o=this.tempSiblingsWidth;let s,n;for(let e=0,t=o.length;e<t;++e)(s=o[e].container)&&(s.style.flex="1 1 0%",n=o[e]);this.tempSiblingsWidth=[],n&&(a(this.editMode.board,"cellResize",{cell:n}),a(n.row,"cellChange",{cell:n,row:n.row}))}addResizeEvents(){const t=this;t.mouseDownSnapX=n=function(e){t.isActive=!0,t.currentDimension="x",t.editMode.hideToolbars(["row","cell"]),t.setTempWidthSiblings(),t.startX=e.clientX},t.mouseDownSnapY=s=function(e){t.isActive=!0,t.currentDimension="y",t.editMode.hideToolbars(["row","cell"])},t.mouseMoveSnap=e=function(e){t.isActive&&t.onMouseMove(e)},t.mouseUpSnap=o=function(e){t.isActive&&(t.isActive=!1,t.currentDimension=void 0,t.revertSiblingsAutoWidth(),t.editMode.showToolbars(["row","cell"],t.currentCell),t.currentCell&&t.setSnapPositions(t.currentCell))},i(this.snapRight,"mousedown",n),i(this.snapBottom,"mousedown",s),i(document,"mousemove",e),i(document,"mouseup",o);var e,o,s,n=()=>{t.currentCell&&t.setSnapPositions(t.currentCell)};"function"==typeof ResizeObserver?(this.resizeObserver=new ResizeObserver(n),this.resizeObserver.observe(t.editMode.board.container)):(s=i(E,"resize",n),i(this,"destroy",s))}onMouseMove(e){const t=this.currentCell;var o,s=t&&t.container,n=this.currentDimension,i=this.editMode.sidebar,i=i&&i.editMode.rwdMode;t&&s&&!((t.row.layout.board.editMode||{}).dragDrop||{}).isActive&&(s=l.getOffsets(t),o=l.getDimFromOffsets(l.getOffsets(t.row))["width"],"x"===n&&(o=Math.min(e.clientX-s.left,o)/o*100+"%",t.setSize(o),t.updateSize(o,i),this.startX=e.clientX),"y"===n&&t.setSize(void 0,e.clientY-s.top),a(this.editMode.board,"cellResize",{cell:t}),a(t.row,"cellChange",{cell:t,row:t.row}),this.setSnapPositions(t))}destroy(){var o=["snapRight","snapBottom"];let s;c(document,"mousemove"),c(document,"mouseup"),this.resizeObserver?.unobserve(this.editMode.board.container);for(let e=0,t=o.length;e<t;++e)s=this[o[e]],c(s,"mousedown"),s.remove()}toJSON(){var e=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:e.enabled,styles:{minWidth:e.styles.minWidth,minHeight:e.styles.minHeight},type:e.type,snap:{width:e.snap.width,height:e.snap.height}}}}}return s.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:9,height:17}},s}),t(e,"Dashboards/EditMode/ConfirmationPopup.js",[e["Core/Utilities.js"],e["Shared/BaseForm.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(e,t,s,n){const i=e["createElement"];class o extends t{constructor(e,t,o,s){super(e,t=s&&s.close&&s.close.icon?s.close.icon:t),this.editMode=o,this.options=s}createPopupContainer(e,t=s.classNames.confirmationPopup){return super.createPopupContainer(e,t)}addCloseButton(e=s.classNames.popupCloseButton){return super.addCloseButton(e)}renderContent(e){this.contentContainer=i("div",{className:s.classNames.popupContentContainer},{},this.container);const t=this.contentContainer.parentNode;t.style.marginTop="0px";var o=t.getBoundingClientRect().top;t.style.marginTop=(o<0?Math.abs(o-200):200)+"px",n.renderText(this.contentContainer,{title:e.text||""}),this.buttonContainer=i("div",{className:s.classNames.popupButtonContainer},{},this.container),n.renderButton(this.buttonContainer,{text:e.cancelButton.value,className:s.classNames.popupCancelBtn,callback:e.cancelButton.callback}),n.renderButton(this.buttonContainer,{text:e.confirmButton.value,className:s.classNames.popupConfirmBtn,callback:()=>{e.confirmButton.callback.call(e.confirmButton.context),this.closePopup()}})}show(e){this.showPopup(),this.renderContent(e),this.editMode.setEditOverlay()}closePopup(){super.closePopup(),this.editMode.setEditOverlay(!0)}}return o}),t(e,"Dashboards/EditMode/EditMode.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],e["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],e["Dashboards/EditMode/SidebarPopup.js"],e["Dashboards/EditMode/EditContextMenu.js"],e["Dashboards/Actions/DragDrop.js"],e["Dashboards/Actions/Resizer.js"],e["Dashboards/EditMode/ConfirmationPopup.js"],e["Dashboards/Actions/ContextDetection.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,i,r,t,o,s,n,a,l,c,d,h){const{addEvent:u,createElement:p,css:m,merge:f}=e;return class{constructor(e,t){this.active=!1,this.iconsURLPrefix="/code/dashboards/gfx/dashboards-icons/",this.iconsURLPrefix=t&&t.iconsURLPrefix||this.iconsURLPrefix,this.options=f({dragDrop:{enabled:!0},resize:{enabled:!0},settings:{enabled:!0},enabled:!0,contextMenu:{icon:this.iconsURLPrefix+"menu.svg"},tools:{addComponentBtn:{enabled:!0,icon:this.iconsURLPrefix+"add.svg"},rwdButtons:{enabled:!0,icons:{small:this.iconsURLPrefix+"smartphone.svg",medium:this.iconsURLPrefix+"tablet.svg",large:this.iconsURLPrefix+"computer.svg"}}},confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}},toolbars:{cell:{enabled:!0},row:{enabled:!0}}},t||{}),this.board=e,this.lang=f({},i.lang,this.options.lang),this.contextPointer={isVisible:!1,element:p("div",{className:i.classNames.contextDetectionPointer},{},this.board.container)},this.isInitialized=!1,this.isContextDetectionActive=!1,this.tools={},this.rwdMenu=[],this.rwdMode=this.board.getLayoutContainerSize(),this.createTools(),this.confirmationPopup=new c(e.container,this.iconsURLPrefix,this,this.options.confirmationPopup),this.editOverlay=p("div",{className:i.classNames.editOverlay},{},e.container),this.isEditOverlayActive=!1}onContextBtnClick(){var e=this;e.tools.contextMenu||(e.tools.contextMenu=new n(e.board.container,e.options.contextMenu||{},e)),e.tools.contextMenu&&(e.tools.contextMenu.isVisible||e.tools.contextMenu.updatePosition(e.tools.contextButtonElement),e.tools.contextMenu.setVisible(!e.tools.contextMenu.isVisible))}onEditModeToggle(){this.active?this.deactivate():this.activate()}init(){var e=this;this.options.resize?.enabled&&(e.resizer=new l(e,e.options.resize)),e.dragDrop=new a(e,e.options.dragDrop),e.options.toolbars?.row?.enabled&&!e.rowToolbar&&(e.rowToolbar=new o(e)),e.options.toolbars?.cell?.enabled&&!e.cellToolbar&&(e.cellToolbar=new t(e)),e.sidebar||(e.sidebar=new s(this.board.container,this.iconsURLPrefix,e)),e.isInitialized=!0}initEvents(){const o=this,s=o.board;for(let e=0,t=s.layouts.length;e<t;++e)o.setLayoutEvents(s.layouts[e]);o.cellToolbar&&(u(o.cellToolbar.container,"mouseenter",function(){o.stopContextDetection()}),u(o.cellToolbar.container,"mouseleave",function(){o.isContextDetectionActive=!0})),o.rowToolbar&&(u(o.rowToolbar.container,"mouseenter",function(){o.stopContextDetection()}),u(o.rowToolbar.container,"mouseleave",function(){o.isContextDetectionActive=!0})),u(s.layoutsWrapper,"mousemove",o.onDetectContext.bind(o)),u(s.layoutsWrapper,"click",o.onContextConfirm.bind(o)),u(s.layoutsWrapper,"mouseleave",()=>{o.hideContextPointer()})}setLayoutEvents(o){for(let e=0,t=o.rows.length;e<t;++e){var s=o.rows[e];this.setRowEvents(s);for(let e=0,t=s.cells.length;e<t;++e)this.setCellEvents(s.cells[e])}}setRowEvents(t){const o=this;if(o.dragDrop){const s=o.dragDrop;u(t.container,"mouseenter",function(){o.isContextDetectionActive&&(o.mouseRowContext=t)}),u(t.container,"mousemove",function(e){s.isActive&&e.target===t.container&&(s.mouseRowContext=t)}),u(t.container,"mouseleave",function(e){s.isActive&&s.mouseRowContext===t&&(s.mouseRowContext=void 0),o.isContextDetectionActive&&(o.mouseRowContext=void 0)})}}setCellEvents(t){const o=this;if(t.nestedLayout)o.setLayoutEvents(t.nestedLayout);else if(o.cellToolbar&&t.container&&(o.dragDrop||o.resizer)){const s=o.dragDrop;u(t.container,"mouseenter",function(e){o.isContextDetectionActive&&(o.mouseCellContext=t)}),u(t.container,"mousemove",function(e){s&&s.isActive&&e.target===t.container&&(s.mouseCellContext=t,s.mouseRowContext=void 0)}),u(t.container,"mouseleave",function(){s&&s.isActive&&s.mouseCellContext===t&&(s.mouseCellContext=void 0),o.isContextDetectionActive&&(o.mouseCellContext=void 0)})}}activate(){var e=this;e.isInitialized||(e.init(),e.initEvents()),e.board.container.classList.add(i.classNames.editModeEnabled),this.addComponentBtn&&(this.addComponentBtn.style.display="block"),e.rwdMode=e.board.getLayoutContainerSize(),this.showRwdButtons(),e.active=!0,e.isContextDetectionActive=!0}deactivate(){const e=this,t=e.board.container;t.classList.remove(i.classNames.editModeEnabled),e.hideToolbars(),this.editCellContext&&this.editCellContext.row.setHighlight(!0),this.addComponentBtn&&(this.addComponentBtn.style.display="none"),e.resizer&&e.resizer.disableResizer(),this.hideRwdButtons(),this.board.layoutsWrapper.style.width="100%",this.board.reflow(),e.active=!1,e.stopContextDetection(),this.editCellContext=void 0,this.potentialCellContext=void 0}isActive(){return this.active}hideToolbars(e){var o=this,s=e||["cell","row","sidebar"];for(let e=0,t=s.length;e<t;++e)switch(s[e]){case"cell":o.cellToolbar&&o.cellToolbar.isVisible&&o.cellToolbar.hide();break;case"row":o.rowToolbar&&o.rowToolbar.isVisible&&o.rowToolbar.hide();break;case"sidebar":o.sidebar&&o.sidebar.isVisible&&o.sidebar.hide()}}showToolbars(e,o){var s=this,n=e||["cell","row","sidebar"];for(let e=0,t=n.length;e<t;++e)switch(n[e]){case"cell":o&&s.cellToolbar&&(s.cellToolbar.isVisible=!0,s.cellToolbar.showToolbar(o));break;case"row":o&&o.row&&s.rowToolbar&&(s.rowToolbar.isVisible=!0,s.rowToolbar.showToolbar(o.row));break;case"sidebar":s.sidebar&&!s.sidebar.isVisible&&s.sidebar.show()}}createTools(){const e=this;var t=this.options;this.tools.container=document.createElement("div"),this.tools.container.classList.add(i.classNames.editTools),this.board.layoutsWrapper.parentNode.insertBefore(this.tools.container,this.board.layoutsWrapper),t.contextMenu?.enabled&&(this.tools.contextButtonElement=r.renderContextButton(this.tools.container,e)),t.tools?.rwdButtons?.enabled&&this.createRwdMenu(),t.tools?.addComponentBtn?.enabled&&t.toolbars?.cell?.enabled&&(t=t.tools.addComponentBtn.icon,this.addComponentBtn=r.renderButton(this.tools.container,{className:i.classNames.editToolsBtn,icon:t,text:this.lang.addComponent,callback:()=>{e.sidebar&&(e.sidebar.show(),e.setEditOverlay())},style:{display:"none"}}))}createRwdMenu(){const s=this.board.options.responsiveBreakpoints;var e,t=this.tools.container,o=this.options?.tools?.rwdButtons?.icons||{};for(const n in s)!t||(e=r.renderButton(t,{className:i.classNames.editToolsBtn,icon:o[n]||"",text:this.lang[n],callback:e=>{const t=e.target,o=t.classList.contains("selected");o?(t.classList.remove("selected"),this.board.layoutsWrapper.style.width="",this.rwdMode=""):(this.rwdMenu.forEach(e=>{e.classList.remove("selected")}),t.classList.add("selected"),this.board.layoutsWrapper.style.width=s[n]+"px",this.rwdMode=n),this.board.reflow()},style:{display:"none"}}))&&this.rwdMenu.push(e)}showRwdButtons(){for(let e=0,t=this.rwdMenu.length;e<t;++e)this.rwdMenu[e].style.display="block"}hideRwdButtons(){for(let e=0,t=this.rwdMenu.length;e<t;++e)this.rwdMenu[e].style.display="none"}onDetectContext(o){var s,n,i=this;if(i.isActive()&&i.isContextDetectionActive&&(i.mouseCellContext||i.mouseRowContext)&&!(i.dragDrop||{}).isActive){let e,t;i.mouseCellContext?e=d.getContext(i.mouseCellContext,o,50).cell:i.mouseRowContext&&(t=i.mouseRowContext,e=t.layout.parentCell),(this.potentialCellContext=e)&&(o=h.getOffsets(e,i.board.container),{width:s,height:n}=h.getDimFromOffsets(o),i.showContextPointer(o.left,o.top,s,n))}}stopContextDetection(){this.isContextDetectionActive=!1,this.dragDrop&&(this.dragDrop.mouseCellContext=void 0),this.mouseCellContext=void 0,this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(e,t){const o=t&&t.row;this.editCellContext=e,this.showToolbars(["row","cell"],e),o&&o===e.row||(o&&o.setHighlight(!0),e.row.setHighlight()),this.resizer&&this.resizer.setSnapPositions(e)}showContextPointer(e,t,o,s){this.contextPointer.isVisible=!0,m(this.contextPointer.element,{display:"block",left:e+"px",top:t+"px",height:s+"px",width:o+"px"})}hideContextPointer(){this.contextPointer.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(e){const t=this.editOverlay,o=t.classList.contains(i.classNames.editOverlayActive);e||o?e&&o&&(t.classList.remove(i.classNames.editOverlayActive),this.isEditOverlayActive=!1):(t.classList.add(i.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}}),t(e,"Dashboards/EditMode/Fullscreen.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(e,t){const n=e["addEvent"];return class{constructor(e){this.isOpen=!1,this.board=e,this.board.boardWrapper.classList.add(t.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(!this.isOpen){const e=this,t=e.board,o=n(t.boardWrapper.ownerDocument,"fullscreenchange",function(){e.isOpen?(e.isOpen=!1,e.close()):(e.isOpen=!0,e.setButtonText())}),s=(e.unbindFullscreenEvent=()=>{o()},t.boardWrapper.requestFullscreen());s.catch(()=>{throw new Error("Full screen is not supported.")})}}close(){const e=this,t=e.board;e.isOpen&&t.boardWrapper.ownerDocument instanceof Document&&t.boardWrapper.ownerDocument.exitFullscreen(),e.unbindFullscreenEvent&&(e.unbindFullscreenEvent=e.unbindFullscreenEvent()),e.isOpen=!1,this.setButtonText()}setButtonText(){const e=this.board.editMode,t=e&&e.tools.contextMenu,o=t&&t.items.viewFullscreen;var s;o&&o.innerElement&&(s=e.lang,o.innerElement.innerHTML=(this.isOpen?s.exitFullscreen:s.viewFullscreen)||"")}}}),t(e,"Dashboards/CallbackRegistry.js",[],function(){return class{constructor(){this.registry={}}addCallback(e,t){this.registry[e]=t}getCallback(e){return this.registry[e]}toJSON(){const s={};return Object.keys(this.registry).forEach(e=>{const{func:t,type:o}=this.getCallback(e);s[e]={func:t.toString(),type:o}}),s}}}),t(e,"Dashboards/Components/EditableOptions.js",[],function(){class o{constructor(e,t=o.defaultBindings){this.component=e,this.bindings=t}getOptions(){var o=this.component.options.editableOptions;for(let e=0,t=o.length;e<t;e++){const n=o[e];if("connectorName"===n.name){const i=this.component.board;var s=i?i.dataPool.getConnectorIds().map(e=>({name:e})):[];n.selectOptions=s}}return o}}return o.defaultBindings={keyMap:{color:"colorPicker",title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input",boolean:"toggle"},skipRedraw:[]},o.defaultTypeMap={string:"text",number:"input",boolean:"toggle"},o}),t(e,"Dashboards/Components/ComponentUtilities.js",[],function(){var e,t;function s(e,t){const o=E.getComputedStyle(e);return t.map(e=>o[e])}function n(e,t){return t&&(e+="number"==typeof t?t:parseFloat(t)),e}return(t=e=e||{}).getMargins=function(e,t=!0){var o={x:["borderLeft","borderRight"],y:["borderTop","borderBottom"]};return{y:s(e,["marginTop","marginBottom",...t?o.y:[]]).reduce(n,0),x:s(e,["marginLeft","marginTop",...t?o.x:[]]).reduce(n,0)}},t.getPaddings=function(e){return{x:s(e,["paddingLeft","paddingRight"]).reduce(n,0),y:s(e,["paddingTop","paddingBottom"]).reduce(n,0)}},t.getStyles=s,t.sumPixels=n,e}),t(e,"Dashboards/Components/SharedComponentState.js",[e["Dashboards/Serializable.js"],e["Core/Utilities.js"]],function(e,t){const{addEvent:o,fireEvent:s,merge:n}=t;class i{constructor(){this.columnVisibilityMap={},this.hiddenRowIndexes=[],this.selection={}}emit(e){s(this,e.type,e)}getColumnOrder(){return(this.columnOrder||[]).slice()}getColumnVisibility(e){return this.columnVisibilityMap[e]}getColumnSorter(){const o=(this.columnOrder||[]).slice();return o.length?(e,t)=>{e=o.indexOf(e),t=o.indexOf(t);return-1<e&&-1<t?e-t:-1<t?1:-1<e?-1:0}:()=>0}isSet(){return!0===this.isModified}on(e,t){return o(this,e,t)}setColumnOrder(e,t){var o=this,s=(o.columnOrder||[]).slice(),e=e.slice();o.emit({type:"columnOrderChange",detail:t,newColumnOrder:e,oldColumnOrder:s}),o.columnOrder=e,o.isModified=!0,o.emit({type:"afterColumnOrderChange",detail:t,newColumnOrder:e,oldColumnOrder:s})}setColumnVisibility(e,t){this.columnVisibilityMap=n(this.columnVisibilityMap,e),this.emit({type:"afterColumnVisibilityChange",visibilityMap:this.columnVisibilityMap,detail:t})}setHiddenRows(e,t=!0){e.forEach(e=>{-1===this.hiddenRowIndexes.indexOf(e)&&t&&this.hiddenRowIndexes.push(e),-1<this.hiddenRowIndexes.indexOf(e)&&!t&&this.hiddenRowIndexes.splice(this.hiddenRowIndexes.indexOf(e),1)}),this.emit({type:"afterSetHiddenRows",hiddenRows:this.hiddenRowIndexes})}getHiddenRows(){return this.hiddenRowIndexes}setHoverPoint(e,t){var o=t&&t.isDataGrid;this.hoverPoint=o?void 0:e,e instanceof HTMLElement&&(this.hoverRow=o?e:void 0),this.emit({type:"afterHoverPointChange",hoverPoint:o?void 0:this.hoverPoint,hoverRow:o?this.hoverRow:void 0,detail:t})}getHoverPoint(){return this.hoverPoint}getSelection(){return this.selection}setSelection(t,e=!1,o){const s=Object.keys(t);s.forEach(e=>{this.selection[e]=t[e]}),this.emit({type:"afterSelectionChange",selection:this.selection,reset:e,detail:o})}fromJSON(e){const t=new i;var{columnOrder:e,visibilityMap:o,selection:s,hoverpoint:n}=e;return e&&t.setColumnOrder(e),o&&t.setColumnVisibility(o),s&&t.setSelection(s),n&&t.setHoverPoint(n),t}toJSON(){const e={$class:"Dashboards.SharedComponentState"};var t,o,s;return this.columnOrder&&(e.columnOrder=this.columnOrder.slice()),this.hoverPoint&&({x:t,y:o,id:s}=this.hoverPoint,e.hoverPoint={x:t,y:o,id:s}),this.selection&&(e.selection=this.selection),this.columnVisibilityMap&&(e.columnVisibility=this.columnVisibilityMap),e}}return e.registerClassPrototype("Dashboards.SharedComponentState",i.prototype),i}),t(e,"Dashboards/Components/ComponentGroup.js",[e["Dashboards/Components/SharedComponentState.js"]],function(t){class o{static getComponentGroup(e){if(this.componentGroups[e])return this.componentGroups[e]}static addComponentGroup(e){var t=e["id"];this.componentGroups[t]||(this.componentGroups[t]=e)}static getGroupsFromComponent(s){const e=Object.keys(this.componentGroups);return e.reduce((e,t)=>{const o=this.getComponentGroup(t);return o&&-1<o.components.indexOf(s)&&e.push(o),e},[])}constructor(e){this.state=new t,this.components=[],this.id=e,o.addComponentGroup(this)}addComponents(e){for(;e.length;){var t=e.pop();if(!t)break;-1===this.components.indexOf(t)&&this.components.push(t)}}removeComponents(e){for(;e.length;){var t=e.pop();if(!t)break;t=this.components.indexOf(t);-1<t&&this.components.splice(t,1)}}getSharedState(){return this.state}on(){throw new Error("Method not implemented.")}emit(){throw new Error("Method not implemented.")}}return o.componentGroups={},o}),t(e,"Dashboards/Components/Sync/Emitter.js",[],function(){class o{static register(e){var t=e["id"];this.registry[t]=e}static get(e){return this.registry[e]}constructor(e,t){this.id=e,this.func=t,o.register(this)}create(e){this.callback=this.func.call(e)}remove(){this.callback&&this.callback()}}return o.registry={},o}),t(e,"Dashboards/Components/Sync/Handler.js",[],function(){class s{static register(e){var t=e["id"];this.registry[t]=e}static get(e){return this.registry[e]}constructor(e,t,o){this.id=e,this.presentationStateTrigger=t,this.func=o,s.register(this)}create(t){const e=t["activeGroup"],o=this["func"];e&&this.presentationStateTrigger&&(this.callback=e.getSharedState().on(this.presentationStateTrigger,function(e){t.id!==(e.detail?e.detail.sender:void 0)&&o.call(t,e)}))}register(e){const t=this["func"];this.callback=t.call(e)}remove(){this.callback&&this.callback()}}return s.registry={},s}),t(e,"Dashboards/Components/Sync/Sync.js",[e["Dashboards/Components/Sync/Emitter.js"],e["Dashboards/Components/Sync/Handler.js"]],function(a,l){class c{constructor(e,t=c.defaultHandlers){this.component=e,this.syncConfig=t,this.registeredSyncHandlers={},this.registeredSyncEmitters={},this.isSyncing=!1,this.listeners=[]}registerSyncEmitter(e){var t=e["id"];this.registeredSyncEmitters[t]=e}isRegisteredEmitter(e){return Boolean(this.registeredSyncEmitters[e])}registerSyncHandler(e){var t=e["id"];this.registeredSyncHandlers[t]=e}isRegisteredHandler(e){return Boolean(this.registeredSyncHandlers[e])}start(){const{syncConfig:o,component:s}=this;for(const n of Object.keys(o))if(o[n]){let{emitter:e,handler:t}=o[n];if(t){"function"==typeof(t="boolean"==typeof t?c.defaultHandlers[n].handler:t)&&(t=[n,void 0,t]);const i=new l(...t);this.isRegisteredHandler(i.id)||(this.registerSyncHandler(i),void 0!==t[1]?i.create(s):i.register(s))}if(e){"function"==typeof(e="boolean"==typeof e?c.defaultHandlers[n].emitter:e)&&(e=[n,e]);const r=new a(...e);this.isRegisteredEmitter(r.id)||(this.registerSyncEmitter(r),r.create(s))}}this.isSyncing=!0,this.listeners.push(s.on("update",()=>this.stop()))}stop(){const{component:e,listeners:o,registeredSyncHandlers:t,registeredSyncEmitters:s}=this;Object.keys(t).forEach(e=>{t[e].remove(),delete t[e]}),Object.keys(s).forEach(e=>{s[e].remove(),delete s[e]}),this.isSyncing=!1;for(let e=0,t=o.length;e<t;++e)o[e]();this.listeners.length=0,this.listeners.push(e.on("afterUpdate",()=>{this.start()}))}}return c.defaultHandlers={},c}),t(e,"Dashboards/Components/Component.js",[e["Dashboards/CallbackRegistry.js"],e["Dashboards/Components/EditableOptions.js"],e["Dashboards/Globals.js"],e["Core/Utilities.js"],e["Dashboards/Components/ComponentUtilities.js"],e["Dashboards/Components/ComponentGroup.js"],e["Dashboards/Utilities.js"],e["Dashboards/Components/Sync/Sync.js"]],function(o,s,n,e,t,i,r,a){const l=n["classNamePrefix"],{createElement:c,isArray:d,merge:h,fireEvent:u,addEvent:p,objectEach:m,isFunction:f,getStyle:g,relativeLength:b,diffObjects:y}=e,{getMargins:C,getPaddings:v}=t,w=r["uniqueKey"];class x{static createTextElement(e,t,o){var s,n,i;return"object"==typeof o?({className:s,text:n,style:i}=o,c(e,{className:s||l+"component-"+t,textContent:n},i)):"string"==typeof o?c(e,{className:l+"component-"+t,textContent:o},{}):void 0}constructor(e,t){this.callbackRegistry=new o,this.tableEvents=[],this.cellListeners=[],this.activeGroup=void 0,this.resizeTimeouts=[],this.innerResizeTimeouts=[],this.board=e.row.layout.board,this.parentElement=e.container,this.cell=e,this.options=h(x.defaultOptions,t),this.id=this.options.id&&this.options.id.length?this.options.id:w(),this.editableOptions=new s(this,t.editableOptionsBindings),this.presentationModifier=this.options.presentationModifier,this.dimensions={width:null,height:null},this.element=c("div",{className:this.options.className},{},this.parentElement),this.contentElement=c("div",{className:this.options.className+"-content"},{height:"100%"},this.element,!0),this.filterAndAssignSyncOptions(),this.setupEventListeners(),this.attachCellListeneres(),this.on("tableChanged",()=>{this.onTableChanged()}),this.on("update",()=>{this.cell.setLoadingState()}),this.on("afterRender",()=>{this.cell.setLoadingState(!1)})}async initConnector(){var e;return this.options.connector?.id&&this.connectorId!==this.options.connector.id&&(this.cell.setLoadingState(),e=await this.board.dataPool.getConnector(this.options.connector.id),this.setConnector(e)),this}filterAndAssignSyncOptions(s=this.constructor.syncHandlers){const n=this.options.sync||{};var e=Object.keys(n).reduce((e,t)=>{var o;return t&&((o=n[t])&&"object"==typeof o&&(e[t]=o),o&&"boolean"==typeof o&&(e[t]=s[t])),e},{});this.sync&&(this.sync.syncConfig=e),this.syncHandlers=e}attachCellListeneres(){for(;this.cellListeners.length;){const t=this.cellListeners.pop();t&&t()}var e;this.cell&&Object.keys(this.cell).length&&(e=this.cell.row.layout.board,this.cellListeners.push(p(e,"cellResize",()=>{this.resizeTo(this.parentElement)}),p(this.cell.row,"cellChange",e=>{const t=e["row"];t&&this.cell&&void 0===t.getCellIndex(this.cell)&&this.cell&&this.setCell(this.cell)})))}setCell(e,t=!1){(this.cell=e).container&&(this.parentElement=e.container),this.attachCellListeneres(),t&&this.resizeTo(this.parentElement)}setupTableListeners(t){const e=this.connector;e&&(t&&["afterDeleteColumns","afterDeleteRows","afterSetCell","afterSetConnector","afterSetColumns","afterSetRows"].forEach(e=>{this.tableEvents.push(t.on(e,e=>{clearInterval(this.tableEventTimeout),this.tableEventTimeout=n.win.setTimeout(()=>{this.emit({...e,type:"tableChanged"}),this.tableEventTimeout=void 0},0)}))}),this.tableEvents.push(e.on("afterLoad",()=>{this.emit({target:this,type:"tableChanged"})})))}clearTableListeners(){const e=this.connector,t=this.tableEvents;t.length&&t.forEach(e=>e()),e&&t.push(e.table.on("afterSetModifier",e=>{"afterSetModifier"===e.type&&this.emit({...e,type:"tableChanged"})}))}setConnector(e){for(u(this,"setConnector",{connector:e});this.tableEvents.length;){const o=this.tableEvents.pop();"function"==typeof o&&o()}if(this.connector=e){this.clearTableListeners(),this.setupTableListeners(e.table),e.table.on("setModifier",()=>this.clearTableListeners()),e.table.on("afterSetModifier",e=>{"afterSetModifier"===e.type&&e.modified&&this.setupTableListeners(e.modified)});var t=e.table.id;i.getComponentGroup(t)||i.addComponentGroup(new i(t));const s=i.getComponentGroup(t);s&&(s.addComponents([this.id]),this.activeGroup=s)}return u(this,"afterSetConnector",{connector:e}),this}setActiveGroup(e){(e="string"==typeof e?i.getComponentGroup(e)||null:e)instanceof i&&(this.activeGroup=e),null===e&&(this.activeGroup=void 0),this.activeGroup&&this.activeGroup.addComponents([this.id])}getContentHeight(){return(this.dimensions.height||Number(g(this.element,"height")))-(this.titleElement?this.titleElement.clientHeight+C(this.titleElement).y:0)-(this.captionElement?this.captionElement.clientHeight+C(this.captionElement).y:0)}resize(e,t){var o;t&&(o=v(this.element).y+C(this.element).y,this.dimensions.height=b(t,Number(g(this.parentElement,"height")))-o,this.element.style.height=this.dimensions.height+"px",this.contentElement.style.height=this.getContentHeight()+"px"),e&&(o=v(this.element).x+C(this.element).x,this.dimensions.width=b(e,Number(g(this.parentElement,"width")))-o,this.element.style.width=this.dimensions.width+"px"),null===t&&(this.dimensions.height=null,this.element.style.removeProperty("height")),null===e&&(this.dimensions.width=null,this.element.style.removeProperty("width")),u(this,"resize",{width:e,height:t})}resizeTo(n){for(;this.resizeTimeouts.length;){var e=this.resizeTimeouts.pop();e&&cancelAnimationFrame(e)}var t=requestAnimationFrame(()=>{var{width:e,height:t}=n.getBoundingClientRect(),o=v(n),s=C(n);this.resize(e-o.x-s.x,t-o.y-s.y)});this.resizeTimeouts.push(t)}async update(e,t=!0){var o,s={options:e,shouldForceRerender:!1};u(this,"update",s),this.options=h(this.options,e),this.options.connector?.id&&this.connectorId!==this.options.connector.id&&(o=await this.board.dataPool.getConnector(this.options.connector.id),this.setConnector(o)),this.options=h(this.options,e),(t||s.shouldForceRerender)&&this.render()}setupEventListeners(){const o=this.options.events;o&&(Object.keys(o).forEach(e=>{var t=o[e];t&&this.callbackRegistry.addCallback(e,{type:"component",func:t})}),m(o,(e,t)=>{f(e)&&this.on(t,e)})),E.addEventListener("resize",()=>this.resizeTo(this.parentElement))}setTitle(e){const t=this.titleElement,o=e&&("string"==typeof e||e.text);o?(e=x.createTextElement("h2","title",e))&&(t?t.replaceWith(e):this.element.insertBefore(e,this.element.firstChild),this.titleElement=e):t&&(t.remove(),delete this.titleElement)}setCaption(e){const t=this.captionElement,o=e&&("string"==typeof e||e.text);o?(e=x.createTextElement("div","caption",e))&&(t?t.replaceWith(e):this.element.appendChild(e),this.titleElement=e):t&&(t.remove(),delete this.captionElement)}async load(){return await this.initConnector(),this.render(),this}render(){return this.emit({type:"render"}),this.resizeTo(this.parentElement),this.setTitle(this.options.title),this.setCaption(this.options.caption),this}destroy(){for(;this.element.firstChild;)this.element.firstChild.remove();this.tableEvents.forEach(e=>e()),this.element.remove()}on(e,t){return p(this,e,t)}emit(e){e.target||(e.target=this),u(this,e.type,e)}toJSON(){const o={width:0,height:0};return m(this.dimensions,function(e,t){null!==e&&(o[t]=e)}),{$class:this.options.type,options:{cell:this.options.cell,parentElement:this.parentElement.id,dimensions:o,id:this.id,type:this.type}}}getOptions(){return y(this.options,x.defaultOptions)}getEditableOptions(){return h(this.options)}getEditableOptionValue(s){if(s){let o=this.getEditableOptions();for(let e=0,t=s.length;e<t;e++){if(!o)return;o=(o=d(o)?o[0]:o)[s[e]]}return o}}}return x.Sync=a,x.defaultOptions={className:l+"component",id:"",title:!1,caption:!1,sync:a.defaultHandlers,editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]},x.syncHandlers={},x}),t(e,"Dashboards/Components/HTMLComponent.js",[e["Core/Renderer/HTML/AST.js"],e["Dashboards/Components/Component.js"],e["Core/Utilities.js"]],function(o,s,e){const{merge:i,diffObjects:t}=e;o.allowedTags=[...o.allowedTags,"option","select","label","input","textarea"],o.allowedAttributes=[...o.allowedAttributes,"for","value","checked","src","name","selected"],o.allowedReferences=[...o.allowedReferences,"data:image/"];class r extends s{static fromJSON(e,t){var o=e.options,s=e.elements?e.elements.map(e=>JSON.parse(e)):[];const n=new r(t,i(o,{elements:s}));return n.emit({type:"fromJSON",json:e}),n}constructor(e,t){super(e,t=i(r.defaultOptions,t)),this.options=t,this.type="HTML",this.elements=[],this.sync=new s.Sync(this,this.syncHandlers)}async load(){this.emit({type:"load"}),await super.load();const e=this.options;let t=!1;if(e.elements&&(this.elements=e.elements.map(function(e){return"string"==typeof e?new o(e).nodes[0]:(e.textContent||e.tagName||!e.attributes||(t=!0),e)})),this.constructTree(),this.emit({type:"afterLoad"}),t)throw new Error("Missing tagName param in component: "+e.cell);return this}render(){return super.render(),this.constructTree(),this.emit({type:"afterRender"}),this}resize(e,t){return super.resize(e,t),this}async update(e){await super.update(e),this.emit({type:"afterUpdate"})}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();const e=new o(this.elements);e.addToDOM(this.contentElement)}toJSON(){var e=(this.options.elements||[]).map(e=>JSON.stringify(e)),e=i(super.toJSON(),{elements:e,options:this.options});return this.emit({type:"toJSON",json:e}),e}getOptions(){return{...t(this.options,r.defaultOptions),type:"HTML"}}onTableChanged(e){e.detail?.sender!==this.id&&this.render()}}return r.defaultOptions=i(s.defaultOptions,{type:"HTML",elements:[]}),r}),t(e,"Dashboards/Board.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Dashboards/Accessibility/DashboardsAccessibility.js"],e["Data/DataCursor.js"],e["Dashboards/SerializeHelper/DataCursorHelper.js"],e["Data/DataPool.js"],e["Dashboards/EditMode/EditMode.js"],e["Dashboards/EditMode/Fullscreen.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/Layout.js"],e["Dashboards/Serializable.js"],e["Core/Utilities.js"],e["Dashboards/Components/HTMLComponent.js"]],function(n,e,o,s,i,r,a,l,c,d,t,h,u){const{merge:p,addEvent:m,error:f,objectEach:g,uniqueKey:b,createElement:y}=h;class C{static board(e,t,o){return new C(e,t).init(o)}constructor(e,t){this.boardWrapper=void 0,this.container=void 0,this.options=p(C.defaultOptions,t),this.dataPool=new r(t.dataPool),this.id=b(),this.guiEnabled=(this.options.gui||{}).enabled,this.layouts=[],this.mountedComponents=[],this.initContainer(e),this.layoutsWrapper=y("div",{className:c.classNames.layoutsWrapper},{},this.container),!a||this.options.editMode&&!this.options.editMode.enabled||(this.editMode=new a(this,this.options.editMode)),this.dataCursor=new s,this.fullscreen=new l(this),this.index=c.boards.length,c.boards.push(this),this.a11y=new o(this)}init(e){var t=this.options,t=(t.gui&&this.options.gui&&this.setLayouts(this.options.gui),t.layoutsJSON&&!this.layouts.length&&this.setLayoutsFromJSON(t.layoutsJSON),t.components?this.setComponents(t.components):[]);return this.initEvents(),e?Promise.all(t).then(()=>this):this}initEvents(){const e=this,t=()=>{e.reflow()};var o;"function"==typeof ResizeObserver?(this.resizeObserver=new ResizeObserver(t),this.resizeObserver.observe(e.container)):(o=m(E,"resize",t),m(this,"destroy",o))}initContainer(e){(e="string"==typeof e?E.document.getElementById(e):e)||f(13,!0),e.innerHTML="",this.boardWrapper=e,this.container=y("div",{className:c.classNames.boardContainer},{},this.boardWrapper)}setLayouts(o){var s=o.layouts;for(let e=0,t=s.length;e<t;++e)this.layouts.push(new d(this,p({},o.layoutOptions,s[e])))}setLayoutsFromJSON(o){var s;for(let e=0,t=o.length;e<t;++e)(s=d.fromJSON(o[e],this))&&this.layouts.push(s)}setComponents(o){const s=[];for(let e=0,t=o.length;e<t;++e)s.push(n.addComponent(o[e]));return s}getLayoutContainerSize(){var e=this.options.responsiveBreakpoints,t=(this.layoutsWrapper||{}).clientWidth;let o=c.responsiveBreakpoints.large;return e&&(t<=e.small?o=c.responsiveBreakpoints.small:t>e.small&&t<=e.medium&&(o=c.responsiveBreakpoints.medium)),o}destroy(){const o=this;for(let e=0,t=o.layouts.length;e<t;++e)o.layouts[e].destroy();this.resizeObserver?.unobserve(o.container),o.container.remove(),g(o,function(e,t){delete o[t]}),c.boards[this.index]=void 0}exportLocal(){localStorage.setItem(c.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(e){return d.importLocal(e,this)}reflow(){var o=this,s=o.getLayoutContainerSize();o.editMode&&(o.editMode.hideToolbars(["cell","row"]),o.editMode.hideContextPointer());for(let e=0,t=o.layouts.length;e<t;++e)this.reflowLayout(o.layouts[e],s)}reflowLayout(s,n){let i,r;for(let o=0,e=s.rows.length;o<e;++o)for(let e=0,t=(i=s.rows[o]).cells.length;e<t;++e)(r=i.cells[e]).reflow(n),r.nestedLayout&&this.reflowLayout(r.nestedLayout,n)}fromJSON(e){const t=e.options,o=new C(t.containerId,{componentOptions:t.componentOptions,responsiveBreakpoints:t.responsiveBreakpoints,dataPool:t.dataPool,layoutsJSON:t.layouts});return o.dataCursor=i.fromJSON(e.dataCursor),o}toJSON(){const o=this,s=[];for(let e=0,t=o.layouts.length;e<t;++e)s.push(o.layouts[e].toJSON());return{$class:"Board",dataCursor:i.toJSON(o.dataCursor),options:{containerId:o.container.id,dataPool:o.options.dataPool,guiEnabled:o.guiEnabled,layouts:s,componentOptions:o.options.componentOptions,responsiveBreakpoints:o.options.responsiveBreakpoints}}}getOptions(){const o=this,s=[],n=[];for(let e=0,t=o.layouts.length;e<t;++e)s.push(o.layouts[e].getOptions());for(let e=0,t=o.mountedComponents.length;e<t;++e)o.mountedComponents[e].cell&&o.mountedComponents[e].cell.mountedComponent&&n.push(o.mountedComponents[e].component.getOptions());return{...this.options,gui:{layouts:s},components:n}}}return(h=C=C||{}).defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},layouts:[]},components:[],responsiveBreakpoints:{small:576,medium:992,large:1200}},h.componentTypes=e.types,h.importLocal=function(){var e=localStorage.getItem(c.classNamePrefix+"1");if(e)try{return t.fromJSON(JSON.parse(e))}catch(e){}},t.registerClassPrototype("Board",C.prototype),e.registerComponent("HTML",u),C}),t(e,"Dashboards/PluginHandler.js",[e["Dashboards/Board.js"],e["Dashboards/Components/Sync/Sync.js"],e["Dashboards/Components/ComponentRegistry.js"]],function(i,r,a){var e,l;return(l=e=e||{}).registry={},l.revision=0,l.addPlugin=function(e,t=e.name){const{maxRevision:o,minRevision:s,onRegister:n}=e;if(l.registry[t]){if(t!==e.name)throw new Error(`Plugin '${t}' already registered.`)}else{if("number"==typeof s&&s>l.revision||"number"==typeof o&&o<l.revision)throw new Error(`Plugin '${t}' does not support revision ${l.revision}.`);n({Board:i,ComponentRegistry:a,Sync:r,revision:l.revision}),l.registry[t]=e}},l.removePlugin=function(e){l.registry[e]&&(l.registry[e].onUnregister({ComponentRegistry:a,Board:i,Sync:r,revision:l.revision}),delete l.registry[e])},e}),t(e,"Data/Converters/DataConverter.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,t){const{addEvent:o,fireEvent:s,isNumber:c,merge:n}=t;class i{constructor(e){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[3]-1,+e[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[4],e[3]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[4],e[1]-1,+e[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(e){const t=new Date;if(!e)return NaN;let o=+e[4];return o>t.getFullYear()-2e3?o+=1900:o+=2e3,Date.UTC(o,e[3]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(e){return e?Date.UTC(+e[4]+2e3,e[1]-1,+e[3]):NaN}}};e=n(i.defaultOptions,e);let t=e.decimalPoint;"."!==t&&","!==t||(t="."===t?"\\.":",",this.decimalRegExp=new RegExp("^(-?[0-9]+)"+t+"([0-9]+)$")),this.options=e}asBoolean(e){return"boolean"==typeof e?e:"string"==typeof e?""!==e&&"0"!==e&&"false"!==e:!!this.asNumber(e)}asDate(e){let t;if("string"==typeof e)t=this.parseDate(e);else if("number"==typeof e)t=e;else{if(e instanceof Date)return e;t=this.parseDate(this.asString(e))}return new Date(t)}asGuessedType(e){const t=this,o={number:t.asNumber,Date:t.asDate,string:t.asString};return o[t.guessType(e)].call(t,e)}asNumber(e){if("number"==typeof e)return e;if("boolean"==typeof e)return e?1:0;if("string"!=typeof e)return e instanceof Date?e.getDate():e?e.getRowCount():NaN;{const t=this.decimalRegExp;if(-1<e.indexOf(" ")&&(e=e.replace(/\s+/g,"")),t){if(!t.test(e))return NaN;e=e.replace(t,"$1.$2")}return parseFloat(e)}}asString(e){return""+e}deduceDateFormat(e,t,o){const s=[],n=[];let i="YYYY/mm/dd",r,a=[],l=0,c=!1,d,h;for((!t||t>e.length)&&(t=e.length);l<t;l++)if(void 0!==e[l]&&e[l]&&e[l].length)for(r=e[l].trim().replace(/[-\.\/]/g," ").split(" "),a=["","",""],h=0;h<r.length;h++)h<a.length&&(d=parseInt(r[h],10))&&(n[h]=!n[h]||n[h]<d?d:n[h],void 0!==s[h]?s[h]!==d&&(s[h]=!1):s[h]=d,31<d?a[h]=d<100?"YY":"YYYY":12<d&&d<=31?(a[h]="dd",c=!0):a[h].length||(a[h]="mm"));if(c){for(h=0;h<s.length;h++)!1!==s[h]?12<n[h]&&"YY"!==a[h]&&"YYYY"!==a[h]&&(a[h]="YY"):12<n[h]&&"mm"===a[h]&&(a[h]="dd");3===a.length&&"dd"===a[1]&&"dd"===a[2]&&(a[2]="YY"),i=a.join("/")}return o&&(this.options.dateFormat=i),i}emit(e){s(this,e.type,e)}export(e,t){throw this.emit({type:"exportError",columns:[],headers:[]}),new Error("Not implemented")}getTable(){throw new Error("Not implemented")}guessType(t){let o="string";if("string"==typeof t){const n=this.trim(""+t),i=this.decimalRegExp;let e=this.trim(n,!0);i&&(e=i.test(e)?e.replace(i,"$1.$2"):"");var s=parseFloat(e);+e===s?t=s:(s=this.parseDate(t),o=c(s)?"Date":"string")}return o="number"==typeof t?31536e6<t?"Date":"number":o}on(e,t){return o(this,e,t)}parse(e){throw this.emit({type:"parseError",columns:[],headers:[]}),new Error("Not implemented")}parseDate(e,t){const o=this,s=o.options;let n=t||s.dateFormat,i=NaN,r,a,l;if(s.parseDate)i=s.parseDate(e);else{if(n)a=(a=o.dateFormats[n])||o.dateFormats["YYYY/mm/dd"],(l=e.match(a.regex))&&(i=a.parser(l));else for(r in o.dateFormats)if(a=o.dateFormats[r],l=e.match(a.regex)){n=r,i=a.parser(l);break}l||("object"==typeof(l=Date.parse(e))&&null!==l&&l.getTime?i=l.getTime()-6e4*l.getTimezoneOffset():c(l)&&(i=l-6e4*new Date(l).getTimezoneOffset(),-1===e.indexOf("2001")&&2001===new Date(i).getFullYear()&&(i=NaN)))}return i}trim(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,""))),e}}return i.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},(i||(i={})).getTableFromColumns=function(o=[],s=[]){const n=new e;for(let e=0,t=Math.max(s.length,o.length);e<t;++e)n.setColumn(s[e]||""+e,o[e]);return n},i}),t(e,"Data/Converters/CSVConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,t){const g=t["merge"];class o extends e{constructor(e){e=g(o.defaultOptions,e);super(e),this.columns=[],this.headers=[],this.dataTypes=[],this.options=e}export(e,t=this.options){var{useLocalDecimalPoint:o,lineDelimiter:s}=t,n=!1!==this.options.firstRowAsNames;let{decimalPoint:i,itemDelimiter:r}=t;i=i||(","!==r&&o?1.1.toLocaleString()[1]:"."),r=r||(","===i?";":",");const a=e.getSortedColumns(t.usePresentationOrder),l=Object.keys(a),c=[],d=l.length,h=[];n&&c.push(l.map(e=>`"${e}"`).join(r));for(let s=0;s<d;s++){var u=l[s],p=a[u],m=p.length,u=e.whatIs(u);let o;u&&(o=u.dataType);for(let t=0;t<m;t++){let e=p[t];if(h[t]||(h[t]=[]),"string"===o?e='"'+e+'"':"number"==typeof e?e=String(e).replace(".",i):"string"==typeof e&&(e=`"${e}"`),h[t][s]=e,s===d-1){let e=s;for(;2<h[t].length;){if(void 0!==h[t][e])break;h[t].pop(),e--}c.push(h[t].join(r))}}}return c.join(s)}parse(e,t){const s=this,o=s.dataTypes,n=g(this.options,e),{beforeParse:i,lineDelimiter:r,firstRowAsNames:a,itemDelimiter:l}=n;let c,d=0,{csv:h,startRow:u,endRow:p}=n,m;if(s.columns=[],s.emit({type:"parse",columns:s.columns,detail:t,headers:s.headers}),h=h&&i?i(h):h){if(c=h.replace(/\r\n|\r/g,"\n").split(r||"\n"),(!u||u<0)&&(u=0),(!p||p>=c.length)&&(p=c.length-1),l||(s.guessedItemDelimiter=s.guessDelimiter(c)),a){const f=c[0].split(l||s.guessedItemDelimiter||",");for(let e=0;e<f.length;e++)f[e]=f[e].trim().replace(/^["']|["']$/g,"");s.headers=f,u++}let e=0;for(d=u;d<=p;d++)"#"===c[d][0]?e++:s.parseCSVRow(c[d],d-u-e);o.length&&o[0].length&&"date"===o[0][1]&&!s.options.dateFormat&&s.deduceDateFormat(s.columns[0],null,!0);for(let o=0,e=s.columns.length;o<e;++o)for(let t=0,e=(m=s.columns[o]).length;t<e;++t)if(m[t]&&"string"==typeof m[t]){let e=s.asGuessedType(m[t]);e instanceof Date&&(e=e.getTime()),s.columns[o][t]=e}}s.emit({type:"afterParse",columns:s.columns,detail:t,headers:s.headers})}parseCSVRow(t,o){const s=this,n=s.columns||[],i=s.dataTypes,{startColumn:r,endColumn:a}=s.options,e=s.options.itemDelimiter||s.guessedItemDelimiter;let l=s.options["decimalPoint"],c=(l&&l!==e||(l=s.guessedDecimalPoint||"."),0),d="",h="",u="",p="",m=0,f=0;var g=e=>{d=t[e],h=t[e-1],u=t[e+1]};const b=e=>{i.length<f+1&&i.push([e]),i[f][i[f].length-1]!==e&&i[f].push(e)};var y=()=>{if(r>m||m>a)return++m,void(p="");var e;"string"==typeof p?!isNaN(parseFloat(p))&&isFinite(p)?(p=parseFloat(p),b("number")):isNaN(Date.parse(p))?b("string"):(p=p.replace(/\//g,"-"),b("date")):b("number"),n.length<f+1&&n.push([]),"number"!=typeof p&&"number"!==s.guessType(p)&&l&&(p=(e=p).replace(l,"."),"number"!==s.guessType(p)&&(p=e)),n[f][o]=p,p="",++f,++m};if(t.trim().length&&"#"!==t.trim()[0]){for(;c<t.length;c++){if(g(c),"#"===d&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(t.substring(c)))return void y();if('"'===d)for(g(++c);c<t.length&&'"'!==d;)p+=d,g(++c);else d===e?y():p+=d}y()}}guessDelimiter(r){let a=0,l=0,e;const c={",":0,";":0,"\t":0},t=r.length;for(let e=0;e<t;e++){let t=!1,o,s,n,i="";if(13<e)break;var d=r[e];for(let e=0;e<d.length&&(o=d[e],s=d[e+1],n=d[e-1],"#"!==o);e++){if('"'===o)if(t){if('"'!==n&&'"'!==s){for(;" "===s&&e<d.length;)s=d[++e];void 0!==c[s]&&c[s]++,t=!1}}else t=!0;else void 0!==c[o]?(i=i.trim(),isNaN(Date.parse(i))&&!isNaN(Number(i))&&isFinite(Number(i))||c[o]++,i=""):i+=o;","===o&&l++,"."===o&&a++}}return e=c[";"]>c[","]?";":(c[","],c[";"],","),a>l?this.guessedDecimalPoint=".":this.guessedDecimalPoint=",",e}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}return o.defaultOptions={...e.defaultOptions,lineDelimiter:"\n"},o}),t(e,"Data/Connectors/CSVConnector.js",[e["Data/Converters/CSVConverter.js"],e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"]],function(t,e,o){const s=o["merge"];class n extends e{constructor(e){e=s(n.defaultOptions,e);super(e),this.converter=new t(e),(this.options=e).enablePolling&&this.startPolling(1e3*Math.max(e.dataRefreshRate||0,1))}load(t){const o=this,s=o.converter,n=o.table,{csv:e,csvURL:i,dataModifier:r}=o.options;return o.emit({type:"load",csv:e,detail:t,table:n}),n.deleteRows(),Promise.resolve(i?fetch(i).then(e=>e.text()):e||"").then(e=>(e&&(s.parse({csv:e}),n.setColumns(s.getTable().getColumns())),o.setModifierOptions(r).then(()=>e))).then(e=>(o.emit({type:"afterLoad",csv:e,detail:t,table:n}),o)).catch(e=>{throw o.emit({type:"loadError",detail:t,error:e,table:n}),e})}}return n.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0},e.registerType("CSV",n),n}),t(e,"Data/Converters/GoogleSheetsConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,t){const{merge:o,uniqueKey:a}=t;class s extends e{constructor(e){e=o(s.defaultOptions,e);super(e),this.columns=[],this.header=[],this.options=e}parse(e,t){const s=this,n=o(s.options,e),i=(n.json&&n.json.values||[]).map(e=>e.slice());if(0===i.length)return!1;s.header=[],s.columns=[],s.emit({type:"parse",columns:s.columns,detail:t,headers:s.header});let r;for(let o=0,e=(s.columns=i).length;o<e;o++){r=i[o],s.header[o]=n.firstRowAsNames?""+r.shift():a();for(let t=0,e=r.length;t<e;++t)if(r[t]&&"string"==typeof r[t]){let e=s.asGuessedType(r[t]);e instanceof Date&&(e=e.getTime()),s.columns[o][t]=e}}s.emit({type:"afterParse",columns:s.columns,detail:t,headers:s.header})}getTable(){return e.getTableFromColumns(this.columns,this.header)}}return s.defaultOptions={...e.defaultOptions},s}),t(e,"Data/Connectors/GoogleSheetsConnector.js",[e["Data/Connectors/DataConnector.js"],e["Data/Converters/GoogleSheetsConverter.js"],e["Core/Utilities.js"]],function(e,t,o){const{merge:s,pick:i}=o;class h extends e{constructor(e){e=s(h.defaultOptions,e);super(e),this.converter=new t(e),this.options=e}load(t){const o=this,s=o.converter,n=o.table,{dataModifier:i,dataRefreshRate:e,enablePolling:r,firstRowAsNames:a,googleAPIKey:l,googleSpreadsheetKey:c}=o.options,d=h.buildFetchURL(l,c,o.options);return o.emit({type:"load",detail:t,table:n,url:d}),n.deleteColumns(),fetch(d).then(e=>e.json()).then(e=>{if("object"==typeof(t=e)&&t&&"object"==typeof t.error&&t.error&&"number"==typeof t.error.code&&"string"==typeof t.error.message&&"string"==typeof t.error.status)throw new Error(e.error.message);var t;return s.parse({firstRowAsNames:a,json:e}),n.setColumns(s.getTable().getColumns()),o.setModifierOptions(i)}).then(()=>(o.emit({type:"afterLoad",detail:t,table:n,url:d}),r&&setTimeout(()=>o.load(),1e3*Math.max(e||0,1)),o)).catch(e=>{throw o.emit({type:"loadError",detail:t,error:e,table:n}),e})}}h.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0};{o=h=h||{};const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function n(e={}){var{endColumn:e,endRow:t,googleSpreadsheetRange:o,startColumn:s,startRow:n}=e;return o||(r[s||0]||"A")+(Math.max(n||0,0)+1)+":"+(r[i(e,25)]||"Z")+(t?Math.max(t,0):"Z")}o.buildFetchURL=function(e,t,o={}){return`https://sheets.googleapis.com/v4/spreadsheets/${t}/values/`+(o.onlyColumnNames?"A1:Z1":n(o))+"?alt=json"+(o.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false&key="+e},o.buildQueryRange=n}return e.registerType("GoogleSheets",h),h}),t(e,"Data/Converters/HTMLTableConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,t){const o=t["merge"];class s extends e{constructor(e){e=o(s.defaultOptions,e);super(e),this.columns=[],this.headers=[],(this.options=e).tableElement&&(this.tableElement=e.tableElement,this.tableElementID=e.tableElement.id)}export(e,t=this.options){var o=!1!==t.firstRowAsNames,s=t.useMultiLevelHeaders;const n=e.getSortedColumns(t.usePresentationOrder),i=Object.keys(n),r=[],a=i.length,l=[];let c="";if(o){const f=[];if(s){for(const g of i){var d=(n[g].shift()||"").toString();f.push(d)}c=this.getTableHeaderHTML(i,f,t)}else c=this.getTableHeaderHTML(void 0,i,t)}for(let o=0;o<a;o++){var h=i[o],u=n[h],p=u.length;for(let t=0;t<p;t++){let e=u[t];l[t]||(l[t]=[]),"string"!=typeof e&&"number"!=typeof e&&void 0!==e&&(e=(e||"").toString()),l[t][o]=this.getCellHTMLFromValue(o?"td":"th",null,o?"":'scope="row"',e),o===a-1&&r.push("<tr>"+l[t].join("")+"</tr>")}}let m="";return"<table>"+(m=t.tableCaption?'<caption class="highcharts-table-caption">'+t.tableCaption+"</caption>":m)+c+"<tbody>"+r.join("")+"</tbody></table>"}getCellHTMLFromValue(e,t,o,s,n){let i=s,r="text"+(t?" "+t:"");return"number"==typeof i?(i=i.toString(),","===n&&(i=i.replace(".",n)),r="number"):s||(i="",r="empty"),"<"+e+(o?" "+o:"")+' class="'+r+'">'+i+"</"+e+">"}getTableHeaderHTML(e=[],t=[],o=this.options){var{useMultiLevelHeaders:s,useRowspanHeaders:n}=o;o.useLocalDecimalPoint&&1.1.toLocaleString()[1];let i="<thead>",r=0,a=t&&t.length,l,c=0,d;if(s&&e&&t&&!function(e,t){let o=e.length;if(t.length===o){for(;--o;)if(e[o]!==t[o])return;return 1}}(e,t)){for(i+="<tr>";r<a;++r)(l=e[r])===e[r+1]?++c:c?(i+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(c+1)+'"',l),c=0):(l===t[r]?n?(d=2,delete t[r]):(d=1,t[r]=""):d=1,i+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<d?' valign="top" rowspan="'+d+'"':""),l));i+="</tr>"}if(t){for(i+="<tr>",r=0,a=t.length;r<a;++r)void 0!==t[r]&&(i+=this.getCellHTMLFromValue("th",null,'scope="col"',t[r]));i+="</tr>"}return i+="</thead>"}parse(e,t){const i=this,r=[],a=[],l=o(i.options,e),{endRow:c,startColumn:d,endColumn:h,firstRowAsNames:u}=l,p=l.tableElement||this.tableElement;if(p instanceof HTMLElement){i.tableElement=p,i.tableElementID=p.id,this.emit({type:"parse",columns:i.columns,detail:t,headers:i.headers});var m=p.getElementsByTagName("tr"),f=m.length;let o=0,s,n=l["startRow"];if(u&&f){var g=m[0].children,b=g.length;for(let e=d;e<b&&!(e>h);e++)"TD"!==(s=g[e]).tagName&&"TH"!==s.tagName||a.push(s.innerHTML);n++}for(;o<f;){if(o>=n&&o<=c){var y=m[o].children,C=y.length;let e=0;for(;e<C;){const v=e-d,w=r[v];if(("TD"===(s=y[e]).tagName||"TH"===s.tagName)&&e>=d&&e<=h){r[v]||(r[v]=[]);let e=i.asGuessedType(s.innerHTML),t=(e instanceof Date&&(e=e.getTime()),r[v][o-n]=e,1);for(;o-n>=t&&void 0===w[o-n-t];)w[o-n-t]=null,t++}e++}}o++}this.columns=r,this.headers=a,this.emit({type:"afterParse",columns:r,detail:t,headers:a})}else i.emit({type:"parseError",columns:r,detail:t,headers:a,error:"Not a valid HTML Table"})}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}return s.defaultOptions={...e.defaultOptions,useRowspanHeaders:!0,useMultiLevelHeaders:!0},s}),t(e,"Data/Connectors/HTMLTableConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Globals.js"],e["Data/Converters/HTMLTableConverter.js"],e["Core/Utilities.js"]],function(e,t,o,s){const l=t["win"],c=s["merge"];class n extends e{constructor(e){e=c(n.defaultOptions,e);super(e),this.converter=new o(e),this.options=e}load(e){const t=this,o=t.converter,s=t.table,{dataModifier:n,table:i}=t.options;t.emit({type:"load",detail:e,table:s,tableElement:t.tableElement}),s.deleteColumns();let r;var a;return"string"==typeof i?(t.tableID=i,r=l.document.getElementById(i)):(r=i,t.tableID=r.id),t.tableElement=r||void 0,t.tableElement?(o.parse(c({tableElement:t.tableElement},t.options),e),s.setColumns(o.getTable().getColumns()),t.setModifierOptions(n).then(()=>(t.emit({type:"afterLoad",detail:e,table:s,tableElement:t.tableElement}),t))):(t.emit({type:"loadError",detail:e,error:a="HTML table not provided, or element with ID not found",table:s}),Promise.reject(new Error(a)))}}return n.defaultOptions={table:""},e.registerType("HTMLTable",n),n}),t(e,"Data/Converters/JSONConverter.js",[e["Data/Converters/DataConverter.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,t,o){const{merge:d,isArray:h}=o;class s extends e{constructor(e){e=d(s.defaultOptions,e);super(e),this.columns=[],this.headers=[],this.dataTypes=[],this.options=e,this.table=new t}parse(e,t){var s=this;const{beforeParse:o,orientation:n,firstRowAsNames:i,columnNames:r}=e=d(s.options,e);let a=e.data;if(a)if(a=(a=o?o(a):a).slice(),"columns"===n)for(let e=0,t=a.length;e<t;e++){const c=a[e];if(!(c instanceof Array))return;i?s.headers.push(""+c.shift()):r&&s.headers.push(r[e]),s.table.setColumn(s.headers[e]||e.toString(),c)}else if("rows"===n){i?s.headers=a.shift():r&&(s.headers=r);for(let o=0,e=a.length;o<e;o++){var l=a[o];if(h(l))for(let e=0,t=l.length;e<t;e++)s.columns.length<e+1&&s.columns.push([]),s.columns[e].push(l[e]),this.table.setCell(s.headers[e]||o.toString(),o,l[e]);else this.table.setRows([l],o)}}}getTable(){return this.table}}return s.defaultOptions={...e.defaultOptions,data:[],orientation:"columns"},s}),t(e,"Data/Connectors/JSONConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"],e["Data/Converters/JSONConverter.js"]],function(e,t,o){const s=t["merge"];class n extends e{constructor(e){e=s(n.defaultOptions,e);super(e),this.converter=new o(e),(this.options=e).enablePolling&&this.startPolling(1e3*Math.max(e.dataRefreshRate||0,1))}load(t){const o=this,s=o.converter,n=o.table,{data:e,dataUrl:i,dataModifier:r}=o.options;return o.emit({type:"load",data:e,detail:t,table:n}),n.deleteRows(),Promise.resolve(i?fetch(i).then(e=>e.json()):e||[]).then(e=>(e&&(s.parse({data:e}),n.setColumns(s.getTable().getColumns())),o.setModifierOptions(r).then(()=>e))).then(e=>(o.emit({type:"afterLoad",data:e,detail:t,table:n}),o)).catch(e=>{throw o.emit({type:"loadError",detail:t,error:e,table:n}),e})}}return n.defaultOptions={data:[],enablePolling:!1,dataRefreshRate:0,firstRowAsNames:!0,orientation:"rows"},e.registerType("JSON",n),n}),t(e,"Data/Modifiers/ChainModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(r,e){const t=e["merge"];class o extends r{constructor(e,...n){super(),this.chain=n,this.options=t(o.defaultOptions,e);var i=this.options.chain||[];for(let e=0,t=i.length,o,s;e<t;++e)(o=i[e]).type&&(s=r.types[o.type])&&n.push(new s(o))}add(e,t){this.emit({type:"addModifier",detail:t,modifier:e}),this.chain.push(e),this.emit({type:"addModifier",detail:t,modifier:e})}clear(e){this.emit({type:"clearChain",detail:e}),this.chain.length=0,this.emit({type:"afterClearChain",detail:e})}modify(t,o){var s=this.options.reverse?this.chain.slice().reverse():this.chain.slice();t.modified===t&&(t.modified=t.clone(!1,o));let n=Promise.resolve(t);for(let e=0,t=s.length;e<t;++e){const i=s[e];n=n.then(e=>i.modify(e.modified,o))}return n=(n=n.then(e=>(t.modified.deleteColumns(),t.modified.setColumns(e.modified.getColumns()),t))).catch(e=>{throw this.emit({type:"error",detail:o,table:t}),e})}modifyCell(e,s,n,i,r){const a=this.options.reverse?this.chain.reverse():this.chain;if(a.length){let o=e.clone();for(let e=0,t=a.length;e<t;++e)a[e].modifyCell(o,s,n,i,r),o=o.modified;e.modified=o}return e}modifyColumns(e,s,n,i){const r=this.options.reverse?this.chain.reverse():this.chain.slice();if(r.length){let o=e.clone();for(let e=0,t=r.length;e<t;++e)r[e].modifyColumns(o,s,n,i),o=o.modified;e.modified=o}return e}modifyRows(e,s,n,i){const r=this.options.reverse?this.chain.reverse():this.chain.slice();if(r.length){let o=e.clone();for(let e=0,t=r.length;e<t;++e)r[e].modifyRows(o,s,n,i),o=o.modified;e.modified=o}return e}modifyTable(e,s){var t=this,n=(t.emit({type:"modify",detail:s,table:e}),t.options.reverse?t.chain.reverse():t.chain.slice());let i=e.modified;for(let e=0,t=n.length,o;e<t;++e)o=n[e],i=o.modifyTable(i,s).modified;return e.modified=i,t.emit({type:"afterModify",detail:s,table:e}),e}remove(e,t){const o=this.chain;this.emit({type:"removeModifier",detail:t,modifier:e}),o.splice(o.indexOf(e),1),this.emit({type:"afterRemoveModifier",detail:t,modifier:e})}}return o.defaultOptions={type:"Chain"},r.registerType("Chain",o),o}),t(e,"Data/Modifiers/InvertModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,t){const o=t["merge"];class s extends e{constructor(e){super(),this.options=o(s.defaultOptions,e)}modifyCell(e,t,o,s,n){const i=e.modified,r=i.getRowIndexBy("columnNames",t);return void 0===r?i.setColumns(this.modifyTable(e.clone()).getColumns(),void 0,n):i.setCell(""+o,r,s,n),e}modifyColumns(e,i,r,a){const l=e.modified,o=l.getColumn("columnNames")||[];let c=e.getColumnNames(),s=e.getRowCount()!==o.length;if(!s)for(let e=0,t=c.length;e<t;++e)if(c[e]!==o[e]){s=!0;break}if(s)return this.modifyTable(e,a);for(let e=0,t=(c=Object.keys(i)).length,s,o,n;e<t;++e){s=i[o=c[e]],n=l.getRowIndexBy("columnNames",o)||l.getRowCount();for(let e=0,t=r,o=s.length;e<o;++e,++t)l.setCell(""+t,n,s[e],a)}return e}modifyRows(e,n,i,r){const a=e.getColumnNames(),l=e.modified,o=l.getColumn("columnNames")||[];let s=e.getRowCount()!==o.length;if(!s)for(let e=0,t=a.length;e<t;++e)if(a[e]!==o[e]){s=!0;break}if(s)return this.modifyTable(e,r);for(let e=0,o=i,t=n.length,s;e<t;++e,++o)if((s=n[e])instanceof Array)l.setColumn(""+o,s);else for(let e=0,t=a.length;e<t;++e)l.setCell(""+o,e,s[a[e]],r);return e}modifyTable(s,e){this.emit({type:"modify",detail:e,table:s});const t=s.modified;if(s.hasColumns(["columnNames"])){const n=((s.deleteColumns(["columnNames"])||{}).columnNames||[]).map(e=>""+e),i={};for(let e=0,t=s.getRowCount(),o;e<t;++e)(o=s.getRow(e))&&(i[n[e]]=o);t.deleteColumns(),t.setColumns(i)}else{const r={};for(let e=0,t=s.getRowCount(),o;e<t;++e)(o=s.getRow(e))&&(r[""+e]=o);r.columnNames=s.getColumnNames(),t.deleteColumns(),t.setColumns(r)}return this.emit({type:"afterModify",detail:e,table:s}),s}}return s.defaultOptions={type:"Invert"},e.registerType("Invert",s),s}),t(e,"Data/Modifiers/RangeModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,t){const o=t["merge"];class s extends e{constructor(e){super(),this.options=o(s.defaultOptions,e)}modifyTable(l,e){this.emit({type:"modify",detail:e,table:l});var{additive:c,ranges:o,strict:d}=this.options;if(o.length){const h=l.modified;let r=l.getColumns(),a=[];for(let e=0,t=o.length,n,i;e<t;++e)if(n=o[e],!d||typeof n.minValue==typeof n.maxValue){0<e&&!c&&(h.deleteRows(),h.setRows(a),r=h.getColumns(),a=[]);for(let e=0,t=(i=r[n.column]||[]).length,o,s;e<t;++e){switch(typeof(o=i[e])){default:continue;case"boolean":case"number":case"string":}d&&typeof o!=typeof n.minValue||o>=n.minValue&&o<=n.maxValue&&(s=(c?l:h).getRow(e))&&a.push(s)}}h.deleteRows(),h.setRows(a)}return this.emit({type:"afterModify",detail:e,table:l}),l}}return s.defaultOptions={type:"Range",ranges:[]},e.registerType("Range",s),s}),t(e,"Data/Modifiers/SortModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,a,t){const o=t["merge"];class p extends e{static ascending(e,t){return(e||0)<(t||0)?-1:(t||0)<(e||0)?1:0}static descending(e,t){return(t||0)<(e||0)?-1:(e||0)<(t||0)?1:0}constructor(e){super(),this.options=o(p.defaultOptions,e)}getRowReferences(e){const o=e.getRows(),s=[];for(let e=0,t=o.length;e<t;++e)s.push({index:e,row:o[e]});return s}modifyCell(e,t,o,s,n){var{orderByColumn:i,orderInColumn:r}=this.options;return t===i&&(r?(e.modified.setCell(t,o,s),e.modified.setColumn(r,this.modifyTable(new a({columns:e.getColumns([i,r])})).modified.getColumn(r))):this.modifyTable(e,n)),e}modifyColumns(e,t,o,s){const{orderByColumn:n,orderInColumn:i}=this.options,r=Object.keys(t);return-1<r.indexOf(n)&&(i&&t[r[0]].length?(e.modified.setColumns(t,o),e.modified.setColumn(i,this.modifyTable(new a({columns:e.getColumns([n,i])})).modified.getColumn(i))):this.modifyTable(e,s)),e}modifyRows(e,t,o,s){var{orderByColumn:n,orderInColumn:i}=this.options;return i&&t.length?(e.modified.setRows(t,o),e.modified.setColumn(i,this.modifyTable(new a({columns:e.getColumns([n,i])})).modified.getColumn(i))):this.modifyTable(e,s),e}modifyTable(e,t){this.emit({type:"modify",detail:t,table:e});const o=e.getColumnNames(),s=e.getRowCount(),n=this.getRowReferences(e),{direction:i,orderByColumn:r,orderInColumn:a}=this.options,l="asc"===i?p.ascending:p.descending,c=o.indexOf(r),d=e.modified;if(-1!==c&&n.sort((e,t)=>l(e.row[c],t.row[c])),a){const h=[];for(let e=0;e<s;++e)h[n[e].index]=e;d.setColumns({[a]:h})}else{const u=[];for(let e=0;e<s;++e)u.push(n[e].row);d.setRows(u,0)}return this.emit({type:"afterModify",detail:t,table:e}),e}}return p.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"},e.registerType("Sort",p),p}),t(e,"masters/dashboards.src.js",[e["Data/Connectors/DataConnector.js"],e["Dashboards/Board.js"],e["Dashboards/Components/Component.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Data/DataPool.js"],e["Data/DataCursor.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Dashboards/Globals.js"],e["Dashboards/PluginHandler.js"],e["Dashboards/Components/Sync/Sync.js"],e["Dashboards/Utilities.js"]],function(e,t,o,s,n,i,r,a,l,c,d,h){const u=l;return u.board=t.board,u.merge=h.merge,u.uniqueKey=h.uniqueKey,u.Board=t,u.Component=o,u.ComponentRegistry=s,u.DataConnector=e,u.DataCursor=i,u.DataModifier=r,u.DataPool=n,u.DataTable=a,u.PluginHandler=c,u.Sync=d,u.win.Dashboards||(u.win.Dashboards=u),u}),(e["masters/dashboards.src.js"]._modules=e)["masters/dashboards.src.js"]});