import U from"../../Core/Utilities.js";import Globals from"../Globals.js";const addEvent=U["addEvent"];class Fullscreen{constructor(e){this.isOpen=!1,this.board=e,this.board.boardWrapper.classList.add(Globals.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(!this.isOpen){const e=this,n=e.board,s=addEvent(n.boardWrapper.ownerDocument,"fullscreenchange",function(){e.isOpen?(e.isOpen=!1,e.close()):(e.isOpen=!0,e.setButtonText())}),t=(e.unbindFullscreenEvent=()=>{s()},n.boardWrapper.requestFullscreen());t.catch(()=>{throw new Error("Full screen is not supported.")})}}close(){const e=this,n=e.board;e.isOpen&&n.boardWrapper.ownerDocument instanceof Document&&n.boardWrapper.ownerDocument.exitFullscreen(),e.unbindFullscreenEvent&&(e.unbindFullscreenEvent=e.unbindFullscreenEvent()),e.isOpen=!1,this.setButtonText()}setButtonText(){const e=this.board.editMode,n=e&&e.tools.contextMenu,s=n&&n.items.viewFullscreen;var t;s&&s.innerElement&&(t=e.lang,s.innerElement.innerHTML=(this.isOpen?t.exitFullscreen:t.viewFullscreen)||"")}}export default Fullscreen;