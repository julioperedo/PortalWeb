"use strict";import ComponentRegistry from"../Components/ComponentRegistry.js";import Globals from"../Globals.js";import U from"../../Core/Utilities.js";const{addEvent,fireEvent,error}=U;var Bindings;!function(c){function o(e){e="string"==typeof e?document.getElementById(e):e;let t;return null!==e&&fireEvent(e,"bindedGUIElement",{},function(e){t=e.guiElement}),t}c.addComponent=async function(t,o){const n=t.states,r=t.events;if((o=o||c.getCell(t.cell||""))?.container&&t.type){const l=o.container;let e=ComponentRegistry.types[t.type];e||(error(`The component's type ${t.type} does not exist.`),e=ComponentRegistry.types.HTML,t.title={text:o.row.layout.board?.editMode?.lang.errorMessage,className:Globals.classNamePrefix+"component-title-error "+Globals.classNamePrefix+"component-title"});const i=new e(o,t);var s=i.load().catch(e=>{console.error(e),i.update({connector:{id:""},title:{text:o?.row.layout.board?.editMode?.lang.errorMessage,className:Globals.classNamePrefix+"component-title-error "+Globals.classNamePrefix+"component-title"}})});return fireEvent(i,"mount"),i.setCell(o),o.mountedComponent=i,o.row.layout.board.mountedComponents.push({options:t,component:i,cell:o}),r&&r.click&&addEvent(l,"click",()=>{r.click(),o&&i&&l&&n&&n.active&&o.setActiveState()}),n?.hover&&l.classList.add(Globals.classNames.cellHover),fireEvent(i,"afterLoad"),s}error(`The component is misconfigured and is unable to find the
                HTML cell element ${t.cell} to render the content.`)},c.componentFromJSON=function(e,t){let o=ComponentRegistry.types[e.$class];if(o){var n=c.getCell(e.options.cell||"");if(n){const r=o.fromJSON(e,n);return r&&r.render(),r}}},c.getCell=function(e){const t=o(e);if(t&&"cell"===t.getType())return t},c.getRow=function(e){const t=o(e);if(t&&"row"===t.getType())return t},c.getLayout=function(e){const t=o(e);if(t&&"layout"===t.getType())return t}}(Bindings=Bindings||{});export default Bindings;