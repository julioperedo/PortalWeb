"use strict";var Serializable;!function(r){const i={},s={};r.fromJSON=function(r){var e=r.$class;if("string"!=typeof e)throw new Error("JSON has no $class property.");const t=i[e];if(t)return t.fromJSON(r);const o=s[e];if(o)return o.fromJSON(r);throw new Error(`'${e}' unknown.`)},r.registerClassPrototype=function(r,e){if(i[r])throw new Error("A serializer for '"+r+"' is already registered.");i[r]=e},r.registerHelper=function(r){if(s[r.$class])throw new Error("A serializer for '"+r.$class+"' is already registered.");s[r.$class]=r},r.toJSON=function(e){if("function"==typeof e.fromJSON&&"function"==typeof e.toJSON)return e.toJSON();var t=Object.keys(s),o=t.length;let i,n;for(let r=0;r<o;++r)if(i=t[r],(n=s[i]).jsonSupportFor(e))return n.toJSON(e);throw new Error("Object is not supported.")}}(Serializable=Serializable||{});export default Serializable;