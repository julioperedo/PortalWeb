import EditGlobals from"../EditGlobals.js";import U from"../../../Core/Utilities.js";import EditRenderer from"../EditRenderer.js";const{createElement,merge}=U;class MenuItem{constructor(e,t){this.menu=e,this.isActive=!1,this.options=merge(MenuItem.defaultOptions,t),this.container=this.setContainer(),this.innerElement=this.setInnerElement()}setContainer(){var e=this,t=e.options;let n=EditGlobals.classNames.menuItem;return e.menu.options.itemsClassName&&(n+=" "+e.menu.options.itemsClassName),t.className&&(n+=" "+t.className),createElement("div",{className:n||""},merge(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){const e=this,t=e.options,n=e.container,i=t.langKey;return"toggle"===t.type?EditRenderer.renderToggle(n,{id:t.id,name:t.id,title:i?this.menu.editMode.lang[i]:t.text,value:!(!t.getValue||!t.getValue(e)),lang:this.menu.editMode.lang,onchange:t.events?.click?.bind(e)}):"text"===t.type?EditRenderer.renderText(n,{title:i?this.menu.editMode.lang[i]:t.text||"",className:t.className||""}):"icon"===t.type?EditRenderer.renderIcon(n,{icon:t.icon||"",mousedown:t.events?.onmousedown?.bind(e),click:t.events?.click?.bind(e)}):"button"===t.type?EditRenderer.renderButton(n,{callback:t.events?.click?.bind(e),className:t.className||"",style:t.style||{},text:i?this.menu.editMode.lang[i]:t.text||""}):void 0}update(){const e=this.options;e.events&&e.events.update&&e.events.update.apply(this,arguments)}activate(){var e=this;e.update(),e.container&&(e.isActive=!0,e.container.style.display="block")}deactivate(){var e=this;e.container&&(e.isActive=!1,e.container.style.display="none")}}MenuItem.defaultOptions={id:"",type:"text"};export default MenuItem;