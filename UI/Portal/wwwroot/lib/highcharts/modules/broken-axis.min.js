!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){function t(i,t,s,n){i.hasOwnProperty(t)||(i[t]=n.apply(null,s))}t(i=i?i._modules:{},"modules/broken-axis.src.js",[i["parts/Axis.js"],i["parts/Globals.js"],i["parts/Utilities.js"],i["parts/Stacking.js"]],function(k,i,t,o){var n=t.addEvent,s=t.find,p=t.fireEvent,e=t.isArray,h=t.isNumber,v=t.pick,r=i.Series,a=(x.isInBreak=function(i,t){var s=i.repeat||1/0,n=i.from,e=i.to-i.from;return t=n<=t?(t-n)%s:s-(n-t)%s,i.inclusive?t<=e:t<e&&0!==t},x.lin2Val=function(i){var t,s=this.brokenAxis;if(!(s=s&&s.breakArray))return i;for(t=0;t<s.length;t++){var n=s[t];if(n.from>=i)break;(n.to<i||x.isInBreak(n,i))&&(i+=n.len)}return i},x.val2Lin=function(i){var t=this.brokenAxis;if(!(t=t&&t.breakArray))return i;for(var s=i,n=0;n<t.length;n++){var e=t[n];if(e.to<=i)s-=e.len;else{if(e.from>=i)break;if(x.isInBreak(e,i)){s-=i-e.from;break}}}return s},x.prototype.findBreakAt=function(t,i){return s(i,function(i){return i.from<t&&t<i.to})},x.prototype.isInAnyBreak=function(i,t){var s,n,e=this.axis,r=e.options.breaks,o=r&&r.length;if(o){for(;o--;)x.isInBreak(r[o],i)&&(s=!0,n=n||v(r[o].showPoints,!e.isXAxis));var a=s&&t?s&&!n:s}return a},x.prototype.setBreaks=function(i,t){var l=this,c=l.axis,s=e(i)&&!!i.length;c.isDirty=l.hasBreaks!==s,l.hasBreaks=s,c.options.breaks=c.userOptions.breaks=i,c.forceRedraw=!0,c.series.forEach(function(i){i.isDirty=!0}),s||c.val2lin!==x.val2Lin||(delete c.val2lin,delete c.lin2val),s&&(c.userOptions.ordinal=!1,c.lin2val=x.lin2Val,c.val2lin=x.val2Lin,c.setExtremes=function(i,t,s,n,e){if(l.hasBreaks){for(var r,o=this.options.breaks;r=l.findBreakAt(i,o);)i=r.to;for(;r=l.findBreakAt(t,o);)t=r.from;t<i&&(t=i)}k.prototype.setExtremes.call(this,i,t,s,n,e)},c.setAxisTranslation=function(i){var t,s,n,e,r,o,a,f,h,u;k.prototype.setAxisTranslation.call(this,i),l.unitLength=null,l.hasBreaks&&(i=c.options.breaks||[],t=[],s=[],n=0,r=c.userMin||c.min,o=c.userMax||c.max,a=v(c.pointRangePadding,0),i.forEach(function(i){e=i.repeat||1/0,x.isInBreak(i,r)&&(r+=i.to%e-r%e),x.isInBreak(i,o)&&(o-=o%e-i.from%e)}),i.forEach(function(i){for(u=i.from,e=i.repeat||1/0;r<u-e;)u-=e;for(;u<r;)u+=e;for(f=u;f<o;f+=e)t.push({value:f,move:"in"}),t.push({value:f+(i.to-i.from),move:"out",size:i.breakSize})}),t.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),h=0,u=r,t.forEach(function(i){1===(h+="in"===i.move?1:-1)&&"in"===i.move&&(u=i.value),0===h&&(s.push({from:u,to:i.value,len:i.value-u-(i.size||0)}),n+=i.value-u-(i.size||0))}),c.breakArray=l.breakArray=s,l.unitLength=o-r-n+a,p(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:l.unitLength&&(c.transA*=(o-c.min+a)/l.unitLength),a&&(c.minPixelPadding=c.transA*c.minPointOffset),c.min=r,c.max=o)}),v(t,!0)&&c.chart.redraw()},x);function x(i){this.hasBreaks=!1,this.axis=i}function f(){}return f.compose=function(i,t){i.keepProps.push("brokenAxis");var s=r.prototype;s.drawBreaks=function(s,i){var n,e,r,o,t,a=this,f=a.points;s&&s.brokenAxis&&s.brokenAxis.hasBreaks&&(t=s.brokenAxis,i.forEach(function(i){n=t&&t.breakArray||[],e=s.isXAxis?s.min:v(a.options.threshold,s.min),f.forEach(function(t){o=v(t["stack"+i.toUpperCase()],t[i]),n.forEach(function(i){h(e)&&h(o)&&(r=!1,e<i.from&&o>i.to||e>i.from&&o<i.from?r="pointBreak":(e<i.from&&o>i.from&&o<i.to||e>i.from&&o>i.to&&o<i.from)&&(r="pointInBreak"),r&&p(s,r,{point:t,brk:i}))})})}))},s.gappedPath=function(){var i,t=(s=this.currentDataGrouping)&&s.gapSize,s=this.options.gapSize,n=this.points.slice(),e=n.length-1,r=this.yAxis;if(s&&0<e)for("value"!==this.options.gapUnit&&(s*=this.basePointRange),t&&s<t&&t>=this.basePointRange&&(s=t),i=void 0;e--;)i&&!1!==i.visible||(i=n[e+1]),t=n[e],!1!==i.visible&&!1!==t.visible&&(i.x-t.x>s&&(i=(t.x+i.x)/2,n.splice(e+1,0,{isNull:!0,x:i}),r.stacking&&this.options.stacking&&((i=r.stacking.stacks[this.stackKey][i]=new o(r,r.options.stackLabels,!1,i,this.stack)).total=0)),i=t);return this.getGraphPath(n)},n(i,"init",function(){this.brokenAxis||(this.brokenAxis=new a(this))}),n(i,"afterInit",function(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}),n(i,"afterSetTickPositions",function(){var i=this.brokenAxis;if(i&&i.hasBreaks){for(var t=this.tickPositions,s=this.tickPositions.info,n=[],e=0;e<t.length;e++)i.isInAnyBreak(t[e])||n.push(t[e]);this.tickPositions=n,this.tickPositions.info=s}}),n(i,"afterSetOptions",function(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}),n(t,"afterGeneratePoints",function(){var i=this.options.connectNulls,t=this.points,s=this.xAxis,n=this.yAxis;if(this.isDirty)for(var e=t.length;e--;){var r=t[e],o=!(null===r.y&&!1===i)&&(s&&s.brokenAxis&&s.brokenAxis.isInAnyBreak(r.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!o&&!1!==r.options.visible}}),n(t,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,v(this.pointArrayMap,["y"]))})},(i=f).compose(k,r),i}),t(i,"masters/modules/broken-axis.src.js",[],function(){})});