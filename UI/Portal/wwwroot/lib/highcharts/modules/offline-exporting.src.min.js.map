{"version":3,"sources":["offline-exporting.src.js"],"names":["factory","module","exports","define","amd","Highcharts","undefined","_modules","_registerModule","obj","path","args","fn","hasOwnProperty","apply","win","nav","navigator","doc","document","domurl","URL","webkitURL","isEdgeBrowser","test","userAgent","dataURLtoBlob","dataURL","parts","match","length","atob","ArrayBuffer","Uint8Array","Blob","createObjectURL","blob","binStr","buf","binary","i","charCodeAt","type","downloadURL","filename","a","createElement","String","msSaveOrOpenBlob","Error","download","href","body","appendChild","click","removeChild","open","e","location","U","extend","addEvent","merge","isMSBrowser","loadEventDeferDelay","getScript","scriptLocation","callback","head","getElementsByTagName","script","src","onload","onerror","error","CanVGRenderer","svgToDataUrl","svg","webKit","indexOf","toLowerCase","encodeURIComponent","imageToDataUrl","imageURL","imageType","callbackArgs","scale","successCallback","taintedCallback","noCanvasSupportCallback","failedLoadCallback","finallyCallback","loadHandler","setTimeout","canvas","ctx","getContext","height","img","width","drawImage","toDataURL","taintedHandler","errorHandler","Image","crossOrigin","downloadSVGLocal","options","failCallback","svgurl","finallyHandler","objectURLRevoke","libURL","getOptions","exporting","dummySVGContainer","split","downloadPDF","innerHTML","titleElements","svgData","svgElement","margin","pdf","textElements","forEach","call","el","property","propName","curParent","style","parentNode","setStylePropertyFromParents","splice","titleElement","firstChild","baseVal","value","jsPDF","querySelectorAll","node","svg2pdf","removeInvalid","output","slice","MSBlobBuilder","append","getBlob","revokeObjectURL","downloadWithCanVG","drawSvg","imageWidth","imageHeight","msToBlob","canvg","Chart","prototype","getSVGForLocalExport","chartOptions","sanitize","chart","sanitizeSVG","chartCopyOptions","checkDone","imagesEmbedded","images","chartCopyContainer","embeddedSuccess","imageElement","setAttributeNS","l","this","unbindGetSVG","chartCopy","container","cloneNode","getSVGForExport","getAttributeNS","exportChartLocal","exportingOptions","fallbackToExportServer","err","exportChart","styledMode","SVGRenderer","inlineWhitelist","some","image","getAttribute","getFilename","menuItemDefinitions","downloadPNG","textKey","onclick","downloadJPEG","downloadSVG"],"mappings":"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"}