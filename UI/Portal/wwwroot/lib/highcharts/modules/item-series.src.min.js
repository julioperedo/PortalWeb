"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/item-series",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function e(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e))}e(i,"modules/item-series.src.js",[i["parts/Globals.js"],i["parts/Options.js"],i["parts/Utilities.js"]],function(i,t,e){var s=t.defaultOptions,S=e.defined,j=e.extend,o=e.fireEvent,r=e.isNumber,n=e.merge,k=e.objectEach,L=e.pick,a=e.seriesType,h=i.seriesTypes.pie.prototype.pointClass.prototype;a("item","pie",{endAngle:void 0,innerSize:"40%",itemPadding:.1,layout:"vertical",marker:n(s.plotOptions.line.marker,{radius:null}),rows:void 0,crisp:!1,showInLegend:!0,startAngle:void 0},{markerAttribs:void 0,translate:function(t){0===this.total&&(this.center=this.getCenter()),this.slots||(this.slots=[]),r(this.options.startAngle)&&r(this.options.endAngle)?(i.seriesTypes.pie.prototype.translate.apply(this,arguments),this.slots=this.getSlots()):(this.generatePoints(),o(this,"afterTranslate"))},getSlots:function(){for(var t,s,o,i,e,r,n,a,h,l,c,p,u,d=this.center,f=d[2],g=d[3],m=this.slots,y=0,v=this.endAngleRad-this.startAngleRad,M=Number.MAX_VALUE,b=this.options.rows,w=(f-g)/f,A=v%(2*Math.PI)==0;M>this.total+(p&&A?p.length:0);)for(c=M,M=m.length=0,p=u,u=[],l=f/++y/2,b?0<=(g=(l-b)/l*f)?l=b:(g=0,w=1):l=Math.floor(l*w),t=l;0<t;t--)e=v*(i=(g+t/l*(f-g-y))/2),r=Math.ceil(e/y),u.push({rowRadius:i,rowLength:e,colCount:r}),M+=r+1;if(p){for(var C=c-this.total-(A?p.length:0);0<C;)p.map(function(t){return{angle:t.colCount/t.rowLength,row:t}}).sort(function(t,i){return i.angle-t.angle}).slice(0,Math.min(C,Math.ceil(p.length/2))).forEach(E);return p.forEach(function(t){var i=t.rowRadius,e=t.colCount;for(n=e?v/e:0,h=0;h<=e;h+=1)a=this.startAngleRad+h*n,s=d[0]+Math.cos(a)*i,o=d[1]+Math.sin(a)*i,m.push({x:s,y:o,angle:a})},this),m.sort(function(t,i){return t.angle-i.angle}),this.itemSize=y,m}function E(t){0<C&&(t.row.colCount--,C--)}},getRows:function(){var t,i=this.options.rows;if(!i)if(t=this.chart.plotWidth/this.chart.plotHeight,i=Math.sqrt(this.total),1<t)for(i=Math.ceil(i);0<i&&!(t<this.total/i/i);)i--;else for(i=Math.floor(i);i<this.total&&!(this.total/i/i<t);)i++;return i},drawPoints:function(){var g=this,m=this.options,y=g.chart.renderer,v=m.marker,M=this.borderWidth%2?.5:1,b=0,w=this.getRows(),A=Math.ceil(this.total/w),C=this.chart.plotWidth/A,E=this.chart.plotHeight/w,P=this.itemSize||Math.min(C,E);this.points.forEach(function(t){var i,e,s,o,r,n=t.marker||{},a=n.symbol||v.symbol,h=L(n.radius,v.radius),l=S(h)?2*h:P,c=l*m.itemPadding;if(t.graphics=e=t.graphics||{},g.chart.styledMode||(s=g.pointAttribs(t,t.selected&&"select")),!t.isNull&&t.visible){t.graphic||(t.graphic=y.g("point").add(g.group));for(var p,u,d,f=0;f<t.y;f++){d=g.center&&g.slots?(u=(p=g.slots.shift()).x-P/2,p.y-P/2):"horizontal"===m.layout?(u=b%A*C,E*Math.floor(b/A)):(u=C*Math.floor(b/w),b%w*E),u+=c,d+=c,r=o=Math.round(l-2*c),g.options.crisp&&(u=Math.round(u)-M,d=Math.round(d)+M),i={x:u,y:d,width:o,height:r},void 0!==h&&(i.r=h),e[f]?e[f].animate(i):e[f]=y.symbol(a,null,null,null,null,{backgroundSize:"within"}).attr(j(i,s)).add(t.graphic),e[f].isActive=!0,b++}}k(e,function(t,i){t.isActive?t.isActive=!1:(t.destroy(),delete e[i])})})},drawDataLabels:function(){this.center&&this.slots?i.seriesTypes.pie.prototype.drawDataLabels.call(this):this.points.forEach(function(t){t.destroyElements({dataLabel:1})})},animate:function(t){t?this.group.attr({opacity:0}):this.group.animate({opacity:1},this.options.animation)}},{connectorShapes:h.connectorShapes,getConnectorPath:h.getConnectorPath,setVisible:h.setVisible,getTranslate:h.getTranslate})}),e(i,"masters/modules/item-series.src.js",[],function(){})});