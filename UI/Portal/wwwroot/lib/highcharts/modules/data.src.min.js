!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,s,n){e.hasOwnProperty(t)||(e[t]=n.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,t){const o=e["doc"],{createElement:r,discardElement:a,merge:i,objectEach:l}=t;const s={ajax:function(s){const e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},n=new XMLHttpRequest;function t(e,t){s.error&&s.error(e,t)}if(!s.url)return!1;n.open((s.type||"get").toUpperCase(),s.url,!0),s.headers&&s.headers["Content-Type"]||n.setRequestHeader("Content-Type",e[s.dataType||"json"]||e.text),l(s.headers,function(e,t){n.setRequestHeader(t,e)}),s.responseType&&(n.responseType=s.responseType),n.onreadystatechange=function(){let e;if(4===n.readyState){if(200===n.status){if("blob"!==s.responseType&&(e=n.responseText,"json"===s.dataType))try{e=JSON.parse(e)}catch(e){if(e instanceof Error)return t(n,e)}return s.success&&s.success(e,n)}t(n,n.responseText)}},s.data&&"string"!=typeof s.data&&(s.data=JSON.stringify(s.data)),n.send(s.data)},getJSON:function(e,t){s.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,s){const n=r("form",i({method:"post",action:e,enctype:"multipart/form-data"},s),{display:"none"},o.body);l(t,function(e,t){r("input",{type:"hidden",name:t,value:e},void 0,n)}),n.submit(),a(n)}};return s}),t(e,"Extensions/Data.js",[e["Core/Chart/Chart.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,s,n,a,o,r){const i=t["getOptions"],u=s["doc"],m=n["ajax"],f=o["seriesTypes"],{addEvent:l,defined:y,extend:d,fireEvent:v,isNumber:T,merge:p,objectEach:g,pick:C,splat:R}=r;function x(e){return Boolean(e&&(e.rowsURL||e.csvURL||e.columnsURL))}class h{static data(e,t={},s){return new h(e,t,s)}static rowsToColumns(e){let t,s,n,o,r;if(e)for(r=[],s=e.length,t=0;t<s;t++)for(o=e[t].length,n=0;n<o;n++)r[n]||(r[n]=[]),r[n][t]=e[t][n];return r}constructor(e,t={},s){this.rowsToColumns=h.rowsToColumns,this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(e){return e?Date.UTC(+e[1],e[2]-1,+e[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[2]-1,+e[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return e?Date.UTC(+e[3],e[1]-1,+e[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){if(!e)return NaN;const t=new Date;let s=+e[3];return s>t.getFullYear()-2e3?s+=1900:s+=2e3,Date.UTC(s,e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){return e?Date.UTC(+e[3]+2e3,e[1]-1,+e[2]):NaN}}},this.chart=s,this.chartOptions=t,this.options=e,this.rawColumns=[],this.init(e,t,s)}init(e,t,s){let n=e.decimalPoint,o;t&&(this.chartOptions=t),s&&(this.chart=s),"."!==n&&","!==n&&(n=void 0),this.options=e,this.columns=e.columns||this.rowsToColumns(e.rows)||[],this.firstRowAsNames=C(e.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=n&&new RegExp("^(-?[0-9]+)"+n+"([0-9]+)$"),void 0!==this.liveDataTimeout&&clearTimeout(this.liveDataTimeout),this.rawColumns=[],this.columns.length&&(this.dataFound(),o=!x(e)),!(o=(o=(o=(o=o||this.fetchLiveData())||Boolean(this.parseCSV().length))||Boolean(this.parseTable().length))||this.parseGoogleSpreadsheet())&&e.afterComplete&&e.afterComplete()}getColumnDistribution(){function i(e){return(f[e||"line"].prototype.pointArrayMap||[0]).length}function l(e){return f[e||"line"].prototype.pointArrayMap}const u=this.chartOptions,e=this.options,t=[],d=u&&u.chart&&u.chart.type,h=[],c=[],s=e&&e.seriesMapping||u&&u.series&&u.series.map(function(){return{x:0}})||[];let m=0,p,n=((u&&u.series||[]).forEach(e=>{h.push(i(e.type||d))}),s.forEach(e=>{t.push(e.x||0)}),0===t.length&&t.push(0),s.forEach(e=>{const s=new N,t=h[m]||i(d),n=u&&u.series||[],o=n[m]||{},r=l(o.type||d),a=r||["y"];for(!y(e.x)&&!o.isCartesian&&r||s.addColumnReader(e.x,"x"),g(e,function(e,t){"x"!==t&&s.addColumnReader(e,t)}),p=0;p<t;p++)s.hasReader(a[p])||s.addColumnReader(void 0,a[p]);c.push(s),m++}),l(d));void 0===n&&(n=["y"]),this.valueCount={global:i(d),xColumns:t,individual:h,seriesBuilders:c,globalPointArrayMap:n}}dataFound(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()}parseCSV(e){const h=this,p=this.columns=[],c=e||this.options,f=void 0!==c.startColumn&&c.startColumn?c.startColumn:0,g=c.endColumn||Number.MAX_VALUE,C=[],u={",":0,";":0,"\t":0};let t=c.csv,s=void 0!==c.startRow&&c.startRow?c.startRow:0,n=c.endRow||Number.MAX_VALUE,x,o,r=0;if(t=t&&c.beforeParse?c.beforeParse.call(this,t):t){o=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(c.lineDelimiter||"\n"),(!s||s<0)&&(s=0),(!n||n>=o.length)&&(n=o.length-1),x=c.itemDelimiter||(x=null,function(e){let i=0,l=0,t=!1;return e.some(function(t,e){let s=!1,n,o,r,a="";if(13<e)return!0;for(let e=0;e<t.length;e++){if(n=t[e],o=t[e+1],r=t[e-1],"#"===n)return;if('"'===n)if(s){if('"'!==r&&'"'!==o){for(;" "===o&&e<t.length;)o=t[++e];void 0!==u[o]&&u[o]++,s=!1}}else s=!0;else void 0!==u[n]?(a=a.trim(),isNaN(Date.parse(a))&&!isNaN(a)&&isFinite(a)||u[n]++,a=""):a+=n;","===n&&l++,"."===n&&i++}}),t=u[";"]>u[","]?";":(u[","],u[";"],","),c.decimalPoint||(i>l?c.decimalPoint=".":c.decimalPoint=",",h.decimalRegex=new RegExp("^(-?[0-9]+)"+c.decimalPoint+"([0-9]+)$")),t}(o));let e=0;for(r=s;r<=n;r++)"#"===o[r][0]?e++:function(t,e,s,n){let o=0,r="",a="",i="",l="",u=0,d=0;function h(e){r=t[e],a=t[e-1],i=t[e+1]}function c(e){C.length<d+1&&C.push([e]),C[d][C[d].length-1]!==e&&C[d].push(e)}function m(){if(f>u||u>g)return++u,void(l="");!isNaN(parseFloat(l))&&isFinite(l)?(l=parseFloat(l),c("number")):isNaN(Date.parse(l))?c("string"):(l=l.replace(/\//g,"-"),c("date")),p.length<d+1&&p.push([]),s||(p[d][e]=l),l="",++d,++u}if(t.trim().length&&"#"!==t.trim()[0]){for(;o<t.length;o++)if(h(o),'"'===r)for(h(++o);o<t.length&&('"'!==r||'"'===a||'"'===i);)('"'!==r||'"'===r&&'"'!==a)&&(l+=r),h(++o);else n&&n[r]?n[r](r,l)&&m():r===x?m():l+=r;m()}}(o[r],r-s-e);c.columnTypes&&0!==c.columnTypes.length||!C.length||!C[0].length||"date"!==C[0][1]||c.dateFormat||(c.dateFormat=function(e,t){const s="YYYY/mm/dd",n=[],o=[];let r,a=[],i,l=0,u=!1,d;for((!t||t>e.length)&&(t=e.length);l<t;l++)if(void 0!==e[l]&&e[l]&&e[l].length)for(r=e[l].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),a=["","",""],d=0;d<r.length;d++)d<a.length&&(r[d]=parseInt(r[d],10),r[d]&&(o[d]=(!o[d]||o[d]<r[d]?r:o)[d],void 0!==n[d]?n[d]!==r[d]&&(n[d]=!1):n[d]=r[d],31<r[d]?r[d]<100?a[d]="YY":a[d]="YYYY":12<r[d]&&r[d]<=31?(a[d]="dd",u=!0):a[d].length||(a[d]="mm")));if(u){for(d=0;d<n.length;d++)!1!==n[d]?12<o[d]&&"YY"!==a[d]&&"YYYY"!==a[d]&&(a[d]="YY"):12<o[d]&&"mm"===a[d]&&(a[d]="dd");return(3===a.length&&"dd"===a[1]&&"dd"===a[2]&&(a[2]="YY"),i=a.join("/"),(c.dateFormats||h.dateFormats)[i])?i:(v("deduceDateFailed"),s)}return s}(p[0])),this.dataFound()}return p}parseTable(){const t=this.options,r=this.columns||[],a=t.startRow||0,s=t.endRow||Number.MAX_VALUE,i=t.startColumn||0,l=t.endColumn||Number.MAX_VALUE;if(t.table){let e=t.table;"string"==typeof e&&(e=u.getElementById(e)),[].forEach.call(e.getElementsByTagName("tr"),(e,o)=>{o>=a&&o<=s&&[].forEach.call(e.children,(e,t)=>{const s=r[t-i];let n=1;if(("TD"===e.tagName||"TH"===e.tagName)&&t>=i&&t<=l)for(r[t-i]||(r[t-i]=[]),r[t-i][o-a]=e.innerHTML;o-a>=n&&void 0===s[o-a-n];)s[o-a-n]=null,n++})}),this.dataFound()}return r}fetchLiveData(){const a=this,i=this.chart,l=this.options,u=3,d=l.enablePolling,t=p(l);let h=0,c=1e3*(l.dataRefreshRate||2);return!!x(l)&&(c<1e3&&(c=1e3),delete l.csvURL,delete l.rowsURL,delete l.columnsURL,function o(r){function e(e,t,s){if(e&&/^(http|\/|\.\/|\.\.\/)/.test(e))return r&&(clearTimeout(a.liveDataTimeout),i.liveDataURL=e),m({url:e,dataType:s||"json",success:function(e){i&&i.series&&t(e),n()},error:function(e,t){return++h<u&&n(),l.error&&l.error(t,e)}}),1;function n(){d&&i.liveDataURL===e&&(a.liveDataTimeout=setTimeout(o,c))}e&&l.error&&l.error("Invalid URL")}e(t.csvURL,function(e){i.update({data:{csv:e}})},"text")||e(t.rowsURL,function(e){i.update({data:{rows:e}})})||e(t.columnsURL,function(e){i.update({data:{columns:e}})})}(!0),x(l))}parseGoogleSpreadsheet(){const n=this,o=this.options,r=o.googleSpreadsheetKey,a=this.chart,i=Math.max(1e3*(o.dataRefreshRate||2),4e3),l=()=>{if(o.googleSpreadsheetRange)return o.googleSpreadsheetRange;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t=(e.charAt(o.startColumn||0)||"A")+((o.startRow||0)+1);let s=e.charAt(C(o.endColumn,-1))||"ZZ";return y(o.endRow)&&(s+=o.endRow+1),t+":"+s};return r&&(delete o.googleSpreadsheetKey,function t(s){var e=["https://sheets.googleapis.com/v4/spreadsheets",r,"values",l(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+o.googleAPIKey].join("/");m({url:e,dataType:"json",success:function(e){s(e),o.enablePolling&&(n.liveDataTimeout=setTimeout(function(){t(s)},i))},error:function(e,t){return o.error&&o.error(t,e)}})}(function(e){const t=e.values;if(!t||0===t.length)return!1;const s=t.reduce((e,t)=>Math.max(e,t.length),0);t.forEach(t=>{for(let e=0;e<s;e++)void 0===t[e]&&(t[e]=null)}),a&&a.series?a.update({data:{columns:t}}):(n.columns=t,n.dataFound())})),!1}trim(e,t){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""),t&&/^-?[0-9\s]+$/.test(e)&&(e=e.replace(/\s/g,"")),this.decimalRegex&&(e=e.replace(this.decimalRegex,"$1.$2"))),e}parseTypes(){var e=this.columns||[];let t=e.length;for(;t--;)this.parseColumn(e[t],t)}parseColumn(e,t){const s=this.rawColumns,n=this.columns,o=this.firstRowAsNames,r=-1!==this.valueCount.xColumns.indexOf(t),a=[],i=this.chartOptions,l=this.options.columnTypes||[],u=l[t],d=r&&(i&&i.xAxis&&"category"===R(i.xAxis)[0].type||"string"===u),h=y(e.name);let c=e.length,m,p,f,g,C,x,v;for(s[t]||(s[t]=[]);c--;)m=a[c]||e[c],f=this.trim(m),g=this.trim(m,!0),p=parseFloat(g),void 0===s[t][c]&&(s[t][c]=f),d||0===c&&o&&!h?e[c]=""+f:+g===p?(31536e6<(e[c]=p)&&"float"!==u?e.isDatetime=!0:e.isNumeric=!0,void 0!==e[c+1]&&(v=p>e[c+1])):(f&&f.length&&(C=this.parseDate(m)),r&&T(C)&&"float"!==u?(a[c]=m,e[c]=C,e.isDatetime=!0,void 0!==e[c+1]&&((x=C>e[c+1])!==v&&void 0!==v&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,c=e.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e.unsorted=!0),v=x)):(e[c]=""===f?null:f,0!==c&&(e.isDatetime||e.isNumeric)&&(e.mixed=!0)));if(r&&e.mixed&&(n[t]=s[t]),r&&v&&this.options.sort)for(t=0;t<n.length;t++)n[t].reverse(),o&&n[t].unshift(n[t].pop())}parseDate(e){const t=this.options.parseDate;let s,n,o,r=this.options.dateFormat||this.dateFormat,a;if(t)s=t(e);else if("string"==typeof e){if(r)o=(o=this.dateFormats[r])||this.dateFormats["YYYY/mm/dd"],(a=e.match(o.regex))&&(s=o.parser(a));else for(n in this.dateFormats)if(o=this.dateFormats[n],a=e.match(o.regex)){this.dateFormat=r=n,this.alternativeFormat=o.alternative,s=o.parser(a);break}a||(e.match(/:.+(GMT|UTC|[Z+-])/)&&(e=e.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),"object"==typeof(a=Date.parse(e))&&null!==a&&a.getTime?s=a.getTime()-6e4*a.getTimezoneOffset():T(a)&&(s=a-6e4*new Date(a).getTimezoneOffset()))}return s}getData(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)}parsed(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)}complete(){const e=this.columns,t=this.options,s=[];let n,o,r,a,i,l,u,d,h,c,m,p;if(e.length,t.complete||t.afterComplete){if(this.firstRowAsNames)for(a=0;a<e.length;a++){const f=e[a];y(f.name)||(f.name=C(f.shift(),"").toString())}for(o=[],c=function(e,t){const s=[],n=[];let o,r,a;for(r=0;r<e;r+=1)s.push(!0);for(o=0;o<t.length;o+=1)for(a=t[o].getReferencedColumnIndexes(),r=0;r<a.length;r+=1)s[a[r]]=!1;for(r=0;r<s.length;r+=1)s[r]&&n.push(r);return n}(e.length,this.valueCount.seriesBuilders),u=0;u<this.valueCount.seriesBuilders.length;u++)(h=this.valueCount.seriesBuilders[u]).populateColumns(c)&&s.push(h);for(;0<c.length;){for((h=new N).addColumnReader(0,"x"),-1!==(p=c.indexOf(0))&&c.splice(p,1),a=0;a<this.valueCount.global;a++)h.addColumnReader(void 0,this.valueCount.globalPointArrayMap[a]);h.populateColumns(c)&&s.push(h)}if(0<s.length&&0<s[0].readers.length&&void 0!==(m=e[s[0].readers[0].columnIndex])&&(m.isDatetime?n="datetime":m.isNumeric||(n="category")),"category"===n)for(u=0;u<s.length;u++)for(h=s[u],l=0;l<h.readers.length;l++)"x"===h.readers[l].configName&&(h.readers[l].configName="name");for(u=0;u<s.length;u++){for(h=s[u],r=[],i=0;i<e[0].length;i++)r[i]=h.read(e,i);o[u]={data:r},h.name&&(o[u].name=h.name),"category"===n&&(o[u].turboThreshold=0)}d={series:o},n&&(d.xAxis={type:n},"category"===n&&(d.xAxis.uniqueNames=!1)),t.complete&&t.complete(d),t.afterComplete&&t.afterComplete(d)}}update(e,t){const s=this.chart,n=s.options;e&&(e.afterComplete=function(e){e&&(e.xAxis&&s.xAxis[0]&&e.xAxis.type===s.xAxis[0].options.type&&delete e.xAxis,s.update(e,t,!0))},p(!0,n.data,e),n.data&&n.data.googleSpreadsheetKey&&!e.columns&&delete n.data.columns,this.init(n.data))}}l(e,"init",function(e){const n=this,o=e.args[1],t=i().data;let r=e.args[0]||{};var s;(t||r&&r.data)&&!n.hasDataDef&&(n.hasDataDef=!0,s=p(t,r.data),n.data=new h(d(s,{afterComplete:function(e){let t,s;if(Object.hasOwnProperty.call(r,"series"))if("object"==typeof r.series)for(t=Math.max(r.series.length,e&&e.series?e.series.length:0);t--;)s=r.series[t]||{},r.series[t]=p(s,e&&e.series?e.series[t]:{});else delete r.series;r=p(e,r),n.init(r,o)}}),r,n),e.preventDefault())});class N{constructor(){this.readers=[],this.pointIsArray=!0}populateColumns(t){let s=!0;return this.readers.forEach(e=>{void 0===e.columnIndex&&(e.columnIndex=t.shift())}),this.readers.forEach(e=>{void 0===e.columnIndex&&(s=!1)}),s}read(s,n){const o=this.pointIsArray,r=o?[]:{};if(this.readers.forEach(e=>{var t=s[e.columnIndex][n];o?r.push(t):0<e.configName.indexOf(".")?a.prototype.setNestedProperty(r,t,e.configName):r[e.configName]=t}),void 0===this.name&&2<=this.readers.length){const t=[];this.readers.forEach(function(e){"x"!==e.configName&&"name"!==e.configName&&"y"!==e.configName||void 0!==e.columnIndex&&t.push(e.columnIndex)}),2<=t.length&&(t.shift(),t.sort(function(e,t){return e-t})),this.name=s[C(t.shift(),0)].name}return r}addColumnReader(e,t){this.readers.push({columnIndex:e,configName:t}),"x"!==t&&"y"!==t&&void 0!==t&&(this.pointIsArray=!1)}getReferencedColumnIndexes(){const e=[];let t,s;for(t=0;t<this.readers.length;t+=1)void 0!==(s=this.readers[t]).columnIndex&&e.push(s.columnIndex);return e}hasReader(e){let t;for(t=0;t<this.readers.length;t+=1)if(this.readers[t].configName===e)return!0}}return h}),t(e,"masters/modules/data.src.js",[e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Extensions/Data.js"]],function(e,t,s){const n=e;n.ajax=t.ajax,n.data=s.data,n.getJSON=t.getJSON,n.post=t.post,n.Data=s,n.HttpUtilities=t})});