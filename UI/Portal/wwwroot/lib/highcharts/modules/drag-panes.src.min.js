!function(s){"object"==typeof module&&module.exports?module.exports=s.default=s:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(e){return s(e),s.Highcharts=e,s}):s("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function s(e,s,t,o){e.hasOwnProperty(s)||(e[s]=o.apply(null,t),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:e[s]}})))}s(e,"Extensions/DragPanes/AxisResizerDefaults.js",[],function(){return{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}}),s(e,"Extensions/DragPanes/AxisResizer.js",[e["Extensions/DragPanes/AxisResizerDefaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(e,s,t){const a=s["hasTouch"],{addEvent:h,clamp:P,isNumber:b,relativeLength:E}=t;class o{constructor(e){this.axis=void 0,this.controlLine=void 0,this.lastPos=void 0,this.options=void 0,this.init(e)}init(e,s){this.axis=e,this.options=e.options.resize||{},this.render(),s||this.addMouseEvents()}render(){const e=this,s=e.axis,t=s.chart,o=e.options,i=o.x||0,n=o.y,r=P(s.top+s.height+n,t.plotTop,t.plotTop+t.plotHeight);let a={};t.styledMode||(a={cursor:o.cursor,stroke:o.lineColor,"stroke-width":o.lineWidth,dashstyle:o.lineDashStyle}),e.lastPos=r-n,e.controlLine||(e.controlLine=t.renderer.path().addClass("highcharts-axis-resizer")),e.controlLine.add(s.axisGroup);var h=t.styledMode?e.controlLine.strokeWidth():o.lineWidth;a.d=t.renderer.crispLine([["M",s.left+i,r],["L",s.left+s.width+i,r]],h),e.controlLine.attr(a)}addMouseEvents(){const s=this,e=s.controlLine.element,t=s.axis.chart.container,o=[];var i,n,r;s.mouseMoveHandler=i=e=>s.onMouseMove(e),s.mouseUpHandler=n=e=>s.onMouseUp(e),s.mouseDownHandler=r=e=>s.onMouseDown(e),o.push(h(t,"mousemove",i),h(t.ownerDocument,"mouseup",n),h(e,"mousedown",r)),a&&o.push(h(t,"touchmove",i),h(t.ownerDocument,"touchend",n),h(e,"touchstart",r)),s.eventsToUnbind=o}onMouseMove(e){e.touches&&0===e.touches[0].pageX||this.grabbed&&(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y))}onMouseUp(e){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(e).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=void 0}onMouseDown(e){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0}updateAxes(o){const i=this,n=i.axis.chart,e=i.options.controlledAxis,s=0===e.next.length?[n.yAxis.indexOf(i.axis)+1]:e.next,r=[i.axis].concat(e.prev),a=[],h=n.plotTop,c=n.plotHeight,d=h+c,l=e=>100*e/c+"%",u=(e,s,t)=>Math.round(P(e,s,t));let p=!1,x=(o=P(o,h,d))-i.lastPos;if(!(x*x<1)){let t=!0;for(const m of[r,s])for(const v of m){const y=b(v)?n.yAxis[v]:t?v:n.get(v),z=y&&y.options,D={};let e,s;var g,f;z&&"navigator-y-axis"!==z.id?(s=y.top,g=Math.round(E(z.minLength||NaN,c)),f=Math.round(E(z.maxLength||NaN,c)),t?((e=u(o-s,g,f))===f&&(p=!0),o=s+e,a.push({axis:y,options:{height:l(e)}})):(x=o-i.lastPos,e=u(y.len-x,g,f),(s=y.top+x)+e>d&&(o+=f=d-e-s,s+=f),(e=s<h&&(s=h)+e>d?c:e)===g&&(p=!0),a.push({axis:y,options:{top:l(s-h),height:l(e)}})),t=!1,D.height=e):t=!1}if(!p){for(const M of a)M.axis.update(M.options,!1);n.redraw(!1)}}}destroy(){const e=this.axis;delete e.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(e=>e()),this.controlLine.destroy();for(const s of Object.keys(this))this[s]=null}}return o.resizerOptions=e,o}),s(e,"Extensions/DragPanes/DragPanes.js",[e["Extensions/DragPanes/AxisResizer.js"],e["Core/Utilities.js"]],function(i,t){const{addEvent:o,merge:n,wrap:r}=t,a=[];function h(){const e=this,s=e.resizer,t=e.options.resize;var o;t&&(o=!1!==t.enabled,s?o?s.init(e,!0):s.destroy():o&&(e.resizer=new i(e)))}function c(e){!e.keepEvents&&this.resizer&&this.resizer.destroy()}function d(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}function l(e){this.chart.activeResizer||e.apply(this,[].slice.call(arguments,1))}return{compose:function(e,s){t.pushUnique(a,e)&&(n(!0,e.defaultOptions,i.resizerOptions),e.keepProps.push("resizer"),o(e,"afterRender",h),o(e,"destroy",c)),t.pushUnique(a,s)&&(r(s.prototype,"runPointActions",l),r(s.prototype,"drag",d))}}}),s(e,"masters/modules/drag-panes.src.js",[e["Core/Globals.js"],e["Extensions/DragPanes/AxisResizer.js"],e["Extensions/DragPanes/DragPanes.js"]],function(e,s,t){const o=e;o.AxisResizer=s,t.compose(o.Axis,o.Pointer)})});