!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,o))}e(t=t?t._modules:{},"modules/drag-panes.src.js",[t["parts/Globals.js"],t["parts/Axis.js"],t["parts/Pointer.js"],t["parts/Utilities.js"]],function(o,t,e,s){var a=o.hasTouch,h=s.addEvent,x=s.clamp,y=s.isNumber,i=s.merge,n=s.objectEach,g=s.relativeLength;s=s.wrap;var r=(c.prototype.init=function(t,e){this.axis=t,this.options=t.options.resize,this.render(),e||this.addMouseEvents()},c.prototype.render=function(){var t=this.axis,e=t.chart,o=this.options,s=o.x||0,i=o.y,n=x(t.top+t.height+i,e.plotTop,e.plotTop+e.plotHeight),r={};e.styledMode||(r={cursor:o.cursor,stroke:o.lineColor,"stroke-width":o.lineWidth,dashstyle:o.lineDashStyle}),this.lastPos=n-i,this.controlLine||(this.controlLine=e.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),o=e.styledMode?this.controlLine.strokeWidth():o.lineWidth,r.d=e.renderer.crispLine([["M",t.left+s,n],["L",t.left+t.width+s,n]],o),this.controlLine.attr(r)},c.prototype.addMouseEvents=function(){var t,e,o,s=this,i=s.controlLine.element,n=s.axis.chart.container,r=[];s.mouseMoveHandler=t=function(t){s.onMouseMove(t)},s.mouseUpHandler=e=function(t){s.onMouseUp(t)},s.mouseDownHandler=o=function(t){s.onMouseDown(t)},r.push(h(n,"mousemove",t),h(n.ownerDocument,"mouseup",e),h(i,"mousedown",o)),a&&r.push(h(n,"touchmove",t),h(n.ownerDocument,"touchend",e),h(i,"touchstart",o)),s.eventsToUnbind=r},c.prototype.onMouseMove=function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},c.prototype.onMouseUp=function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},c.prototype.onMouseDown=function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},c.prototype.updateAxes=function(r){var a=this,h=a.axis.chart,t=0===(e=a.options.controlledAxis).next.length?[h.yAxis.indexOf(a.axis)+1]:e.next,e=[a.axis].concat(e.prev),c=[],p=!1,u=h.plotTop,d=h.plotHeight,l=u+d,f=(r=x(r,u,l))-a.lastPos;f*f<1||([e,t].forEach(function(t,n){t.forEach(function(t,e){var o,s,i=(t=y(t)?h.yAxis[t]:n||e?h.get(t):t)&&t.options;i&&"navigator-y-axis"!==i.id&&(e=t.top,o=Math.round(g(i.minLength,d)),s=Math.round(g(i.maxLength,d)),n?(f=r-a.lastPos,i=Math.round(x(t.len-f,o,s)),e=t.top+f,l<e+i&&(r+=s=l-i-e,e+=s),e<u&&l<(e=u)+i&&(i=d),i===o&&(p=!0),c.push({axis:t,options:{top:100*(e-u)/d+"%",height:100*i/d+"%"}})):((i=Math.round(x(r-e,o,s)))===s&&(p=!0),r=e+i,c.push({axis:t,options:{height:100*i/d+"%"}})))})}),p||(c.forEach(function(t){t.axis.update(t.options,!1)}),h.redraw(!1)))},c.prototype.destroy=function(){var o=this;delete o.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(t){t()}),o.controlLine.destroy(),n(o,function(t,e){o[e]=null})},c.resizerOptions={minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}},c);function c(t){this.options=this.lastPos=this.controlLine=this.axis=void 0,this.init(t)}return t.keepProps.push("resizer"),h(t,"afterRender",function(){var t=this.resizer,e=this.options.resize;e&&(e=!1!==e.enabled,t?e?t.init(this,!0):t.destroy():e&&(this.resizer=new o.AxisResizer(this)))}),h(t,"destroy",function(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()}),s(e.prototype,"runPointActions",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),s(e.prototype,"drag",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),i(!0,t.defaultYAxisOptions,r.resizerOptions),o.AxisResizer=r,o.AxisResizer}),e(t,"masters/modules/drag-panes.src.js",[],function(){})});