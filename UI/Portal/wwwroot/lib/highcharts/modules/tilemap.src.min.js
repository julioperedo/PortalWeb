"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function a(t,e,a,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,a))}a(e,"modules/tilemap.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(a,t){var e=t.addEvent,M=t.clamp,n=t.extend,m=t.pick,r=t.seriesType;function i(t,e,a){var n=t.options;return{xPad:(n.colsize||1)/-e,yPad:(n.rowsize||1)/-a}}a.tileShapeTypes={hexagon:{alignDataLabel:a.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(t){return i(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2-t,e.y1+t],["L",e.x3+t,e.y1+t],["L",e.x4+1.5*t,e.y2],["L",e.x3+t,e.y3-t],["L",e.x2-t,e.y3-t],["L",e.x1-1.5*t,e.y2],["Z"]]},translate:function(){var u,t=this,e=t.options,y=t.xAxis,g=t.yAxis,x=e.pointPadding||0,f=(e.colsize||1)/3,P=(e.rowsize||1)/2;t.generatePoints(),t.points.forEach(function(t){var e=M(Math.floor(y.len-y.translate(t.x-2*f,0,1,0,1)),-y.len,2*y.len),a=M(Math.floor(y.len-y.translate(t.x-f,0,1,0,1)),-y.len,2*y.len),n=M(Math.floor(y.len-y.translate(t.x+f,0,1,0,1)),-y.len,2*y.len),r=M(Math.floor(y.len-y.translate(t.x+2*f,0,1,0,1)),-y.len,2*y.len),i=M(Math.floor(g.translate(t.y-P,0,1,0,1)),-g.len,2*g.len),s=M(Math.floor(g.translate(t.y,0,1,0,1)),-g.len,2*g.len),o=M(Math.floor(g.translate(t.y+P,0,1,0,1)),-g.len,2*g.len),l=m(t.pointPadding,x),p=l*Math.abs(a-e)/Math.abs(o-s),h=y.reversed?-p:p,d=y.reversed?-l:l,c=g.reversed?-l:l;t.x%2&&(i+=u=u||Math.round(Math.abs(o-i)/2)*(g.reversed?-1:1),s+=u,o+=u),t.plotX=t.clientX=(a+n)/2,t.plotY=s,e+=h+d,a+=d,n-=d,r-=h+d,i-=c,o+=c,t.tileEdges={x1:e,x2:a,x3:n,x4:r,y1:i,y2:s,y3:o},t.shapeType="path",t.shapeArgs={d:[["M",a,i],["L",n,i],["L",r,s],["L",n,o],["L",a,o],["L",e,s],["Z"]]}}),t.translateColors()}},diamond:{alignDataLabel:a.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(t){return i(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return[["M",e.x2,e.y1+t],["L",e.x3+t,e.y2],["L",e.x2,e.y3-t],["L",e.x1-t,e.y2],["Z"]]},translate:function(){var d,t=this,e=t.options,c=t.xAxis,u=t.yAxis,y=e.pointPadding||0,g=e.colsize||1,x=(e.rowsize||1)/2;t.generatePoints(),t.points.forEach(function(t){var e=M(Math.round(c.len-c.translate(t.x-g,0,1,0,0)),-c.len,2*c.len),a=M(Math.round(c.len-c.translate(t.x,0,1,0,0)),-c.len,2*c.len),n=M(Math.round(c.len-c.translate(t.x+g,0,1,0,0)),-c.len,2*c.len),r=M(Math.round(u.translate(t.y-x,0,1,0,0)),-u.len,2*u.len),i=M(Math.round(u.translate(t.y,0,1,0,0)),-u.len,2*u.len),s=M(Math.round(u.translate(t.y+x,0,1,0,0)),-u.len,2*u.len),o=m(t.pointPadding,y),l=o*Math.abs(a-e)/Math.abs(s-i),p=c.reversed?-l:l,h=u.reversed?-o:o;t.x%2&&(r+=d=Math.abs(s-r)/2*(u.reversed?-1:1),i+=d,s+=d),t.plotX=t.clientX=a,t.plotY=i,e+=p,n-=p,r-=h,s+=h,t.tileEdges={x1:e,x2:a,x3:n,y1:r,y2:i,y3:s},t.shapeType="path",t.shapeArgs={d:[["M",a,r],["L",n,i],["L",a,s],["L",e,i],["Z"]]}}),t.translateColors()}},circle:{alignDataLabel:a.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(t){return i(t,2,2)},haloPath:function(t){return a.seriesTypes.scatter.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){var i,s,o,l,t=this,e=t.options,p=t.xAxis,h=t.yAxis,d=e.pointPadding||0,c=(e.rowsize||1)/2,u=e.colsize||1,y=!1;t.generatePoints(),t.points.forEach(function(t){var e=M(Math.round(p.len-p.translate(t.x,0,1,0,0)),-p.len,2*p.len),a=M(Math.round(h.translate(t.y,0,1,0,0)),-h.len,2*h.len),n=d,r=!1;void 0!==t.pointPadding&&(n=t.pointPadding,y=r=!0),l&&!y||(i=Math.abs(M(Math.floor(p.len-p.translate(t.x+u,0,1,0,0)),-p.len,2*p.len)-e),s=Math.abs(M(Math.floor(h.translate(t.y+c,0,1,0,0)),-h.len,2*h.len)-a),o=Math.floor(Math.sqrt(i*i+s*s)/2),l=Math.min(i,o,s)-n,y&&!r&&(y=!1)),t.x%2&&(a+=s*(h.reversed?-1:1)),t.plotX=t.clientX=e,t.plotY=a,t.radius=l,t.shapeType="circle",t.shapeArgs={x:e,y:a,r:l}}),t.translateColors()}},square:{alignDataLabel:a.seriesTypes.heatmap.prototype.alignDataLabel,translate:a.seriesTypes.heatmap.prototype.translate,getSeriesPadding:function(){},haloPath:a.seriesTypes.heatmap.prototype.pointClass.prototype.haloPath}},e(a.Axis,"afterSetAxisTranslation",function(){var e,t,a;this.recomputingForTilemap||"colorAxis"===this.coll||(t=(e=this).series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(t.padding*t.axisLengthFactor),t.padding&&(e.len-=a,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=a))}),r("tilemap","heatmap",{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"},{markerAttribs:a.seriesTypes.scatter.prototype.markerAttribs,pointAttribs:a.seriesTypes.column.prototype.pointAttribs,getSymbol:a.noop,drawPoints:function(){var e=this;a.seriesTypes.column.prototype.drawPoints.call(this),this.points.forEach(function(t){t.graphic&&t.graphic[e.chart.styledMode?"css":"animate"](e.colorAttribs(t))})},setOptions:function(){var t=a.seriesTypes.heatmap.prototype.setOptions.apply(this,Array.prototype.slice.call(arguments));return this.tileShape=a.tileShapeTypes[t.tileShape],t},alignDataLabel:function(){return this.tileShape.alignDataLabel.apply(this,Array.prototype.slice.call(arguments))},getSeriesPixelPadding:function(t){var e,a,n=t.isXAxis,r=this.tileShape.getSeriesPadding(this);return r?(e=Math.round(t.translate(n?2*r.xPad:r.yPad,0,1,0,1)),a=Math.round(t.translate(n?r.xPad:0,0,1,0,1)),{padding:Math.abs(e-a)||0,axisLengthFactor:n?2:1.1}):{padding:0,axisLengthFactor:1}},translate:function(){return this.tileShape.translate.apply(this,Array.prototype.slice.call(arguments))}},n({haloPath:function(){return this.series.tileShape.haloPath.apply(this,Array.prototype.slice.call(arguments))}},a.colorPointMixin))}),a(e,"masters/modules/tilemap.src.js",[],function(){})});