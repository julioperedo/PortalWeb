!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,a,i){e.hasOwnProperty(t)||(e[t]=i.apply(null,a),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Series/Tilemap/TilemapPoint.js",[e["Core/Axis/Color/ColorAxisComposition.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,a){var{series:{prototype:{pointClass:t}},seriesTypes:{heatmap:{prototype:{pointClass:i}}}}=t;const s=a["extend"];class n extends i{constructor(){super(...arguments),this.options=void 0,this.radius=void 0,this.series=void 0,this.tileEdges=void 0}haloPath(){return this.series.tileShape.haloPath.apply(this,arguments)}}return s(n.prototype,{setState:t.prototype.setState,setVisible:e.pointSetVisible}),n}),t(e,"Series/Tilemap/TilemapSeriesDefaults.js",[],function(){return{marker:null,states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"}}),t(e,"Series/Tilemap/TilemapShapes.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,t,a){e=e.noop;const{heatmap:i,scatter:s}=t.seriesTypes,{clamp:P,pick:S}=a;function n(e,t,a){e=e.options;return{xPad:(e.colsize||1)/-t,yPad:(e.rowsize||1)/-a}}return{hexagon:{alignDataLabel:s.prototype.alignDataLabel,getSeriesPadding:function(e){return n(e,3,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2-e,t.y1+e],["L",t.x3+e,t.y1+e],["L",t.x4+1.5*e,t.y2],["L",t.x3+e,t.y3-e],["L",t.x2-e,t.y3-e],["L",t.x1-1.5*e,t.y2],["Z"]]},translate:function(){const e=this,t=e.options,u=e.xAxis,c=e.yAxis,g=t.pointPadding||0,y=(t.colsize||1)/3,x=(t.rowsize||1)/2;let f;e.generatePoints();for(const m of e.points){let e=P(Math.floor(u.len-u.translate(m.x-2*y,0,1,0,1)),-u.len,2*u.len),t=P(Math.floor(u.len-u.translate(m.x-y,0,1,0,1)),-u.len,2*u.len),a=P(Math.floor(u.len-u.translate(m.x+y,0,1,0,1)),-u.len,2*u.len),i=P(Math.floor(u.len-u.translate(m.x+2*y,0,1,0,1)),-u.len,2*u.len),s=P(Math.floor(c.translate(m.y-x,0,1,0,1)),-c.len,2*c.len),n=P(Math.floor(c.translate(m.y,0,1,0,1)),-c.len,2*c.len),o=P(Math.floor(c.translate(m.y+x,0,1,0,1)),-c.len,2*c.len),r=S(m.pointPadding,g),l=r*Math.abs(t-e)/Math.abs(o-n),p=u.reversed?-l:l,d=u.reversed?-r:r,h=c.reversed?-r:r;m.x%2&&(f=f||Math.round(Math.abs(o-s)/2)*(c.reversed?-1:1),s+=f,n+=f,o+=f),m.plotX=m.clientX=(t+a)/2,m.plotY=n,e+=p+d,t+=d,a-=d,i-=p+d,s-=h,o+=h,m.tileEdges={x1:e,x2:t,x3:a,x4:i,y1:s,y2:n,y3:o},m.shapeType="path",m.shapeArgs={d:[["M",t,s],["L",a,s],["L",i,n],["L",a,o],["L",t,o],["L",e,n],["Z"]]}}e.translateColors()}},diamond:{alignDataLabel:s.prototype.alignDataLabel,getSeriesPadding:function(e){return n(e,2,2)},haloPath:function(e){if(!e)return[];var t=this.tileEdges;return[["M",t.x2,t.y1+e],["L",t.x3+e,t.y2],["L",t.x2,t.y3-e],["L",t.x1-e,t.y2],["Z"]]},translate:function(){const e=this,t=e.options,n=e.xAxis,o=e.yAxis,r=t.pointPadding||0,l=t.colsize||1,p=(t.rowsize||1)/2;var d;e.generatePoints();for(const g of e.points){let e=P(Math.round(n.len-n.translate(g.x-l,0,1,0,0)),-n.len,2*n.len),t=P(Math.round(n.len-n.translate(g.x+l,0,1,0,0)),-n.len,2*n.len),a=P(Math.round(o.translate(g.y-p,0,1,0,0)),-o.len,2*o.len),i=P(Math.round(o.translate(g.y,0,1,0,0)),-o.len,2*o.len),s=P(Math.round(o.translate(g.y+p,0,1,0,0)),-o.len,2*o.len);var h=P(Math.round(n.len-n.translate(g.x,0,1,0,0)),-n.len,2*n.len),u=S(g.pointPadding,r),c=u*Math.abs(h-e)/Math.abs(s-i),c=n.reversed?-c:c,u=o.reversed?-u:u;g.x%2&&(d=Math.abs(s-a)/2*(o.reversed?-1:1),a+=d,i+=d,s+=d),g.plotX=g.clientX=h,g.plotY=i,e+=c,t-=c,a-=u,s+=u,g.tileEdges={x1:e,x2:h,x3:t,y1:a,y2:i,y3:s},g.shapeType="path",g.shapeArgs={d:[["M",h,a],["L",t,i],["L",h,s],["L",e,i],["Z"]]}}e.translateColors()}},circle:{alignDataLabel:s.prototype.alignDataLabel,getSeriesPadding:function(e){return n(e,2,2)},haloPath:function(e){return s.prototype.pointClass.prototype.haloPath.call(this,e+(e&&this.radius))},translate:function(){const e=this,t=e.options,s=e.xAxis,n=e.yAxis,o=t.pointPadding||0,r=(t.rowsize||1)/2,l=t.colsize||1;let p,d,h,u,c=!1;e.generatePoints();for(const g of e.points){let e=P(Math.round(s.len-s.translate(g.x,0,1,0,0)),-s.len,2*s.len),t=P(Math.round(n.translate(g.y,0,1,0,0)),-n.len,2*n.len),a=o,i=!1;void 0!==g.pointPadding&&(a=g.pointPadding,i=!0,c=!0),u&&!c||(p=Math.abs(P(Math.floor(s.len-s.translate(g.x+l,0,1,0,0)),-s.len,2*s.len)-e),d=Math.abs(P(Math.floor(n.translate(g.y+r,0,1,0,0)),-n.len,2*n.len)-t),h=Math.floor(Math.sqrt(p*p+d*d)/2),u=Math.min(p,h,d)-a,c&&!i&&(c=!1)),g.x%2&&(t+=d*(n.reversed?-1:1)),g.plotX=g.clientX=e,g.plotY=t,g.radius=u,g.shapeType="circle",g.shapeArgs={x:e,y:t,r:u}}e.translateColors()}},square:{alignDataLabel:i.prototype.alignDataLabel,translate:i.prototype.translate,getSeriesPadding:e,haloPath:i.prototype.pointClass.prototype.haloPath}}}),t(e,"Series/Tilemap/TilemapSeries.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Series/Tilemap/TilemapPoint.js"],e["Series/Tilemap/TilemapSeriesDefaults.js"],e["Series/Tilemap/TilemapShapes.js"],e["Core/Utilities.js"]],function(e,t,a,i,s,n){e=e.noop;const{column:o,heatmap:r,scatter:l}=t.seriesTypes,{addEvent:p,extend:d,merge:h,pushUnique:u}=n,c=[];function g(){if(!this.recomputingForTilemap&&"colorAxis"!==this.coll){const t=this,e=t.series.map(function(e){return e.getSeriesPixelPadding&&e.getSeriesPixelPadding(t)}).reduce(function(e,t){return(e&&e.padding)>(t&&t.padding)?e:t},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(e.padding*e.axisLengthFactor);e.padding&&(t.len-=a,t.recomputingForTilemap=!0,t.setAxisTranslation(),delete t.recomputingForTilemap,t.minPixelPadding+=e.padding,t.len+=a)}}class y extends r{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.tileShape=void 0}static compose(e){u(c,e)&&p(e,"afterSetAxisTranslation",g)}alignDataLabel(){return this.tileShape.alignDataLabel.apply(this,arguments)}drawPoints(){o.prototype.drawPoints.call(this);for(const e of this.points)e.graphic&&e.graphic[this.chart.styledMode?"css":"animate"](this.colorAttribs(e))}getSeriesPixelPadding(e){var t=e.isXAxis,a=this.tileShape.getSeriesPadding(this);if(!a)return{padding:0,axisLengthFactor:1};var i=Math.round(e.translate(t?2*a.xPad:a.yPad,0,1,0,1)),a=Math.round(e.translate(t?a.xPad:0,0,1,0,1));return{padding:(e.single?Math.abs(i-a)/2:Math.abs(i-a))||0,axisLengthFactor:t?2:1.1}}setOptions(){var e=super.setOptions.apply(this,arguments);return this.tileShape=s[e.tileShape],e}translate(){return this.tileShape.translate.apply(this,arguments)}}return y.defaultOptions=h(r.defaultOptions,i),d(y.prototype,{getSymbol:e,markerAttribs:l.prototype.markerAttribs,pointAttribs:o.prototype.pointAttribs,pointClass:a}),t.registerSeriesType("tilemap",y),y}),t(e,"masters/modules/tilemap.src.js",[e["Core/Globals.js"],e["Series/Tilemap/TilemapSeries.js"]],function(e,t){t.compose(e.Axis)})});