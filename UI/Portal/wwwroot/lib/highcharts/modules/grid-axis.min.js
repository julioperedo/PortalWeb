!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e))}i(t=t?t._modules:{},"parts-gantt/GridAxis.js",[t["parts/Axis.js"],t["parts/Globals.js"],t["parts/Options.js"],t["parts/Tick.js"],t["parts/Utilities.js"]],function(h,t,i,e,n){var s=i.dateFormat,o=n.addEvent,r=n.defined,l=n.erase,d=n.find,a=n.isArray,g=n.isNumber,c=n.merge,p=n.pick,f=n.timeUnits,u=n.wrap;i=t.Chart;h.prototype.getMaxLabelDimensions=function(e,t){var s={width:0,height:0};return t.forEach(function(t){var i;t=e[t],n.isObject(t,!0)&&(t=(i=n.isObject(t.label,!0)?t.label:{}).getBBox?i.getBBox().height:0,i.textStr&&!g(i.textPxLength)&&(i.textPxLength=i.getBBox().width),i=g(i.textPxLength)?Math.round(i.textPxLength):0,s.height=Math.max(t,s.height),s.width=Math.max(i,s.width))}),s},t.dateFormats.W=function(t){t=new this.Date(t);var i=(this.get("Day",t)+6)%7,e=new this.Date(t.valueOf());return this.set("Date",e,this.get("Date",t)-i+3),i=new this.Date(this.get("FullYear",e),0,1),4!==this.get("Day",i)&&(this.set("Month",t,0),this.set("Date",t,1+(11-this.get("Day",i))%7)),(1+Math.floor((e.valueOf()-i.valueOf())/6048e5)).toString()},t.dateFormats.E=function(t){return s("%a",t,!0).charAt(0)},o(i,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.grid&&t.grid.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})}),o(e,"afterGetLabelPosition",function(t){var i,e=this.label,s=this.axis,n=s.reversed,o=s.chart,r=s.options.grid||{},a=s.options.labels,h=a.align,l=k.Side[s.side],d=t.tickmarkOffset,c=s.tickPositions,f=this.pos-d,c=g(c[t.index+1])?c[t.index+1]-d:s.max+d,d=(u=s.tickSize("tick"))?u[0]:0,u=u?u[1]/2:0;!0===r.enabled&&("top"===l?i=(r=s.top+s.offset)-d:"bottom"===l?r=(i=o.chartHeight-s.bottom+s.offset)+d:(r=s.top+s.len-s.translate(n?c:f),i=s.top+s.len-s.translate(n?f:c)),"right"===l?n=(l=o.chartWidth-s.right+s.offset)+d:"left"===l?l=(n=s.left+s.offset)-d:(l=Math.round(s.left+s.translate(n?c:f))-u,n=Math.round(s.left+s.translate(n?f:c))-u),this.slotWidth=n-l,t.pos.x="left"===h?l:"right"===h?n:l+(n-l)/2,t.pos.y=i+(r-i)/2,o=o.renderer.fontMetrics(a.style.fontSize,e.element),e=e.getBBox().height,a.useHTML?t.pos.y+=o.b+-e/2:(e=Math.round(e/o.h),t.pos.y+=(o.b-(o.h-o.f))/2+-((e-1)*o.h)/2),t.pos.x+=s.horiz&&a.x||0)});var m,x=(v.prototype.isOuterAxis=function(){var e=this.axis,t=e.grid.columnIndex,i=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns,s=t?e.linkedParent:e,n=-1,o=0;return e.chart[e.coll].forEach(function(t,i){t.side!==e.side||t.options.isInternal||(o=i,t===s&&(n=i))}),o===n&&(!g(t)||i.length===t)},v),k=(b.compose=function(t){h.keepProps.push("grid"),u(t.prototype,"unsquish",b.wrapUnsquish),o(t,"init",b.onInit),o(t,"afterGetOffset",b.onAfterGetOffset),o(t,"afterGetTitlePosition",b.onAfterGetTitlePosition),o(t,"afterInit",b.onAfterInit),o(t,"afterRender",b.onAfterRender),o(t,"afterSetAxisTranslation",b.onAfterSetAxisTranslation),o(t,"afterSetOptions",b.onAfterSetOptions),o(t,"afterSetOptions",b.onAfterSetOptions2),o(t,"afterSetScale",b.onAfterSetScale),o(t,"afterTickSize",b.onAfterTickSize),o(t,"trimTicks",b.onTrimTicks),o(t,"destroy",b.onDestroy)},b.onAfterGetOffset=function(){var t=this.grid;(t&&t.columns||[]).forEach(function(t){t.getOffset()})},b.onAfterGetTitlePosition=function(t){var i,e,s,n,o,r,a,h,l,d,c,f,u,g;!0===(this.options.grid||{}).enabled&&(u=this.axisTitle,i=this.height,e=this.horiz,s=this.left,n=this.offset,o=this.opposite,r=void 0===(a=this.options.title)?{}:a,a=this.top,h=this.width,g=this.tickSize(),l=u&&u.getBBox().width,d=r.x||0,c=r.y||0,f=p(r.margin,e?5:10),u=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u).f,g=(e?a+i:s)+(e?1:-1)*(o?-1:1)*(g?g[0]/2:0)+(this.side===b.Side.bottom?u:0),t.titlePosition.x=e?s-l/2-f+d:g+(o?h:0)+n+d,t.titlePosition.y=e?g-(o?i:0)+(o?u:-u)/2+n+c:a-f+c)},b.onAfterInit=function(){var t,i,e=this.chart,s=void 0===(s=this.options.grid)?{}:s,n=this.userOptions;if(s.enabled&&((i=(t=this).options).labels||(i.labels={}),i.labels.align=p(i.labels.align,"center"),t.categories||(i.showLastLabel=!1),t.labelRotation=0,i.labels.rotation=0,u(this,"labelFormatter",function(t){var i=this.axis,e=this.value,s=i.tickPositions,n=(i.isLinked?i.linkedParent:i).series[0],o=e===s[0],s=e===s[s.length-1],n=n&&d(n.options.data,function(t){return t[i.isXAxis?"x":"y"]===e});return this.isFirst=o,this.isLast=s,this.point=n,t.call(this)})),s.columns)for(var o=this.grid.columns=[],r=this.grid.columnIndex=0;++r<s.columns.length;){var a=c(n,s.columns[s.columns.length-r-1],{linkedTo:0,type:"category"});delete a.grid.columns,(a=new h(this.chart,a)).grid.isColumn=!0,a.grid.columnIndex=r,l(e.axes,a),l(e[this.coll],a),o.push(a)}},b.onAfterRender=function(){var t,i,e,s,n,o=this.grid,r=this.options,a=this.chart.renderer;!0===(r.grid||{}).enabled&&(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine&&(t=r.lineWidth)&&(e=(i=this.getLinePath(t))[0],s=i[1],n=((this.tickSize("tick")||[1])[0]-1)*(this.side===b.Side.top||this.side===b.Side.left?-1:1),"M"===e[0]&&"L"===s[0]&&(this.horiz?(e[2]+=n,s[2]+=n):(e[1]+=n,s[1]+=n)),this.grid.axisLineExtra?this.grid.axisLineExtra.animate({d:i}):(this.grid.axisLineExtra=a.path(i).attr({zIndex:7}).addClass("highcharts-axis-line").add(this.axisGroup),a.styledMode||this.grid.axisLineExtra.attr({stroke:r.lineColor,"stroke-width":t})),this.axisLine[this.showAxis?"show":"hide"](!0)),(o&&o.columns||[]).forEach(function(t){t.render()}))},b.onAfterSetAxisTranslation=function(){var t=this.tickPositions&&this.tickPositions.info,i=this.options,e=i.grid||{},s=this.userOptions.labels||{};this.horiz&&(!0===e.enabled&&this.series.forEach(function(t){t.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!r(s.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",r(s.x)||(i.labels.x=3)))},b.onAfterSetOptions=function(t){var i=this.options;t=t.userOptions;var h,e=i&&n.isObject(i.grid,!0)?i.grid:{};!0===e.enabled&&(h=c(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(r(t.linkedTo)&&!r(t.tickPixelInterval)&&(h.tickPixelInterval=350),r(t.tickPixelInterval)||!r(t.linkedTo)||r(t.tickPositioner)||r(t.tickInterval)||(h.tickPositioner=function(t,i){var e=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(e){for(var s,n,o=h.units,r=0;r<o.length;r++)if(o[r][0]===e.unitName){var a=r;break}return o[a+1]?(s=o[a+1][0],n=(o[a+1][1]||[1])[0]):"year"===e.unitName&&(s="year",n=10*e.count),e=f[s],this.tickInterval=e*n,this.getTimeTicks({unitRange:e,count:n,unitName:s},t,i,this.options.startOfWeek)}})),c(!0,this.options,h),this.horiz&&(i.minPadding=p(t.minPadding,0),i.maxPadding=p(t.maxPadding,0)),g(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=e.borderWidth))},b.onAfterSetOptions2=function(t){var i=(t=(t=t.userOptions)&&t.grid||{}).columns;t.enabled&&i&&c(!0,this.options,i[i.length-1])},b.onAfterSetScale=function(){(this.grid.columns||[]).forEach(function(t){t.setScale()})},b.onAfterTickSize=function(t){var i=h.defaultLeftAxisOptions,e=this.horiz,s=this.maxLabelDimensions,n=this.options.grid;(n=void 0===n?{}:n).enabled&&s&&(i=2*Math.abs(i.labels.x),e=e?n.cellHeight||i+s.height:i+s.width,a(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])},b.onDestroy=function(i){var t=this.grid;(t.columns||[]).forEach(function(t){t.destroy(i.keepEvents)}),t.columns=void 0},b.onInit=function(t){var i=(t=t.userOptions||{}).grid||{};i.enabled&&r(i.borderColor)&&(t.tickColor=t.lineColor=i.borderColor),this.grid||(this.grid=new x(this))},b.onTrimTicks=function(){var t=this.options,i=this.categories,e=this.tickPositions,s=e[0],n=e[e.length-1],o=this.linkedParent&&this.linkedParent.min||this.min,r=this.linkedParent&&this.linkedParent.max||this.max,a=this.tickInterval;!0!==(t.grid||{}).enabled||i||!this.horiz&&!this.isLinked||(s<o&&o<s+a&&!t.startOnTick&&(e[0]=o),r<n&&n-a<r&&!t.endOnTick&&(e[e.length-1]=r))},b.wrapUnsquish=function(t){var i=this.options.grid;return!0===(void 0===i?{}:i).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))},b);function b(){}function v(t){this.axis=t}return(m=(m=k=k||{}).Side||(m.Side={}))[m.top=0]="top",m[m.right=1]="right",m[m.bottom=2]="bottom",m[m.left=3]="left",k.compose(h),k}),i(t,"masters/modules/grid-axis.src.js",[],function(){})});