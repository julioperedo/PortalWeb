!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],function(d,l,n){const t=l["dateFormats"],{addEvent:r,defined:s,erase:h,find:c,isArray:o,isNumber:b,merge:g,pick:x,timeUnits:u,wrap:a}=n;var P,i;(i=P=P||{})[i.top=0]="top",i[i.right=1]="right",i[i.bottom=2]="bottom",i[i.left=3]="left";const f=[];function p(t){return n.isObject(t,!0)}function m(r,t){const s={width:0,height:0};return t.forEach(function(t){t=r[t];let i,e=0,n;p(t)&&(i=(n=p(t.label)?t.label:{}).getBBox?n.getBBox().height:0,n.textStr&&!b(n.textPxLength)&&(n.textPxLength=n.getBBox().width),e=b(n.textPxLength)?Math.round(n.textPxLength):0,n.textStr&&(e=Math.round(n.getBBox().width)),s.height=Math.max(i,s.height),s.width=Math.max(e,s.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(t=this.treeGrid.mapOfPosToGridNode[-1].height||0,s.width+=this.options.labels.indentation*(t-1)),s}function k(){const t=this["grid"];(t&&t.columns||[]).forEach(function(t){t.getOffset()})}function v(t){var i=this;const e=i.options;if(!0===(e.grid||{}).enabled){const{axisTitle:d,height:h,horiz:c,left:g,offset:u,opposite:f,options:e,top:p,width:m}=i;var n=i.tickSize(),r=d&&d.getBBox().width,s=e.title.x,o=e.title.y,a=x(e.title.margin,c?5:10),l=d?i.chart.renderer.fontMetrics(d).f:0,n=(c?p+h:g)+(c?1:-1)*(f?-1:1)*(n?n[0]/2:0)+(i.side===P.bottom?l:0);t.titlePosition.x=c?g-(r||0)/2-a+s:n+(f?m:0)+u+s,t.titlePosition.y=c?n-(f?h:0)+(f?l:-l)/2+u+o:p-a+o}}function y(){var i=this,{chart:e,options:{grid:n={}},userOptions:r}=i;if(n.enabled){var t=i;const s=t.options;s.labels.align=x(s.labels.align,"center"),t.categories||(s.showLastLabel=!1),t.labelRotation=0,s.labels.rotation=0,s.minTickInterval=1}if(n.columns){const o=i.grid.columns=[];let t=i.grid.columnIndex=0;for(;++t<n.columns.length;){const a=g(r,n.columns[n.columns.length-t-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}}),l=(delete a.grid.columns,new d(i.chart,a,"yAxis"));l.grid.isColumn=!0,l.grid.columnIndex=t,h(e.axes,l),h(e[i.coll]||[],l),o.push(l)}}}function w(){const e=this,t=e.grid,i=e.options,n=i.grid||{};if(!0===n.enabled){var r=e.min||0,s=e.max||0;if(e.maxLabelDimensions=e.getMaxLabelDimensions(e.ticks,e.tickPositions),e.rightWall&&e.rightWall.destroy(),e.grid&&e.grid.isOuterAxis()&&e.axisLine){var o=i.lineWidth;if(o){const d=e.getLinePath(o),h=d[0],c=d[1],g=(e.tickSize("tick")||[1])[0],u=(g-1)*(e.side===P.top||e.side===P.left?-1:1);"M"===h[0]&&"L"===c[0]&&(e.horiz?(h[2]+=u,c[2]+=u):(h[1]+=u,c[1]+=u)),!e.horiz&&e.chart.marginRight&&(o=[h,["L",e.left,h[2]||0]],a=["L",e.chart.chartWidth-e.chart.marginRight,e.toPixels(s+e.tickmarkOffset)],a=[["M",c[1]||0,e.toPixels(s+e.tickmarkOffset)],a],e.grid.upperBorder||r%1==0||(e.grid.upperBorder=e.grid.renderBorder(o)),e.grid.upperBorder&&(e.grid.upperBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.upperBorder.animate({d:o})),e.grid.lowerBorder||s%1==0||(e.grid.lowerBorder=e.grid.renderBorder(a)),e.grid.lowerBorder&&(e.grid.lowerBorder.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.lowerBorder.animate({d:a}))),e.grid.axisLineExtra?(e.grid.axisLineExtra.attr({stroke:i.lineColor,"stroke-width":i.lineWidth}),e.grid.axisLineExtra.animate({d:d})):e.grid.axisLineExtra=e.grid.renderBorder(d),e.axisLine[e.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach(t=>t.render()),!e.horiz&&e.chart.hasRendered&&(e.scrollbar||e.linkedParent&&e.linkedParent.scrollbar)){var o=e.tickmarkOffset,a=e.tickPositions[e.tickPositions.length-1],l=e.tickPositions[0];let t,i;for(;(t=e.hiddenLabels.pop())&&t.element;)t.show();for(;(i=e.hiddenMarks.pop())&&i.element;)i.show();(t=e.ticks[l].label)&&(o<r-l?e.hiddenLabels.push(t.hide()):t.show()),(t=e.ticks[a].label)&&(o<a-s?e.hiddenLabels.push(t.hide()):t.show());const f=e.ticks[a].mark;f&&a-s<o&&0<a-s&&e.ticks[a].isLast&&e.hiddenMarks.push(f.hide())}}}function L(){var t=this,i=t.tickPositions&&t.tickPositions.info;const e=t.options;var n=e.grid||{},r=t.userOptions.labels||{};n.enabled&&(t.horiz?(t.series.forEach(t=>{t.options.pointRange=0}),i&&e.dateTimeLabelFormats&&e.labels&&!s(r.align)&&(!1===e.dateTimeLabelFormats[i.unitName].range||1<i.count)&&(e.labels.align="left",s(r.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&t.grid&&t.grid.columns&&(this.minPointOffset=this.tickInterval))}function B(t){const i=this.options,e=t.userOptions,n=i&&p(i.grid)?i.grid:{};let d;!0===n.enabled&&(d=g(!0,{className:"highcharts-grid-axis "+(e.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},e),"xAxis"===this.coll&&(s(e.linkedTo)&&!s(e.tickPixelInterval)&&(d.tickPixelInterval=350),s(e.tickPixelInterval)||!s(e.linkedTo)||s(e.tickPositioner)||s(e.tickInterval)||(d.tickPositioner=function(n,r){var s=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(s){var o=d.units||[];let i,t=1,e="year";for(let t=0;t<o.length;t++){var a=o[t];if(a&&a[0]===s.unitName){i=t;break}}var l=b(i)&&o[i+1],l=(l?(e=l[0]||"year",l=l[1],t=l&&l[0]||1):"year"===s.unitName&&(t=10*s.count),u[e]);return this.tickInterval=l*t,this.chart.time.getTimeTicks({unitRange:l,count:t,unitName:e},n,r,this.options.startOfWeek)}})),g(!0,this.options,d),this.horiz&&(i.minPadding=x(e.minPadding,0),i.maxPadding=x(e.maxPadding,0)),b(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=n.borderWidth))}function O(t){var t=t.userOptions,t=t&&t.grid||{},i=t.columns;t.enabled&&i&&g(!0,this.options,i[i.length-1])}function M(){(this.grid.columns||[]).forEach(t=>t.setScale())}function S(t){var i,{horiz:e,maxLabelDimensions:n,options:{grid:r={}}}=this;r.enabled&&n&&(i=2*this.options.labels.distance,e=e?r.cellHeight||i+n.height:i+n.width,o(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e,0])}function T(){this.axes.forEach(t=>{(t.grid&&t.grid.columns||[]).forEach(t=>{t.setAxisSize(),t.setAxisTranslation()})})}function A(i){const t=this["grid"];(t.columns||[]).forEach(t=>t.destroy(i.keepEvents)),t.columns=void 0}function C(t){var i=this;const e=t.userOptions||{};t=e.grid||{};t.enabled&&s(t.borderColor)&&(e.tickColor=e.lineColor=t.borderColor),i.grid||(i.grid=new D(i)),i.hiddenLabels=[],i.hiddenMarks=[]}function E(r){const s=this.label,o=this.axis,a=o.reversed,l=o.chart,t=o.options,i=t.grid||{},d=o.options.labels,h=d.align,c=P[o.side],e=r.tickmarkOffset,n=o.tickPositions,g=this.pos-e,u=b(n[r.index+1])?n[r.index+1]-e:(o.max||0)+e,f=o.tickSize("tick"),p=f?f[0]:0,m=f?f[1]/2:0;if(!0===i.enabled){let t,i,e,n;var x,k;"top"===c?(t=o.top+o.offset,i=t-p):"bottom"===c?(i=l.chartHeight-o.bottom+o.offset,t=i+p):(t=o.top+o.len-(o.translate(a?u:g)||0),i=o.top+o.len-(o.translate(a?g:u)||0)),"right"===c?(e=l.chartWidth-o.right+o.offset,n=e+p):"left"===c?(n=o.left+o.offset,e=n-p):(e=Math.round(o.left+(o.translate(a?u:g)||0))-m,n=Math.min(Math.round(o.left+(o.translate(a?g:u)||0))-m,o.left+o.len)),this.slotWidth=n-e,r.pos.x="left"===h?e:"right"===h?n:e+(n-e)/2,r.pos.y=i+(t-i)/2,s&&(x=l.renderer.fontMetrics(s),k=s.getBBox().height,d.useHTML?r.pos.y+=x.b+-k/2:(k=Math.round(k/x.h),r.pos.y+=(x.b-(x.h-x.f))/2+-((k-1)*x.h)/2)),r.pos.x+=o.horiz&&d.x||0}}function W(i){const{axis:e,value:n}=i;if(e.options.grid&&e.options.grid.enabled){var r=e.tickPositions;const a=(e.linkedParent||e).series[0];var s=n===r[0],r=n===r[r.length-1],o=a&&c(a.options.data,function(t){return t[e.isXAxis?"x":"y"]===n});let t;o&&a.is("gantt")&&(t=g(o),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(t)),i.isFirst=s,i.isLast=r,i.point=t}}function z(){var t=this,i=t.options,e=i.grid||{},n=t.categories;const r=t.tickPositions;var s=r[0],o=r[r.length-1],a=t.linkedParent&&t.linkedParent.min,l=t.linkedParent&&t.linkedParent.max,a=a||t.min,l=l||t.max,d=t.tickInterval,o=l<o&&o-d<l;!0!==e.enabled||n||!t.horiz&&!t.isLinked||(s<a&&a<s+d&&!i.startOnTick&&(r[0]=a),o&&!i.endOnTick&&(r[r.length-1]=l))}function I(t){var{options:{grid:i={}}}=this;return!0===i.enabled&&this.categories?this.tickInterval:t.apply(this,(i=arguments,Array.prototype.slice.call(i,1)))}class D{constructor(t){this.axis=t}isOuterAxis(){const e=this.axis,t=e.chart;var i=e.grid.columnIndex,n=e.linkedParent&&e.linkedParent.grid.columns||e.grid.columns;const r=i?e.linkedParent:e;let s=-1,o=0;return(t[e.coll]||[]).forEach((t,i)=>{t.side!==e.side||t.options.isInternal||(o=i,t===r&&(s=i))}),o===s&&(!b(i)||n.length===i)}renderBorder(t){const i=this.axis,e=i.chart.renderer,n=i.options,r=e.path(t).addClass("highcharts-axis-line").add(i.axisBorder);return e.styledMode||r.attr({stroke:n.lineColor,"stroke-width":n.lineWidth,zIndex:7}),r}}return t.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},t.W=function(t){const i=this,e=new this.Date(t);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(t){i.set(t,e,0)});t=(this.get("Day",e)+6)%7;const n=new this.Date(e.valueOf()),r=(this.set("Date",n,this.get("Date",e)-t+3),new this.Date(this.get("FullYear",n),0,1));return 4!==this.get("Day",r)&&(this.set("Month",e,0),this.set("Date",e,1+(11-this.get("Day",r))%7)),(1+Math.floor((n.valueOf()-r.valueOf())/6048e5)).toString()},{compose:function(t,i,e){return n.pushUnique(f,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=m,a(t.prototype,"unsquish",I),r(t,"init",C),r(t,"afterGetOffset",k),r(t,"afterGetTitlePosition",v),r(t,"afterInit",y),r(t,"afterRender",w),r(t,"afterSetAxisTranslation",L),r(t,"afterSetOptions",B),r(t,"afterSetOptions",O),r(t,"afterSetScale",M),r(t,"afterTickSize",S),r(t,"trimTicks",z),r(t,"destroy",A)),n.pushUnique(f,i)&&r(i,"afterSetChartSize",T),n.pushUnique(f,e)&&(r(e,"afterGetLabelPosition",E),r(e,"labelFormat",W)),t}}}),i(t,"masters/modules/grid-axis.src.js",[t["Core/Globals.js"],t["Core/Axis/GridAxis.js"]],function(t,i){i.compose(t.Axis,t.Chart,t.Tick)})});