!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,i,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],function(d,o){const{addEvent:s,find:i,fireEvent:u,isArray:r,isNumber:f,pick:g}=o;var e;{var t=e=e||{};const x=[];function n(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function a(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function l(){const e=this,t=e.brokenAxis;if(t?.hasBreaks){const i=e.tickPositions,o=e.tickPositions.info,s=[];for(let e=0;e<i.length;e++)t.isInAnyBreak(i[e])||s.push(i[e]);e.tickPositions=s,e.tickPositions.info=o}}function c(){var e=this;e.brokenAxis||(e.brokenAxis=new b(e))}function p(){const{isDirty:e,options:{connectNulls:t},points:i,xAxis:o,yAxis:s}=this;if(e){let e=i.length;for(;e--;){const n=i[e];var r=!(null===n.y&&!1===t)&&(o?.brokenAxis?.isInAnyBreak(n.x,!0)||s?.brokenAxis?.isInAnyBreak(n.y,!0));n.visible=!r&&!1!==n.options.visible}}}function h(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,g(this.pointArrayMap,["y"]))}function m(o,e){const i=this,s=i.points;let r,n,a;if(o?.brokenAxis?.hasBreaks){const l=o.brokenAxis;e.forEach(function(e){r=l?.breakArray||[],n=o.isXAxis?o.min:g(i.options.threshold,o.min);const t=o?.options?.breaks?.filter(function(t){let i=!0;for(let e=0;e<r.length;e++){var o=r[e];if(o.from===t.from&&o.to===t.to){i=!1;break}}return i});s.forEach(function(i){a=g(i["stack"+e.toUpperCase()],i[e]),r.forEach(function(t){if(f(n)&&f(a)){let e="";n<t.from&&a>t.to||n>t.from&&a<t.from?e="pointBreak":(n<t.from&&a>t.from&&a<t.to||n>t.from&&a>t.to&&a<t.from)&&(e="pointInBreak"),e&&u(o,e,{point:i,brk:t})}}),t?.forEach(function(e){u(o,"pointOutsideOfBreak",{point:i,brk:e})})})})}}function k(){const e=this.currentDataGrouping,i=e?.gapSize,o=this.points.slice(),s=this.yAxis;let r=this.options.gapSize,n=o.length-1,a;if(r&&0<n){"value"!==this.options.gapUnit&&(r*=this.basePointRange),i&&i>r&&i>=this.basePointRange&&(r=i);let e,t;for(;n--;){var l;t&&!1!==t.visible||(t=o[n+1]),e=o[n],!1!==t.visible&&!1!==e.visible&&(t.x-e.x>r&&(l=(e.x+t.x)/2,o.splice(n+1,0,{isNull:!0,x:l}),s.stacking&&this.options.stacking&&((a=s.stacking.stacks[this.stackKey][l]=new d(s,s.options.stackLabels,!1,l,this.stack)).total=0)),t=e)}}return this.getGraphPath(o)}t.compose=function(e,t){if(o.pushUnique(x,e)&&(e.keepProps.push("brokenAxis"),s(e,"init",c),s(e,"afterInit",n),s(e,"afterSetTickPositions",l),s(e,"afterSetOptions",a)),o.pushUnique(x,t)){const i=t.prototype;i.drawBreaks=m,i.gappedPath=k,s(t,"afterGeneratePoints",p),s(t,"afterRender",h)}return e};class b{static isInBreak(e,t){var i=e.repeat||1/0,o=e.from,s=e.to-e.from,o=o<=t?(t-o)%i:i-(o-t)%i;let r;return r=e.inclusive?o<=s:o<s&&0!=o}static lin2Val(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!f(e))return e;let o=e,s,r;for(r=0;r<i.length&&!((s=i[r]).from>=o);r++)(s.to<o||b.isInBreak(s,o))&&(o+=s.len);return o}static val2Lin(e){var t=this.brokenAxis,i=t&&t.breakArray;if(!i||!f(e))return e;let o=e,s,r;for(r=0;r<i.length;r++)if((s=i[r]).to<=e)o-=s.len;else{if(s.from>=e)break;if(b.isInBreak(s,e)){o-=e-s.from;break}}return o}constructor(e){this.hasBreaks=!1,this.axis=e}findBreakAt(t,e){return i(e,function(e){return e.from<t&&t<e.to})}isInAnyBreak(e,t){var i=this.axis,o=i.options.breaks||[];let s=o.length,r,n,a;if(s&&f(e)){for(;s--;)b.isInBreak(o[s],e)&&(r=!0,n=n||g(o[s].showPoints,!i.isXAxis));a=r&&t?r&&!n:r}return a}setBreaks(e,t){const p=this,h=p.axis;var i=r(e)&&!!e.length&&!!Object.keys(e[0]).length;h.isDirty=p.hasBreaks!==i,p.hasBreaks=i,e!==h.options.breaks&&(h.options.breaks=h.userOptions.breaks=e),h.forceRedraw=!0,h.series.forEach(function(e){e.isDirty=!0}),i||h.val2lin!==b.val2Lin||(delete h.val2lin,delete h.lin2val),i&&(h.userOptions.ordinal=!1,h.lin2val=b.lin2Val,h.val2lin=b.val2Lin,h.setExtremes=function(t,i,e,o,s){if(p.hasBreaks){var r=this.options.breaks||[];let e;for(;e=p.findBreakAt(t,r);)t=e.to;for(;e=p.findBreakAt(i,r);)i=e.from;i<t&&(i=t)}h.constructor.prototype.setExtremes.call(this,t,i,e,o,s)},h.setAxisTranslation=function(){if(h.constructor.prototype.setAxisTranslation.call(this),p.unitLength=void 0,p.hasBreaks){const e=h.options.breaks||[],l=[],d=[],c=g(h.pointRangePadding,0);let t=0,i,o,s=h.userMin||h.min,r=h.userMax||h.max,n,a;e.forEach(function(e){o=e.repeat||1/0,f(s)&&f(r)&&(b.isInBreak(e,s)&&(s+=e.to%o-s%o),b.isInBreak(e,r)&&(r-=r%o-e.from%o))}),e.forEach(function(e){if(n=e.from,o=e.repeat||1/0,f(s)&&f(r)){for(;n-o>s;)n-=o;for(;n<s;)n+=o;for(a=n;a<r;a+=o)l.push({value:a,move:"in"}),l.push({value:a+e.to-e.from,move:"out",size:e.breakSize})}}),l.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),i=0,n=s,l.forEach(function(e){1===(i+="in"===e.move?1:-1)&&"in"===e.move&&(n=e.value),0===i&&f(n)&&(d.push({from:n,to:e.value,len:e.value-n-(e.size||0)}),t+=e.value-n-(e.size||0))}),p.breakArray=d,f(s)&&f(r)&&f(h.min)&&(p.unitLength=r-s-t+c,u(h,"afterBreaks"),h.staticScale?h.transA=h.staticScale:p.unitLength&&(h.transA*=(r-h.min+c)/p.unitLength),c&&(h.minPixelPadding=h.transA*(h.minPointOffset||0)),h.min=s,h.max=r)}}),g(t,!0)&&h.chart.redraw()}}t.Additions=b}return e}),t(e,"Core/Axis/GridAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(d,l,o){const e=l["dateFormats"],{addEvent:s,defined:r,erase:c,find:p,isArray:n,isNumber:b,merge:h,pick:k,timeUnits:u,wrap:a}=o;var v,t;(t=v=v||{})[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left";const f=[];function g(e){return o.isObject(e,!0)}function m(s,e){const r={width:0,height:0};return e.forEach(function(e){e=s[e];let t,i=0,o;g(e)&&(t=(o=g(e.label)?e.label:{}).getBBox?o.getBBox().height:0,o.textStr&&!b(o.textPxLength)&&(o.textPxLength=o.getBBox().width),i=b(o.textPxLength)?Math.round(o.textPxLength):0,o.textStr&&(i=Math.round(o.getBBox().width)),r.height=Math.max(t,r.height),r.width=Math.max(i,r.width))}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(e=this.treeGrid.mapOfPosToGridNode[-1].height||0,r.width+=this.options.labels.indentation*(e-1)),r}function x(){const e=this["grid"];(e&&e.columns||[]).forEach(function(e){e.getOffset()})}function y(e){var t=this;const i=t.options;if(!0===(i.grid||{}).enabled){const{axisTitle:d,height:c,horiz:p,left:h,offset:u,opposite:f,options:i,top:g,width:m}=t;var o=t.tickSize(),s=d&&d.getBBox().width,r=i.title.x,n=i.title.y,a=k(i.title.margin,p?5:10),l=d?t.chart.renderer.fontMetrics(d).f:0,o=(p?g+c:h)+(p?1:-1)*(f?-1:1)*(o?o[0]/2:0)+(t.side===v.bottom?l:0);e.titlePosition.x=p?h-(s||0)/2-a+r:o+(f?m:0)+u+r,e.titlePosition.y=p?o-(f?c:0)+(f?l:-l)/2+u+n:g-a+n}}function G(){var t=this,{chart:i,options:{grid:o={}},userOptions:s}=t;if(o.enabled){var e=t;const r=e.options;r.labels.align=k(r.labels.align,"center"),e.categories||(r.showLastLabel=!1),e.labelRotation=0,r.labels.rotation=0,r.minTickInterval=1}if(o.columns){const n=t.grid.columns=[];let e=t.grid.columnIndex=0;for(;++e<o.columns.length;){const a=h(s,o.columns[o.columns.length-e-1],{isInternal:!0,linkedTo:0,type:"category",scrollbar:{enabled:!1}}),l=(delete a.grid.columns,new d(t.chart,a,"yAxis"));l.grid.isColumn=!0,l.grid.columnIndex=e,c(i.axes,l),c(i[t.coll]||[],l),n.push(l)}}}function P(){const i=this,e=i.grid,t=i.options,o=t.grid||{};if(!0===o.enabled){var s=i.min||0,r=i.max||0;if(i.maxLabelDimensions=i.getMaxLabelDimensions(i.ticks,i.tickPositions),i.rightWall&&i.rightWall.destroy(),i.grid&&i.grid.isOuterAxis()&&i.axisLine){var n=t.lineWidth;if(n){const d=i.getLinePath(n),c=d[0],p=d[1],h=(i.tickSize("tick")||[1])[0],u=(h-1)*(i.side===v.top||i.side===v.left?-1:1);"M"===c[0]&&"L"===p[0]&&(i.horiz?(c[2]+=u,p[2]+=u):(c[1]+=u,p[1]+=u)),!i.horiz&&i.chart.marginRight&&(n=[c,["L",i.left,c[2]||0]],a=["L",i.chart.chartWidth-i.chart.marginRight,i.toPixels(r+i.tickmarkOffset)],a=[["M",p[1]||0,i.toPixels(r+i.tickmarkOffset)],a],i.grid.upperBorder||s%1==0||(i.grid.upperBorder=i.grid.renderBorder(n)),i.grid.upperBorder&&(i.grid.upperBorder.attr({stroke:t.lineColor,"stroke-width":t.lineWidth}),i.grid.upperBorder.animate({d:n})),i.grid.lowerBorder||r%1==0||(i.grid.lowerBorder=i.grid.renderBorder(a)),i.grid.lowerBorder&&(i.grid.lowerBorder.attr({stroke:t.lineColor,"stroke-width":t.lineWidth}),i.grid.lowerBorder.animate({d:a}))),i.grid.axisLineExtra?(i.grid.axisLineExtra.attr({stroke:t.lineColor,"stroke-width":t.lineWidth}),i.grid.axisLineExtra.animate({d:d})):i.grid.axisLineExtra=i.grid.renderBorder(d),i.axisLine[i.showAxis?"show":"hide"]()}}if((e&&e.columns||[]).forEach(e=>e.render()),!i.horiz&&i.chart.hasRendered&&(i.scrollbar||i.linkedParent&&i.linkedParent.scrollbar)){var n=i.tickmarkOffset,a=i.tickPositions[i.tickPositions.length-1],l=i.tickPositions[0];let e,t;for(;(e=i.hiddenLabels.pop())&&e.element;)e.show();for(;(t=i.hiddenMarks.pop())&&t.element;)t.show();(e=i.ticks[l].label)&&(n<s-l?i.hiddenLabels.push(e.hide()):e.show()),(e=i.ticks[a].label)&&(n<a-r?i.hiddenLabels.push(e.hide()):e.show());const f=i.ticks[a].mark;f&&a-r<n&&0<a-r&&i.ticks[a].isLast&&i.hiddenMarks.push(f.hide())}}}function A(){var e=this,t=e.tickPositions&&e.tickPositions.info;const i=e.options;var o=i.grid||{},s=e.userOptions.labels||{};o.enabled&&(e.horiz?(e.series.forEach(e=>{e.options.pointRange=0}),t&&i.dateTimeLabelFormats&&i.labels&&!r(s.align)&&(!1===i.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(i.labels.align="left",r(s.x)||(i.labels.x=3))):"treegrid"!==this.options.type&&e.grid&&e.grid.columns&&(this.minPointOffset=this.tickInterval))}function T(e){const t=this.options,i=e.userOptions,o=t&&g(t.grid)?t.grid:{};let d;!0===o.enabled&&(d=h(!0,{className:"highcharts-grid-axis "+(i.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},i),"xAxis"===this.coll&&(r(i.linkedTo)&&!r(i.tickPixelInterval)&&(d.tickPixelInterval=350),r(i.tickPixelInterval)||!r(i.linkedTo)||r(i.tickPositioner)||r(i.tickInterval)||(d.tickPositioner=function(o,s){var r=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(r){var n=d.units||[];let t,e=1,i="year";for(let e=0;e<n.length;e++){var a=n[e];if(a&&a[0]===r.unitName){t=e;break}}var l=b(t)&&n[t+1],l=(l?(i=l[0]||"year",l=l[1],e=l&&l[0]||1):"year"===r.unitName&&(e=10*r.count),u[i]);return this.tickInterval=l*e,this.chart.time.getTimeTicks({unitRange:l,count:e,unitName:i},o,s,this.options.startOfWeek)}})),h(!0,this.options,d),this.horiz&&(t.minPadding=k(i.minPadding,0),t.maxPadding=k(i.maxPadding,0)),b(t.grid.borderWidth)&&(t.tickWidth=t.lineWidth=o.borderWidth))}function O(e){var e=e.userOptions,e=e&&e.grid||{},t=e.columns;e.enabled&&t&&h(!0,this.options,t[t.length-1])}function C(){(this.grid.columns||[]).forEach(e=>e.setScale())}function B(e){var t,{horiz:i,maxLabelDimensions:o,options:{grid:s={}}}=this;s.enabled&&o&&(t=2*this.options.labels.distance,i=i?s.cellHeight||t+o.height:t+o.width,n(e.tickSize)?e.tickSize[0]=i:e.tickSize=[i,0])}function I(){this.axes.forEach(e=>{(e.grid&&e.grid.columns||[]).forEach(e=>{e.setAxisSize(),e.setAxisTranslation()})})}function N(t){const e=this["grid"];(e.columns||[]).forEach(e=>e.destroy(t.keepEvents)),e.columns=void 0}function w(e){var t=this;const i=e.userOptions||{};e=i.grid||{};e.enabled&&r(e.borderColor)&&(i.tickColor=i.lineColor=e.borderColor),t.grid||(t.grid=new j(t)),t.hiddenLabels=[],t.hiddenMarks=[]}function E(s){const r=this.label,n=this.axis,a=n.reversed,l=n.chart,e=n.options,t=e.grid||{},d=n.options.labels,c=d.align,p=v[n.side],i=s.tickmarkOffset,o=n.tickPositions,h=this.pos-i,u=b(o[s.index+1])?o[s.index+1]-i:(n.max||0)+i,f=n.tickSize("tick"),g=f?f[0]:0,m=f?f[1]/2:0;if(!0===t.enabled){let e,t,i,o;var k,x;"top"===p?(e=n.top+n.offset,t=e-g):"bottom"===p?(t=l.chartHeight-n.bottom+n.offset,e=t+g):(e=n.top+n.len-(n.translate(a?u:h)||0),t=n.top+n.len-(n.translate(a?h:u)||0)),"right"===p?(i=l.chartWidth-n.right+n.offset,o=i+g):"left"===p?(o=n.left+n.offset,i=o-g):(i=Math.round(n.left+(n.translate(a?u:h)||0))-m,o=Math.min(Math.round(n.left+(n.translate(a?h:u)||0))-m,n.left+n.len)),this.slotWidth=o-i,s.pos.x="left"===c?i:"right"===c?o:i+(o-i)/2,s.pos.y=t+(e-t)/2,r&&(k=l.renderer.fontMetrics(r),x=r.getBBox().height,d.useHTML?s.pos.y+=k.b+-x/2:(x=Math.round(x/k.h),s.pos.y+=(k.b-(k.h-k.f))/2+-((x-1)*k.h)/2)),s.pos.x+=n.horiz&&d.x||0}}function L(t){const{axis:i,value:o}=t;if(i.options.grid&&i.options.grid.enabled){var s=i.tickPositions;const a=(i.linkedParent||i).series[0];var r=o===s[0],s=o===s[s.length-1],n=a&&p(a.options.data,function(e){return e[i.isXAxis?"x":"y"]===o});let e;n&&a.is("gantt")&&(e=h(n),l.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(e)),t.isFirst=r,t.isLast=s,t.point=e}}function S(){var e=this,t=e.options,i=t.grid||{},o=e.categories;const s=e.tickPositions;var r=s[0],n=s[s.length-1],a=e.linkedParent&&e.linkedParent.min,l=e.linkedParent&&e.linkedParent.max,a=a||e.min,l=l||e.max,d=e.tickInterval,n=l<n&&n-d<l;!0!==i.enabled||o||!e.horiz&&!e.isLinked||(r<a&&a<r+d&&!t.startOnTick&&(s[0]=a),n&&!t.endOnTick&&(s[s.length-1]=l))}function M(e){var{options:{grid:t={}}}=this;return!0===t.enabled&&this.categories?this.tickInterval:e.apply(this,(t=arguments,Array.prototype.slice.call(t,1)))}class j{constructor(e){this.axis=e}isOuterAxis(){const i=this.axis,e=i.chart;var t=i.grid.columnIndex,o=i.linkedParent&&i.linkedParent.grid.columns||i.grid.columns;const s=t?i.linkedParent:i;let r=-1,n=0;return(e[i.coll]||[]).forEach((e,t)=>{e.side!==i.side||e.options.isInternal||(n=t,e===s&&(r=t))}),n===r&&(!b(t)||o.length===t)}renderBorder(e){const t=this.axis,i=t.chart.renderer,o=t.options,s=i.path(e).addClass("highcharts-axis-line").add(t.axisBorder);return i.styledMode||s.attr({stroke:o.lineColor,"stroke-width":o.lineWidth,zIndex:7}),s}}return e.E=function(e){return this.dateFormat("%a",e,!0).charAt(0)},e.W=function(e){const t=this,i=new this.Date(e);["Hours","Milliseconds","Minutes","Seconds"].forEach(function(e){t.set(e,i,0)});e=(this.get("Day",i)+6)%7;const o=new this.Date(i.valueOf()),s=(this.set("Date",o,this.get("Date",i)-e+3),new this.Date(this.get("FullYear",o),0,1));return 4!==this.get("Day",s)&&(this.set("Month",i,0),this.set("Date",i,1+(11-this.get("Day",s))%7)),(1+Math.floor((o.valueOf()-s.valueOf())/6048e5)).toString()},{compose:function(e,t,i){return o.pushUnique(f,e)&&(e.keepProps.push("grid"),e.prototype.getMaxLabelDimensions=m,a(e.prototype,"unsquish",M),s(e,"init",w),s(e,"afterGetOffset",x),s(e,"afterGetTitlePosition",y),s(e,"afterInit",G),s(e,"afterRender",P),s(e,"afterSetAxisTranslation",A),s(e,"afterSetOptions",T),s(e,"afterSetOptions",O),s(e,"afterSetScale",C),s(e,"afterTickSize",B),s(e,"trimTicks",S),s(e,"destroy",N)),o.pushUnique(f,t)&&s(t,"afterSetChartSize",I),o.pushUnique(f,i)&&(s(i,"afterGetLabelPosition",E),s(i,"labelFormat",L)),e}}}),t(e,"Gantt/Tree.js",[e["Core/Utilities.js"]],function(e){const{extend:u,isNumber:f,pick:g}=e;function m(o,e,s,t,r,n){const i=n&&n.after,a=n&&n.before,l={data:t,depth:s-1,id:o,level:s,parent:e||""};let d=0,c=0,p,h;"function"==typeof a&&a(l,n);e=(r[o]||[]).map(e=>{var t=m(e.id,o,s+1,e,r,n),i=e.start||NaN,e=!0===e.milestone?i:e.end||NaN;return p=!f(p)||i<p?i:p,h=!f(h)||e>h?e:h,d=d+1+t.descendants,c=Math.max(t.height+1,c),t});return t&&(t.start=g(t.start,p),t.end=g(t.end,h)),u(l,{children:e,descendants:d,height:c}),"function"==typeof i&&i(l,n),l}return{getNode:m,getTree:function(e,t){return m("",null,1,null,e=e.reduce((e,t)=>{var i=g(t.parent,"");return void 0===e[i]&&(e[i]=[]),e[i].push(t),e},{}),t)}}}),t(e,"Core/Axis/TreeGrid/TreeGridTick.js",[e["Core/Utilities.js"]],function(t){const{addEvent:C,isObject:B,isNumber:I,pick:N,wrap:i}=t,o=[];function s(){this.treeGrid||(this.treeGrid=new e(this))}function r(e,t,i,o,s,r,n,a,l){const d=this,c=N(d.options&&d.options.labels,r),p=d.pos,h=d.axis,u=h.options,f="treegrid"===u.type,g=e.apply(d,[t,i,o,s,c,n,a,l]);return f&&(r=c&&B(c.symbol,!0)?c.symbol:{},e=c&&I(c.indentation)?c.indentation:0,o=(i=(t=h.treeGrid.mapOfPosToGridNode)&&t[p])&&i.depth||1,g.x+=(r.width||0)+2*(r.padding||0)+(o-1)*e),g}function n(t){const i=this,e=i.pos,o=i.axis,s=i.label,r=o.treeGrid.mapOfPosToGridNode,n=o.options,a=N(i.options&&i.options.labels,n&&n.labels),l=a&&B(a.symbol,!0)?a.symbol:{},d=r&&r[e],c=d&&d.depth,p="treegrid"===n.type,h=-1<o.tickPositions.indexOf(e),u="highcharts-treegrid-node-",f=o.chart.styledMode;if(p&&d&&s&&s.element&&s.addClass(u+"level-"+c),t.apply(i,Array.prototype.slice.call(arguments,1)),p&&s&&s.element&&d&&d.descendants&&0<d.descendants){t=o.treeGrid.isCollapsed(d);{var g=i;var m={color:!f&&s.styles&&s.styles.color||"",collapsed:t,group:s.parentGroup,options:l,renderer:s.renderer,show:h,xy:s.xy};const k=g.treeGrid,x=!k.labelIcon,b=m.renderer,v=m.xy,y=m.options,G=y.width||0,P=y.height||0,A={x:v.x-G/2-(y.padding||0),y:v.y-P/2},T=m.collapsed?90:180,O=m.show&&I(A.y);let e=k.labelIcon;e||(k.labelIcon=e=b.path(b.symbols[y.type](y.x||0,y.y||0,G,P)).addClass("highcharts-label-icon").add(m.group)),e[O?"show":"hide"](),b.styledMode||e.attr({cursor:"pointer",fill:N(m.color,"#666666"),"stroke-width":1,stroke:y.lineColor,strokeWidth:y.lineWidth||0}),e[x?"attr":"animate"]({translateX:A.x,translateY:A.y,rotation:T})}g=u+(t?"expanded":"collapsed"),s.addClass(u+(t?"collapsed":"expanded")).removeClass(g),f||s.css({cursor:"pointer"}),[s,i.treeGrid.labelIcon].forEach(e=>{e&&!e.attachedTreeGridEvents&&(C(e.element,"mouseover",function(){var e;(e=s).addClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:"underline"})}),C(e.element,"mouseout",function(){var e,t;e=s,t=a,t=B(t.style)?t.style:{},e.removeClass("highcharts-treegrid-node-active"),e.renderer.styledMode||e.css({textDecoration:t.textDecoration})}),C(e.element,"click",function(){i.treeGrid.toggleCollapse()}),e.attachedTreeGridEvents=!0)})}}class e{static compose(e){t.pushUnique(o,e)&&(C(e,"init",s),i(e.prototype,"getLabelPosition",r),i(e.prototype,"renderLabel",n),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){const t=this.tick,i=t.axis,o=i.brokenAxis;var s;o&&i.treeGrid.mapOfPosToGridNode&&(s=t.pos,s=i.treeGrid.mapOfPosToGridNode[s],s=i.treeGrid.collapse(s),o.setBreaks(s,N(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){const t=this.tick,i=t.axis,o=i.brokenAxis;var s;o&&i.treeGrid.mapOfPosToGridNode&&(s=t.pos,s=i.treeGrid.mapOfPosToGridNode[s],s=i.treeGrid.expand(s),o.setBreaks(s,N(e,!0)))}toggleCollapse(e){const t=this.tick,i=t.axis,o=i.brokenAxis;var s;o&&i.treeGrid.mapOfPosToGridNode&&(s=t.pos,s=i.treeGrid.mapOfPosToGridNode[s],s=i.treeGrid.toggleCollapse(s),o.setBreaks(s,N(e,!0)))}}return class{static compose(e){t.pushUnique(o,e)&&(C(e,"init",s),i(e.prototype,"getLabelPosition",r),i(e.prototype,"renderLabel",n),e.prototype.collapse=function(e){this.treeGrid.collapse(e)},e.prototype.expand=function(e){this.treeGrid.expand(e)},e.prototype.toggleCollapse=function(e){this.treeGrid.toggleCollapse(e)})}constructor(e){this.tick=e}collapse(e){const t=this.tick,i=t.axis,o=i.brokenAxis;var s;o&&i.treeGrid.mapOfPosToGridNode&&(s=t.pos,s=i.treeGrid.mapOfPosToGridNode[s],s=i.treeGrid.collapse(s),o.setBreaks(s,N(e,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(e){const t=this.tick,i=t.axis,o=i.brokenAxis;var s;o&&i.treeGrid.mapOfPosToGridNode&&(s=t.pos,s=i.treeGrid.mapOfPosToGridNode[s],s=i.treeGrid.expand(s),o.setBreaks(s,N(e,!0)))}toggleCollapse(e){const t=this.tick,i=t.axis,o=i.brokenAxis;var s;o&&i.treeGrid.mapOfPosToGridNode&&(s=t.pos,s=i.treeGrid.mapOfPosToGridNode[s],s=i.treeGrid.toggleCollapse(s),o.setBreaks(s,N(e,!0)))}}}),t(e,"Series/TreeUtilities.js",[e["Core/Color/Color.js"],e["Core/Utilities.js"]],function(x,e){const{extend:f,isArray:l,isNumber:d,isObject:c,merge:p,pick:b}=e;return{getColor:function(e,t){const i=t.index,o=t.mapOptionsToLevel,s=t.parentColor,r=t.parentColorIndex,n=t.series,a=t.colors,l=t.siblings,d=n.points,c=n.chart.options.chart;let p,h,u,f,g,m;var k;return e&&(p=d[e.i],h=o[e.level]||{},p&&h.colorByPoint&&(f=p.index%(a?a.length:c.colorCount),u=a&&a[f]),n.chart.styledMode||(g=b(p&&p.options.color,h&&h.color,u,s&&(e=s,(k=h&&h.colorVariation)&&"brightness"===k.key&&i&&l?x.parse(e).brighten(k.to*(i/l)).get():e),n.color)),m=b(p&&p.options.colorIndex,h&&h.colorIndex,f,r,t.colorIndex)),{color:g,colorIndex:m}},getLevelOptions:function(e){let t={},r,i,o,n,s,a;if(c(e))for(n=d(e.from)?e.from:1,a=e.levels,i={},r=c(e.defaults)?e.defaults:{},l(a)&&(i=a.reduce((e,t)=>{let i,o,s;return c(t)&&d(t.level)&&(s=p({},t),o=b(s.levelIsConstant,r.levelIsConstant),delete s.levelIsConstant,delete s.level,i=t.level+(o?0:n-1),c(e[i])?p(!0,e[i],s):e[i]=s),e},{})),s=d(e.to)?e.to:1,o=0;o<=s;o++)t[o]=p({},r,c(i[o])?i[o]:{});return t},setTreeValues:function o(s,r){const e=r.before,t=r.idRoot,i=r.mapIdToNode,n=i[t],a=!1!==r.levelIsConstant,l=r.points,d=l[s.i],c=d&&d.options||{},p=[];let h=0;s.levelDynamic=s.level-(a?0:n.level),s.name=b(d&&d.name,""),s.visible=t===s.id||!0===r.visible,(s="function"==typeof e?e(s,r):s).children.forEach((e,t)=>{var i=f({},r);f(i,{index:t,siblings:s.children.length,visible:s.visible}),e=o(e,i),p.push(e),e.visible&&(h+=e.val)});var u=b(c.value,h);return s.visible=0<=u&&(0<h||s.visible),s.children=p,s.childrenTotal=h,s.isLeaf=s.visible&&!h,s.val=u,s},updateRootId:function(e){let t,i;return c(e)&&(i=c(e.options)?e.options:{},t=b(e.rootNode,i.rootId,""),c(e.userOptions)&&(e.userOptions.rootId=t),e.rootNode=t),t}}}),t(e,"Core/Axis/TreeGrid/TreeGridAxis.js",[e["Core/Axis/BrokenAxis.js"],e["Core/Axis/GridAxis.js"],e["Gantt/Tree.js"],e["Core/Axis/TreeGrid/TreeGridTick.js"],e["Series/TreeUtilities.js"],e["Core/Utilities.js"]],function(r,n,f,a,e,l){const c=e["getLevelOptions"],{addEvent:d,find:g,fireEvent:o,isArray:p,isObject:m,isString:k,merge:h,pick:s,wrap:u}=l,x=[];let b;function v(e,t){var i=e.collapseEnd||0;let o=e.collapseStart||0;return t<=i&&(o-=.5),{from:o,to:i,showPoints:!1}}function y(e,t,i){const a=[],s=[],l={},d="boolean"==typeof t&&t;let c={},p=-1;var h,t=f.getTree(e,{after:function(e){const t=c[e.pos];let i=0,o=0;t.children.forEach(function(e){o+=(e.descendants||0)+1,i=Math.max((e.height||0)+1,i)}),t.descendants=o,t.height=i,t.collapsed&&s.push(t)},before:function(e){const t=m(e.data,!0)?e.data:{},i=k(t.name)?t.name:"",o=l[e.parent],s=m(o,!0)?c[o.pos]:null;let r,n;d&&m(s,!0)&&(r=g(s.children,function(e){return e.name===i}))?(n=r.pos,r.nodes.push(e)):n=p++,c[n]||(c[n]=r={depth:s?s.depth+1:0,name:i,id:t.id,nodes:[e],children:[],pos:n},-1!==n&&a.push(i),m(s,!0)&&s.children.push(r)),k(e.id)&&(l[e.id]=e),r&&!0===t.collapsed&&(r.collapsed=!0),e.pos=n}});function u(e,i,t){const o=e.nodes;let s=i+(-1===i?0:h-1);const r=(s-i)/2,n=i+r;return o.forEach(function(e){const t=e.data;m(t,!0)&&(t.y=i+(t.seriesIndex||0),delete t.seriesIndex),e.pos=n}),(t[n]=e).pos=n,e.tickmarkOffset=.5+r,e.collapseStart=s+.5,e.children.forEach(function(e){u(e,s+1,t),s=(e.collapseEnd||0)-.5}),e.collapseEnd=s+.5,t}return c=(e=c,h=i,u(e[-1],-1,{})),{categories:a,mapOfIdToNode:l,mapOfPosToGridNode:c,collapsedNodes:s,tree:t}}function G(d){const e=d.target,t=e.axes;t.filter(function(e){return"treegrid"===e.options.type}).forEach(function(e){const t=e.options||{},i=t.labels,o=t.uniqueNames,s=t.max,r=!e.treeGrid.mapOfPosToGridNode||e.series.some(function(e){return!e.hasRendered||e.isDirtyData||e.isDirty});let n=0,a,l;if(r){if(a=e.series.reduce(function(t,i){return i.visible&&((i.options.data||[]).forEach(function(e){i.options.keys&&i.options.keys.length&&(e=i.pointClass.prototype.optionsToObject.call({series:i},e),i.pointClass.setGanttPointAliases(e)),m(e,!0)&&(e.seriesIndex=n,t.push(e))}),!0===o&&n++),t},[]),s&&a.length<s)for(let e=a.length;e<=s;e++)a.push({name:e+"​"});l=y(a,o||!1,!0===o?n:1),e.categories=l.categories,e.treeGrid.mapOfPosToGridNode=l.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=l.tree,e.series.forEach(function(e){var t=(e.options.data||[]).map(function(t){return p(t)&&e.options.keys&&e.options.keys.length&&a.forEach(function(e){0<=t.indexOf(e.x)&&0<=t.indexOf(e.x2)&&(t=e)}),m(t,!0)?h(t):t});e.visible&&e.setData(t,!1)}),e.treeGrid.mapOptionsToLevel=c({defaults:i,from:1,levels:i&&i.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===d.type&&(e.treeGrid.collapsedNodes=l.collapsedNodes)}})}function P(e,t){const i=this,o=i.treeGrid.mapOptionsToLevel||{},s="treegrid"===i.options.type,r=i.ticks;let n=r[t],a,l,d;s&&i.treeGrid.mapOfPosToGridNode?((a=o[(d=i.treeGrid.mapOfPosToGridNode[t]).depth])&&(l={labels:a}),!n&&b?r[t]=n=new b(i,t,void 0,void 0,{category:d.name,tickmarkOffset:d.tickmarkOffset,options:l}):(n.parameters.category=d.name,n.options=l,n.addLabel())):e.apply(i,Array.prototype.slice.call(arguments,1))}function A(e,t,i,o){const s=this,r="treegrid"===i.type;s.treeGrid||(s.treeGrid=new O(s)),r&&(d(t,"beforeRender",G),d(t,"beforeRedraw",G),d(t,"addSeries",function(e){e.options.data&&(e=y(e.options.data,i.uniqueNames||!1,1),s.treeGrid.collapsedNodes=(s.treeGrid.collapsedNodes||[]).concat(e.collapsedNodes))}),d(s,"foundExtremes",function(){s.treeGrid.collapsedNodes&&s.treeGrid.collapsedNodes.forEach(function(t){var e=s.treeGrid.collapse(t);s.brokenAxis&&(s.brokenAxis.setBreaks(e,!1),s.treeGrid.collapsedNodes&&(s.treeGrid.collapsedNodes=s.treeGrid.collapsedNodes.filter(e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd)))})}),d(s,"afterBreaks",function(){"yAxis"===s.coll&&!s.staticScale&&s.chart.options.chart.height&&(s.isDirty=!0)}),i=h({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),e.apply(s,[t,i,o]),r&&(s.hasNames=!0,s.options.showLastLabel=!0)}function T(e){var t=this,i=t.options;"treegrid"===i.type?(t.min=s(t.userMin,i.min,t.dataMin),t.max=s(t.userMax,i.max,t.dataMax),o(t,"foundExtremes"),t.setAxisTranslation(),t.tickmarkOffset=.5,t.tickInterval=1,t.tickPositions=t.treeGrid.mapOfPosToGridNode?t.treeGrid.getTickPositions():[]):e.apply(t,Array.prototype.slice.call(arguments,1))}class O{static compose(e,t,i,o){if(l.pushUnique(x,e)){-1===e.keepProps.indexOf("treeGrid")&&e.keepProps.push("treeGrid");const s=e.prototype;u(s,"generateTick",P),u(s,"init",A),u(s,"setTickInterval",T),s.utils={getNode:f.getNode}}return l.pushUnique(x,o)&&(b=b||o),n.compose(e,t,o),r.compose(e,i),a.compose(o),e}constructor(e){this.axis=e}setCollapsedStatus(s){const e=this.axis,r=e.chart;e.series.forEach(function(e){var t=e.options.data;if(s.id&&t){const i=r.get(s.id),o=t[e.data.indexOf(i)];i&&o&&(i.collapsed=s.collapsed,o.collapsed=s.collapsed)}})}collapse(e){const t=this.axis,i=t.options.breaks||[],o=v(e,t.max);return i.push(o),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){const t=this.axis,i=t.options.breaks||[],o=v(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===o.to&&t.from===o.from||e.push(t),e},[])}getTickPositions(){const i=this.axis,o=Math.floor(i.min/i.tickInterval)*i.tickInterval,s=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){t=+t;return!(t>=o&&t<=s)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])}isCollapsed(e){const t=this.axis,i=t.options.breaks||[],o=v(e,t.max);return i.some(function(e){return e.from===o.from&&e.to===o.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}return class{static compose(e,t,i,o){if(l.pushUnique(x,e)){-1===e.keepProps.indexOf("treeGrid")&&e.keepProps.push("treeGrid");const s=e.prototype;u(s,"generateTick",P),u(s,"init",A),u(s,"setTickInterval",T),s.utils={getNode:f.getNode}}return l.pushUnique(x,o)&&(b=b||o),n.compose(e,t,o),r.compose(e,i),a.compose(o),e}constructor(e){this.axis=e}setCollapsedStatus(s){const e=this.axis,r=e.chart;e.series.forEach(function(e){var t=e.options.data;if(s.id&&t){const i=r.get(s.id),o=t[e.data.indexOf(i)];i&&o&&(i.collapsed=s.collapsed,o.collapsed=s.collapsed)}})}collapse(e){const t=this.axis,i=t.options.breaks||[],o=v(e,t.max);return i.push(o),e.collapsed=!0,t.treeGrid.setCollapsedStatus(e),i}expand(e){const t=this.axis,i=t.options.breaks||[],o=v(e,t.max);return e.collapsed=!1,t.treeGrid.setCollapsedStatus(e),i.reduce(function(e,t){return t.to===o.to&&t.from===o.from||e.push(t),e},[])}getTickPositions(){const i=this.axis,o=Math.floor(i.min/i.tickInterval)*i.tickInterval,s=Math.ceil(i.max/i.tickInterval)*i.tickInterval;return Object.keys(i.treeGrid.mapOfPosToGridNode||{}).reduce(function(e,t){return!((t=+t)>=o&&t<=s)||i.brokenAxis&&i.brokenAxis.isInAnyBreak(t)||e.push(t),e},[])}isCollapsed(e){const t=this.axis,i=t.options.breaks||[],o=v(e,t.max);return i.some(function(e){return e.from===o.from&&e.to===o.to})}toggleCollapse(e){return this.isCollapsed(e)?this.expand(e):this.collapse(e)}}}),t(e,"masters/modules/treegrid.src.js",[e["Core/Globals.js"],e["Core/Axis/TreeGrid/TreeGridAxis.js"]],function(e,t){t.compose(e.Axis,e.Chart,e.Series,e.Tick)})});