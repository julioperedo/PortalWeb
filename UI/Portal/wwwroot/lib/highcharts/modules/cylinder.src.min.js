"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/cylinder",["highcharts","highcharts/highcharts-3d"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function r(t,e,r,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,r))}r(e,"modules/cylinder.src.js",[e["parts/Globals.js"],e["parts/Color.js"],e["parts/Utilities.js"]],function(t,e,r){function u(t){return!t.some(function(t){return"C"===t[0]})}var n,s=e.parse,i=r.merge,g=r.pick,o=r.seriesType,p=t.charts,x=t.deg2rad,C=t.perspective,h=t.Renderer.prototype,a=h.cuboidPath;o("cylinder","column",{},{},{shapeType:"cylinder",hasNewShapeType:t.seriesTypes.column.prototype.pointClass.prototype.hasNewShapeType}),n=i(h.elements3d.cuboid,{parts:["top","bottom","front","back"],pathType:"cylinder",fillSetter:function(t){return this.singleSetterForParts("fill",null,{front:t,back:t,top:s(t).brighten(.1).get(),bottom:s(t).brighten(-.1).get()}),this.color=this.fill=t,this}}),h.elements3d.cylinder=n,h.cylinder=function(t){return this.element3d("cylinder",t)},h.cylinderPath=function(t){var e=this,r=p[e.chartIndex],n=a.call(e,t),s=!n.isTop,i=!n.isFront,o=e.getCylinderEnd(r,t),h=e.getCylinderEnd(r,t,!0);return{front:e.getCylinderFront(o,h),back:e.getCylinderBack(o,h),top:o,bottom:h,zIndexes:{top:s?3:0,bottom:s?0:3,front:i?2:1,back:i?1:2,group:n.zIndexes.group}}},h.getCylinderFront=function(t,e){var r,n,s,i=t.slice(0,3);return u(e)?"M"===(r=e[0])[0]&&(i.push(e[2]),i.push(e[1]),i.push(["L",r[1],r[2]])):(r=e[0],n=e[1],s=e[2],"M"===r[0]&&"C"===n[0]&&"C"===s[0]&&(i.push(["L",s[5],s[6]]),i.push(["C",s[3],s[4],s[1],s[2],n[5],n[6]]),i.push(["C",n[3],n[4],n[1],n[2],r[1],r[2]]))),i.push(["Z"]),i},h.getCylinderBack=function(t,e){var r,n,s,i,o,h=[];return u(t)?(n=t[0],r=t[2],"M"===n[0]&&"L"===r[0]&&(h.push(["M",r[1],r[2]]),h.push(t[3]),h.push(["L",n[1],n[2]]))):("C"===t[2][0]&&h.push(["M",t[2][5],t[2][6]]),h.push(t[3],t[4])),u(e)?"M"===(n=e[0])[0]&&(h.push(["L",n[1],n[2]]),h.push(e[3]),h.push(e[2])):(s=e[2],i=e[3],o=e[4],"C"===s[0]&&"C"===i[0]&&"C"===o[0]&&(h.push(["L",o[5],o[6]]),h.push(["C",o[3],o[4],o[1],o[2],i[5],i[6]]),h.push(["C",i[3],i[4],i[1],i[2],s[5],s[6]]))),h.push(["Z"]),h},h.getCylinderEnd=function(t,e,r){var n,s,i,o=g(e.depth,e.width),h=Math.min(e.width,o)/2,u=x*(t.options.chart.options3d.beta-90+(e.alphaCorrection||0)),p=e.y+(r?e.height:0),a=.5519*h,c=e.width/2+e.x,d=o/2+e.z,l=[{x:0,y:p,z:h},{x:a,y:p,z:h},{x:h,y:p,z:a},{x:h,y:p,z:0},{x:h,y:p,z:-a},{x:a,y:p,z:-h},{x:0,y:p,z:-h},{x:-a,y:p,z:-h},{x:-h,y:p,z:-a},{x:-h,y:p,z:0},{x:-h,y:p,z:a},{x:-a,y:p,z:h},{x:0,y:p,z:h}],y=Math.cos(u),f=Math.sin(u);return l.forEach(function(t,e){s=t.x,i=t.z,l[e].x=s*y-i*f+c,l[e].z=i*y+s*f+d}),n=C(l,t,!0),Math.abs(n[3].y-n[9].y)<2.5&&Math.abs(n[0].y-n[6].y)<2.5?this.toLinePath([n[0],n[3],n[6],n[9]],!0):this.getCurvedPath(n)},h.getCurvedPath=function(t){for(var e=[["M",t[0].x,t[0].y]],r=t.length-2,n=1;n<r;n+=3)e.push(["C",t[n].x,t[n].y,t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y]);return e}}),r(e,"masters/modules/cylinder.src.js",[],function(){})});