"use strict";!function(s){"object"==typeof module&&module.exports?module.exports=s.default=s:"function"==typeof define&&define.amd?define("highcharts/modules/variwide",["highcharts"],function(t){return s(t),s.Highcharts=t,s}):s("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var s=t?t._modules:{};function i(t,s,i,r){t.hasOwnProperty(s)||(t[s]=r.apply(null,i))}i(s,"modules/variwide.src.js",[s["parts/Globals.js"],s["parts/Utilities.js"]],function(t,s){var i=s.addEvent,r=s.isNumber,f=s.pick,a=s.seriesType,e=s.wrap,h=t.seriesTypes;a("variwide","column",{pointPadding:0,groupPadding:0},{irregularWidths:!0,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],processData:function(t){this.totalZ=0,this.relZ=[],h.column.prototype.processData.call(this,t),(this.xAxis.reversed?this.zData.slice().reverse():this.zData).forEach(function(t,s){this.relZ[s]=this.totalZ,this.totalZ+=t},this),this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=this.zData)},postTranslate:function(t,s,i){var r=this.xAxis,a=this.relZ,e=r.reversed?a.length-t:t,o=r.reversed?-1:1,h=r.len,n=this.totalZ,l=e/a.length*h,p=(e+o)/a.length*h,c=f(a[e],n)/n*h,d=f(a[e+o],n)/n*h,u=s-l;return i&&(i.crosshairWidth=d-c),c+u*(d-c)/(p-l)},translate:function(){var t=this.options.crisp,a=this.xAxis;this.options.crisp=!1,h.column.prototype.translate.call(this),this.options.crisp=t;var e=this.chart.inverted,o=this.borderWidth%2/2;this.points.forEach(function(t,s){var i,r=a.variwide?(i=this.postTranslate(s,t.shapeArgs.x,t),this.postTranslate(s,t.shapeArgs.x+t.shapeArgs.width)):(i=t.plotX,a.translate(t.x+t.z,0,0,0,1));this.options.crisp&&(i=Math.round(i)-o,r=Math.round(r)-o),t.shapeArgs.x=i,t.shapeArgs.width=Math.max(r-i,1),t.plotX=(i+r)/2,e?t.tooltipPos[1]=a.len-t.shapeArgs.x-t.shapeArgs.width/2:t.tooltipPos[0]=t.shapeArgs.x+t.shapeArgs.width/2},this),this.options.stacking&&this.correctStackLabels()},correctStackLabels:function(){var s,i,r,a,e=this,o=e.options,h=e.yAxis;e.points.forEach(function(t){a=t.x,i=t.shapeArgs.width,(r=h.stacking.stacks[(e.negStacks&&t.y<(o.startFromThreshold?0:o.threshold)?"-":"")+e.stackKey])&&(s=r[a])&&!t.isNull&&s.setOffset(-i/2||0,i||0,void 0,void 0,t.plotX)})}},{isValid:function(){return r(this.y)&&r(this.z)}}),t.Tick.prototype.postTranslate=function(t,s,i){var r=this.axis,a=t[s]-r.pos;r.horiz||(a=r.len-a),a=r.series[0].postTranslate(i,a),r.horiz||(a=r.len-a),t[s]=r.pos+a},i(t.Axis,"afterDrawCrosshair",function(t){this.variwide&&this.cross&&this.cross.attr("stroke-width",t.point&&t.point.crosshairWidth)}),i(t.Axis,"afterRender",function(){var r=this;!this.horiz&&this.variwide&&this.chart.labelCollectors.push(function(){return r.tickPositions.filter(function(t){return r.ticks[t].label}).map(function(t,s){var i=r.ticks[t].label;return i.labelrank=r.zData[s],i})})}),i(t.Tick,"afterGetPosition",function(t){var s=this.axis,i=s.horiz?"x":"y";s.variwide&&(this[i+"Orig"]=t.pos[i],this.postTranslate(t.pos,i,this.pos))}),e(t.Tick.prototype,"getLabelPosition",function(t,s,i,r,a,e,o,h){var n,l=Array.prototype.slice.call(arguments,1),p=a?"x":"y";return this.axis.variwide&&"number"==typeof this[p+"Orig"]&&(l[a?0:1]=this[p+"Orig"]),n=t.apply(this,l),this.axis.variwide&&this.axis.categories&&this.postTranslate(n,p,h),n})}),i(s,"masters/modules/variwide.src.js",[],function(){})});