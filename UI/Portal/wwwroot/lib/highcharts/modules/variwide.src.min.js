!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/variwide",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function i(t,i,s,e){t.hasOwnProperty(i)||(t[i]=e.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:t[i]}})))}i(t,"Series/Variwide/VariwideComposition.js",[t["Core/Utilities.js"]],function(e){const{addEvent:r,wrap:o}=e,a=[];function n(t){this.variwide&&this.cross&&this.cross.attr("stroke-width",t.point&&t.point.crosshairWidth)}function h(){const e=this;!this.horiz&&this.variwide&&this.chart.labelCollectors.push(function(){return e.tickPositions.filter(t=>!!e.ticks[t].label).map((t,i)=>{const s=e.ticks[t].label;return s.labelrank=e.zData[i],s})})}function d(t){var i=this.axis,s=i.horiz?"x":"y";i.variwide&&(this[s+"Orig"]=t.pos[s],this.postTranslate(t.pos,s,this.pos))}function l(t,i,s){const e=this.axis;let r=t[i]-e.pos;e.horiz||(r=e.len-r),r=e.series[0].postTranslate(s,r),e.horiz||(r=e.len-r),t[i]=e.pos+r}function p(t,i,s,e,r,o,a,n){const h=Array.prototype.slice.call(arguments,1),d=r?"x":"y";this.axis.variwide&&"number"==typeof this[d+"Orig"]&&(h[r?0:1]=this[d+"Orig"]);r=t.apply(this,h);return this.axis.variwide&&this.axis.categories&&this.postTranslate(r,d,this.pos),r}return{compose:function(t,i){if(e.pushUnique(a,t)&&(r(t,"afterDrawCrosshair",n),r(t,"afterRender",h)),e.pushUnique(a,i)){r(i,"afterGetPosition",d);const s=i.prototype;s.postTranslate=l,o(s,"getLabelPosition",p)}}}}),i(t,"Series/Variwide/VariwidePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,i){var{pointClass:t}=t.seriesTypes["column"]["prototype"];const s=i["isNumber"];class e extends t{constructor(){super(...arguments),this.crosshairWidth=void 0,this.options=void 0,this.series=void 0}isValid(){return s(this.y)&&s(this.z)}}return e}),i(t,"Series/Variwide/VariwideSeriesDefaults.js",[],function(){return{pointPadding:0,groupPadding:0}}),i(t,"Series/Variwide/VariwideSeries.js",[t["Core/Series/SeriesRegistry.js"],t["Series/Variwide/VariwideComposition.js"],t["Series/Variwide/VariwidePoint.js"],t["Series/Variwide/VariwideSeriesDefaults.js"],t["Core/Utilities.js"]],function(i,t,s,e,r){var o=i.seriesTypes["column"];const{addEvent:a,extend:n,merge:h,pick:w}=r;class d extends o{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.relZ=void 0,this.totalZ=void 0,this.zData=void 0}processData(t){this.totalZ=0,this.relZ=[],i.seriesTypes.column.prototype.processData.call(this,t),(this.xAxis.reversed?this.zData.slice().reverse():this.zData).forEach(function(t,i){this.relZ[i]=this.totalZ,this.totalZ+=t},this),this.xAxis.categories&&(this.xAxis.variwide=!0,this.xAxis.zData=this.zData)}postTranslate(t,i,s){const e=this.xAxis,r=this.relZ,o=e.reversed?r.length-t:t,a=e.reversed?-1:1,n=e.toPixels(e.reversed?(e.dataMax||0)+e.pointRange:e.dataMin||0),h=e.toPixels(e.reversed?e.dataMin||0:(e.dataMax||0)+e.pointRange),d=Math.abs(h-n),l=this.totalZ,p=this.chart.inverted?h-(this.chart.plotTop-a*e.minPixelPadding):n-this.chart.plotLeft-a*e.minPixelPadding,c=o/r.length*d,u=(o+a)/r.length*d,f=w(r[o],l)/l*d,x=w(r[o+a],l)/l*d,v=i-(p+c);return s&&(s.crosshairWidth=x-f),p+f+v*(x-f)/(u-c)}translate(){this.crispOption=this.options.crisp,this.options.crisp=!1,super.translate(),this.options.crisp=this.crispOption}correctStackLabels(){var t=this,i=t.options,s=t.yAxis;let e,r,o,a;for(const n of t.points)a=n.x,r=n.shapeArgs.width,(o=s.stacking.stacks[(t.negStacks&&n.y<(i.startFromThreshold?0:i.threshold)?"-":"")+t.stackKey])&&(e=o[a])&&!n.isNull&&e.setOffset(-r/2||0,r||0,void 0,void 0,n.plotX,t.xAxis)}}return d.compose=t.compose,d.defaultOptions=h(o.defaultOptions,e),a(d,"afterColumnTranslate",function(){const s=this.xAxis,e=this.chart.inverted,r=this.borderWidth%2/2;let o=-1;for(const a of this.points){++o;const n=a.shapeArgs||{},{x:h=0,width:d=0}=n,{plotX:l=0,tooltipPos:p,z:c=0}=a;let t,i;i=s.variwide?(t=this.postTranslate(o,h,a),this.postTranslate(o,h+d)):(t=l,s.translate(a.x+c,!1,!1,!1,!0)),this.crispOption&&(t=Math.round(t)-r,i=Math.round(i)-r),n.x=t,n.width=Math.max(i-t,1),a.plotX=(t+i)/2,p&&(e?p[1]=s.len-n.x-n.width/2:p[0]=n.x+n.width/2)}this.options.stacking&&this.correctStackLabels()},{order:2}),n(d.prototype,{irregularWidths:!0,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],pointClass:s}),i.registerSeriesType("variwide",d),d}),i(t,"masters/modules/variwide.src.js",[t["Core/Globals.js"],t["Series/Variwide/VariwideSeries.js"]],function(t,i){i.compose(t.Axis,t.Tick)})});