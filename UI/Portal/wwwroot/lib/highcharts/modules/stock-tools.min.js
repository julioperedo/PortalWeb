!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/stock-tools",["highcharts","highcharts/modules/stock"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,o,e){t.hasOwnProperty(i)||(t[i]=e.apply(null,o))}i(t=t?t._modules:{},"annotations/eventEmitterMixin.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(s,t){var a=t.addEvent,r=t.fireEvent,n=t.inArray,l=t.objectEach,h=t.pick,i=t.removeEvent;return{addEvents:function(){function i(t){a(t,s.isTouchDevice?"touchstart":"mousedown",function(t){e.onMouseDown(t)})}var o,e=this;i(this.graphic.element),(e.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&i(t.graphic.text.element)}),l(e.options.events,function(i,o){function t(t){"click"===o&&e.cancelClick||i.call(e,e.chart.pointer.normalize(t),e.target)}-1===n(o,e.nonDOMEvents||[])?e.graphic.on(o,t):a(e,o,t)}),e.options.draggable&&(a(e,s.isTouchDevice?"touchmove":"drag",e.onDrag),!e.graphic.renderer.styledMode)&&(o={cursor:{x:"ew-resize",y:"ns-resize",xy:"move"}[e.options.draggable]},e.graphic.css(o),(e.labels||[]).forEach(function(t){t.options.useHTML&&t.graphic.text&&t.graphic.text.css(o)})),e.isUpdating||r(e,"add")},removeDocEvents:function(){this.removeDrag&&(this.removeDrag=this.removeDrag()),this.removeMouseUp&&(this.removeMouseUp=this.removeMouseUp())},onMouseDown:function(t){var i,o,e=this,n=e.chart.pointer;t.preventDefault&&t.preventDefault(),2!==t.button&&(i=(t=n.normalize(t)).chartX,o=t.chartY,e.cancelClick=!1,e.chart.hasDraggedAnnotation=!0,e.removeDrag=a(s.doc,s.isTouchDevice?"touchmove":"mousemove",function(t){e.hasDragged=!0,(t=n.normalize(t)).prevChartX=i,t.prevChartY=o,r(e,"drag",t),i=t.chartX,o=t.chartY}),e.removeMouseUp=a(s.doc,s.isTouchDevice?"touchend":"mouseup",function(t){e.cancelClick=e.hasDragged,e.hasDragged=!1,e.chart.hasDraggedAnnotation=!1,r(h(e.target,e),"afterUpdate"),e.onMouseUp(t)}))},onMouseUp:function(t){var i=this.chart;t=this.target||this;var o=i.options.annotations,i=i.annotations.indexOf(t);this.removeDocEvents(),o[i]=t.options},onDrag:function(t){var i;this.chart.isInsidePlot(t.chartX-this.chart.plotLeft,t.chartY-this.chart.plotTop)&&(i=this.mouseMoveToTranslation(t),"x"===this.options.draggable&&(i.y=0),"y"===this.options.draggable&&(i.x=0),this.points.length?this.translate(i.x,i.y):(this.shapes.forEach(function(t){t.translate(i.x,i.y)}),this.labels.forEach(function(t){t.translate(i.x,i.y)})),this.redraw(!1))},mouseMoveToRadians:function(t,i,o){var e=t.prevChartY-o,n=t.prevChartX-i;return o=t.chartY-o,t=t.chartX-i,this.chart.inverted&&(i=n,n=e,e=i,i=t,t=o,o=i),Math.atan2(o,t)-Math.atan2(e,n)},mouseMoveToTranslation:function(t){var i,o=t.chartX-t.prevChartX;return t=t.chartY-t.prevChartY,this.chart.inverted&&(i=t,t=o,o=i),{x:o,y:t}},mouseMoveToScale:function(t,i,o){return i=(t.chartX-i||1)/(t.prevChartX-i||1),t=(t.chartY-o||1)/(t.prevChartY-o||1),this.chart.inverted&&(o=t,t=i,i=o),{x:i,y:t}},destroy:function(){this.removeDocEvents(),i(this),this.hcEvents=null}}}),i(t,"annotations/ControlPoint.js",[t["parts/Utilities.js"],t["annotations/eventEmitterMixin.js"]],function(t,n){var s=t.merge,a=t.pick;return i.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},i.prototype.render=function(){var t=this.chart,i=this.options;this.graphic=t.renderer.symbol(i.symbol,0,0,i.width,i.height).add(t.controlPointsGroup).css(i.style),this.setVisibility(i.visible),this.addEvents()},i.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},i.prototype.destroy=function(){n.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.options=this.target=this.chart=null},i.prototype.update=function(t){var i=this.chart,o=this.target,e=this.index;t=s(!0,this.options,t),this.destroy(),this.constructor(i,o,t,e),this.render(i.controlPointsGroup),this.redraw()},i;function i(t,i,o,e){this.addEvents=n.addEvents,this.graphic=void 0,this.mouseMoveToRadians=n.mouseMoveToRadians,this.mouseMoveToScale=n.mouseMoveToScale,this.mouseMoveToTranslation=n.mouseMoveToTranslation,this.onDrag=n.onDrag,this.onMouseDown=n.onMouseDown,this.onMouseUp=n.onMouseUp,this.removeDocEvents=n.removeDocEvents,this.nonDOMEvents=["drag"],this.chart=t,this.target=i,this.options=o,this.index=a(o.index,e)}}),i(t,"annotations/MockPoint.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var s=t.defined,a=t.fireEvent;return i.fromPoint=function(t){return new i(t.series.chart,null,{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis})},i.pointToPixels=function(t,i){var o=t.series,e=o.chart,n=t.plotX,s=t.plotY;return e.inverted&&(s=t.mock?(n=t.plotY,t.plotX):(n=e.plotWidth-t.plotY,e.plotHeight-t.plotX)),o&&!i&&(n+=(t=o.getPlotBox()).translateX,s+=t.translateY),{x:n,y:s}},i.pointToOptions=function(t){return{x:t.x,y:t.y,xAxis:t.series.xAxis,yAxis:t.series.yAxis}},i.prototype.hasDynamicOptions=function(){return"function"==typeof this.options},i.prototype.getOptions=function(){return this.hasDynamicOptions()?this.options(this.target):this.options},i.prototype.applyOptions=function(t){this.command=t.command,this.setAxis(t,"x"),this.setAxis(t,"y"),this.refresh()},i.prototype.setAxis=function(t,i){t=t[i+="Axis"];var o=this.series.chart;this.series[i]=t instanceof e.Axis?t:s(t)?o[i][t]||o.get(t):null},i.prototype.toAnchor=function(){var t=[this.plotX,this.plotY,0,0];return this.series.chart.inverted&&(t[0]=this.plotY,t[1]=this.plotX),t},i.prototype.getLabelConfig=function(){return{x:this.x,y:this.y,point:this}},i.prototype.isInsidePlot=function(){var t=this.plotX,i=this.plotY,o=this.series.xAxis,e=this.series.yAxis,n={x:t,y:i,isInsidePlot:!0};return o&&(n.isInsidePlot=s(t)&&0<=t&&t<=o.len),e&&(n.isInsidePlot=n.isInsidePlot&&s(i)&&0<=i&&i<=e.len),a(this.series.chart,"afterIsInsidePlot",n),n.isInsidePlot},i.prototype.refresh=function(){var t=(i=this.series).xAxis,i=i.yAxis,o=this.getOptions();t?(this.x=o.x,this.plotX=t.toPixels(o.x,!0)):(this.x=null,this.plotX=o.x),i?(this.y=o.y,this.plotY=i.toPixels(o.y,!0)):(this.y=null,this.plotY=o.y),this.isInside=this.isInsidePlot()},i.prototype.translate=function(t,i,o,e){this.hasDynamicOptions()||(this.plotX+=o,this.plotY+=e,this.refreshOptions())},i.prototype.scale=function(t,i,o,e){var n;this.hasDynamicOptions()||(n=this.plotY*e,this.plotX=(1-o)*t+this.plotX*o,this.plotY=(1-e)*i+n,this.refreshOptions())},i.prototype.rotate=function(t,i,o){var e,n,s;this.hasDynamicOptions()||(e=Math.cos(o),o=Math.sin(o),n=this.plotX,s=this.plotY,n-=t,s-=i,this.plotX=n*e-s*o+t,this.plotY=n*o+s*e+i,this.refreshOptions())},i.prototype.refreshOptions=function(){var t=(i=this.series).xAxis,i=i.yAxis;this.x=this.options.x=t?this.options.x=t.toValue(this.plotX,!0):this.plotX,this.y=this.options.y=i?i.toValue(this.plotY,!0):this.plotY},i;function i(t,i,o){this.y=this.x=this.plotY=this.plotX=this.isInside=void 0,this.mock=!0,this.series={visible:!0,chart:t,getPlotBox:e.Series.prototype.getPlotBox},this.target=i||null,this.options=o,this.applyOptions(this.getOptions())}}),i(t,"annotations/controllable/controllableMixin.js",[t["annotations/ControlPoint.js"],t["annotations/MockPoint.js"],t["parts/Tooltip.js"],t["parts/Utilities.js"]],function(e,r,o,t){var n=t.isObject,s=t.isString,a=t.merge,i=t.splat;return{init:function(t,i,o){this.annotation=t,this.chart=t.chart,this.options=i,this.points=[],this.controlPoints=[],this.index=o,this.linkPoints(),this.addControlPoints()},attr:function(){this.graphic.attr.apply(this.graphic,arguments)},getPointsOptions:function(){var t=this.options;return t.points||t.point&&i(t.point)},attrsFromOptions:function(t){var i,o=this.constructor.attrsMap,e={},n=this.chart.styledMode;for(i in t){var s=o[i];!s||n&&-1!==["fill","stroke","stroke-width"].indexOf(s)||(e[s]=t[i])}return e},anchor:function(t){var i=t.series.getPlotBox();return{relativePosition:t={x:(t=t.mock?t.toAnchor():o.prototype.getAnchor.call({chart:t.series.chart},t))[0]+(this.options.x||0),y:t[1]+(this.options.y||0),height:t[2]||0,width:t[3]||0},absolutePosition:a(t,{x:t.x+i.translateX,y:t.y+i.translateY})}},point:function(t,i){return t&&t.series?t:(i&&null!==i.series||(n(t)?i=new r(this.chart,this,t):s(t)?i=this.chart.get(t)||null:"function"==typeof t&&(i=(i=t.call(i,this)).series?i:new r(this.chart,this,t))),i)},linkPoints:function(){for(var t=this.getPointsOptions(),i=this.points,o=t&&t.length||0,e=0;e<o;e++){var n=this.point(t[e],i[e]);if(!n)return void(i.length=0);n.mock&&n.refresh(),i[e]=n}return i},addControlPoints:function(){var o=this.options.controlPoints;(o||[]).forEach(function(t,i){(t=a(this.options.controlPointOptions,t)).index||(t.index=i),o[i]=t,this.controlPoints.push(new e(this.chart,this,t))},this)},shouldBeDrawn:function(){return!!this.points.length},render:function(t){this.controlPoints.forEach(function(t){t.render()})},redraw:function(i){this.controlPoints.forEach(function(t){t.redraw(i)})},transform:function(o,e,n,s,a){var t;this.chart.inverted&&(t=e,e=n,n=t),this.points.forEach(function(t,i){this.transformPoint(o,e,n,s,a,i)},this)},transformPoint:function(t,i,o,e,n,s){var a=this.points[s];a.mock||(a=this.points[s]=r.fromPoint(a)),a[t](i,o,e,n)},translate:function(t,i){this.transform("translate",null,null,t,i)},translatePoint:function(t,i,o){this.transformPoint("translate",null,null,t,i,o)},translateShape:function(t,i){var o=this.annotation.chart,e=this.annotation.userOptions,n=o.annotations.indexOf(this.annotation),o=o.options.annotations[n];this.translatePoint(t,i,0),o[this.collection][this.index].point=this.options.point,e[this.collection][this.index].point=this.options.point},rotate:function(t,i,o){this.transform("rotate",t,i,o)},scale:function(t,i,o,e){this.transform("scale",t,i,o,e)},setControlPointsVisibility:function(i){this.controlPoints.forEach(function(t){t.setVisibility(i)})},destroy:function(){this.graphic&&(this.graphic=this.graphic.destroy()),this.tracker&&(this.tracker=this.tracker.destroy()),this.controlPoints.forEach(function(t){t.destroy()}),this.options=this.controlPoints=this.points=this.chart=null,this.annotation&&(this.annotation=null)},update:function(t){var i=this.annotation;t=a(!0,this.options,t);var o=this.graphic.parentGroup;this.destroy(),this.constructor(i,t),this.render(o),this.redraw()}}}),i(t,"annotations/controllable/markerMixin.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var o=i.addEvent,e=i.defined,c=i.merge,n=i.objectEach,p=i.uniqueKey,s={arrow:{tagName:"marker",render:!1,id:"arrow",refY:5,refX:9,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 0 L 10 5 L 0 10 Z",strokeWidth:0}]},"reverse-arrow":{tagName:"marker",render:!1,id:"reverse-arrow",refY:5,refX:1,markerWidth:10,markerHeight:10,children:[{tagName:"path",d:"M 0 5 L 10 0 L 10 10 Z",strokeWidth:0}]}};return t.SVGRenderer.prototype.addMarker=function(t,i){var o={id:t},e={stroke:i.color||"none",fill:i.color||"rgba(0, 0, 0, 0.75)"};return o.children=i.children.map(function(t){return c(e,t)}),(i=this.definition(c(!0,{markerWidth:20,markerHeight:20,refX:0,refY:0,orient:"auto"},i,o))).id=t,i},i={markerEndSetter:(i=function(i){return function(t){this.attr(i,"url(#"+t+")")}})("marker-end"),markerStartSetter:i("marker-start"),setItemMarkers:function(s){var a=s.options,r=s.chart,l=r.options.defs,t=a.fill,h=e(t)&&"none"!==t?t:a.stroke;["markerStart","markerEnd"].forEach(function(t){var i,o=a[t];if(o){for(i in l){var e=l[i];if(o===e.id&&"marker"===e.tagName){var n=e;break}}n&&(o=s[t]=r.renderer.addMarker((a.id||p())+"-"+n.id,c(n,{color:h})),s.attr(t,o.attr("id")))}})}},o(t.Chart,"afterGetContainer",function(){this.options.defs=c(s,this.options.defs||{}),n(this.options.defs,function(t){"marker"===t.tagName&&!1!==t.render&&this.renderer.addMarker(t.id,t)},this)}),i}),i(t,"annotations/controllable/ControllablePath.js",[t["annotations/controllable/controllableMixin.js"],t["parts/Globals.js"],t["annotations/controllable/markerMixin.js"],t["parts/Utilities.js"]],function(e,t,n,i){var s=i.extend;i=i.merge;var a="rgba(192,192,192,"+(t.svg?1e-4:.002)+")";return(t=function(t,i,o){this.init(t,i,o),this.collection="shapes"}).attrsMap={dashStyle:"dashstyle",strokeWidth:"stroke-width",stroke:"stroke",fill:"fill",zIndex:"zIndex"},i(!0,t.prototype,e,{type:"path",setMarkers:n.setItemMarkers,toD:function(){var t=this.options.d;if(t)return"function"==typeof t?t.call(this):t;var i=(t=this.points).length,o=i,e=t[0],n=o&&this.anchor(e).absolutePosition,s=0,a=[];if(n)for(a.push(["M",n.x,n.y]);++s<i&&o;)o=(e=t[s]).command||"L",n=this.anchor(e).absolutePosition,"M"===o||"L"===o?a.push([o,n.x,n.y]):"Z"===o&&a.push([o]),o=e.series.visible;return o?this.chart.renderer.crispLine(a,this.graphic.strokeWidth()):null},shouldBeDrawn:function(){return e.shouldBeDrawn.call(this)||!!this.options.d},render:function(t){var i=this.options,o=this.attrsFromOptions(i);this.graphic=this.annotation.chart.renderer.path([["M",0,0]]).attr(o).add(t),i.className&&this.graphic.addClass(i.className),this.tracker=this.annotation.chart.renderer.path([["M",0,0]]).addClass("highcharts-tracker-line").attr({zIndex:2}).add(t),this.annotation.chart.styledMode||this.tracker.attr({"stroke-linejoin":"round",stroke:a,fill:a,"stroke-width":this.graphic.strokeWidth()+2*i.snap}),e.render.call(this),s(this.graphic,{markerStartSetter:n.markerStartSetter,markerEndSetter:n.markerEndSetter}),this.setMarkers(this)},redraw:function(t){var i=this.toD(),o=t?"animate":"attr";i?(this.graphic[o]({d:i}),this.tracker[o]({d:i})):(this.graphic.attr({d:"M 0 -9000000000"}),this.tracker.attr({d:"M 0 -9000000000"})),this.graphic.placed=this.tracker.placed=!!i,e.redraw.call(this,t)}}),t}),i(t,"annotations/controllable/ControllableRect.js",[t["annotations/controllable/controllableMixin.js"],t["annotations/controllable/ControllablePath.js"],t["parts/Utilities.js"]],function(o,t,i){i=i.merge;function e(t,i,o){this.init(t,i,o),this.collection="shapes"}return e.attrsMap=i(t.attrsMap,{width:"width",height:"height"}),i(!0,e.prototype,o,{type:"rect",translate:o.translateShape,render:function(t){var i=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.rect(0,-9e9,0,0).attr(i).add(t),o.render.call(this)},redraw:function(t){var i=this.anchor(this.points[0]).absolutePosition;i?this.graphic[t?"animate":"attr"]({x:i.x,y:i.y,width:this.options.width,height:this.options.height}):this.attr({x:0,y:-9e9}),this.graphic.placed=!!i,o.redraw.call(this,t)}}),e}),i(t,"annotations/controllable/ControllableCircle.js",[t["annotations/controllable/controllableMixin.js"],t["annotations/controllable/ControllablePath.js"],t["parts/Utilities.js"]],function(o,t,i){i=i.merge;function e(t,i,o){this.init(t,i,o),this.collection="shapes"}return e.attrsMap=i(t.attrsMap,{r:"r"}),i(!0,e.prototype,o,{type:"circle",translate:o.translateShape,render:function(t){var i=this.attrsFromOptions(this.options);this.graphic=this.annotation.chart.renderer.circle(0,-9e9,0).attr(i).add(t),o.render.call(this)},redraw:function(t){var i=this.anchor(this.points[0]).absolutePosition;i?this.graphic[t?"animate":"attr"]({x:i.x,y:i.y,r:this.options.r}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!i,o.redraw.call(this,t)},setRadius:function(t){this.options.r=t}}),e}),i(t,"annotations/controllable/ControllableLabel.js",[t["annotations/controllable/controllableMixin.js"],t["parts/Globals.js"],t["annotations/MockPoint.js"],t["parts/Tooltip.js"],t["parts/Utilities.js"]],function(s,t,l,h,i){function c(t,i,o){this.init(t,i,o),this.collection="labels"}var p=i.extend,a=i.format,d=i.isNumber,o=i.merge,u=i.pick;return c.shapesWithoutBackground=["connector"],c.alignedPosition=function(t,i){var o,e,n=t.align,s=t.verticalAlign,a=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0);return"right"===n?o=1:"center"===n&&(o=2),o&&(a+=(i.width-(t.width||0))/o),"bottom"===s?e=1:"middle"===s&&(e=2),e&&(r+=(i.height-(t.height||0))/e),{x:Math.round(a),y:Math.round(r)}},c.justifiedOptions=function(t,i,o,e){var n=o.align,s=o.verticalAlign,a=!i.box&&i.padding||0,r=i.getBBox();i={align:n,verticalAlign:s,x:o.x,y:o.y,width:i.width,height:i.height},o=e.x-t.plotLeft;var l=e.y-t.plotTop;return(e=o+a)<0&&("right"===n?i.align="left":i.x=-e),(e=o+r.width-a)>t.plotWidth&&("left"===n?i.align="right":i.x=t.plotWidth-e),(e=l+a)<0&&("bottom"===s?i.verticalAlign="top":i.y=-e),(e=l+r.height-a)>t.plotHeight&&("top"===s?i.verticalAlign="bottom":i.y=t.plotHeight-e),i},c.attrsMap={backgroundColor:"fill",borderColor:"stroke",borderWidth:"stroke-width",zIndex:"zIndex",borderRadius:"r",padding:"padding"},o(!0,c.prototype,s,{translatePoint:function(t,i){s.translatePoint.call(this,t,i,0)},translate:function(t,i){var o=this.annotation.chart,e=this.annotation.userOptions,n=o.annotations.indexOf(this.annotation),n=o.options.annotations[n];o.inverted&&(o=t,t=i,i=o),this.options.x+=t,this.options.y+=i,n[this.collection][this.index].x=this.options.x,n[this.collection][this.index].y=this.options.y,e[this.collection][this.index].x=this.options.x,e[this.collection][this.index].y=this.options.y},render:function(t){var i=this.options,o=this.attrsFromOptions(i),e=i.style;this.graphic=this.annotation.chart.renderer.label("",0,-9999,i.shape,null,null,i.useHTML,null,"annotation-label").attr(o).add(t),this.annotation.chart.styledMode||("contrast"===e.color&&(e.color=this.annotation.chart.renderer.getContrast(-1<c.shapesWithoutBackground.indexOf(i.shape)?"#FFFFFF":i.backgroundColor)),this.graphic.css(i.style).shadow(i.shadow)),i.className&&this.graphic.addClass(i.className),this.graphic.labelrank=i.labelrank,s.render.call(this)},redraw:function(t){var i=this.options,o=this.text||i.format||i.text,e=this.graphic,n=this.points[0];e.attr({text:o?a(o,n.getLabelConfig(),this.annotation.chart):i.formatter.call(n,this)}),i=this.anchor(n),(o=this.position(i))?((e.alignAttr=o).anchorX=i.absolutePosition.x,o.anchorY=i.absolutePosition.y,e[t?"animate":"attr"](o)):e.attr({x:0,y:-9999}),e.placed=!!o,s.redraw.call(this,t)},anchor:function(){var t=s.anchor.apply(this,arguments),i=this.options.x||0,o=this.options.y||0;return t.absolutePosition.x-=i,t.absolutePosition.y-=o,t.relativePosition.x-=i,t.relativePosition.y-=o,t},position:function(t){var i,o=this.graphic,e=this.annotation.chart,n=this.points[0],s=this.options,a=t.absolutePosition,r=t.relativePosition;return(t=n.series.visible&&l.prototype.isInsidePlot.call(n))&&(s.distance?i=h.prototype.getPosition.call({chart:e,distance:u(s.distance,16)},o.width,o.height,{plotX:r.x,plotY:r.y,negative:n.negative,ttBelow:n.ttBelow,h:r.height||r.width}):s.positioner?i=s.positioner.call(this):(n={x:a.x,y:a.y,width:0,height:0},i=c.alignedPosition(p(s,{width:o.width,height:o.height}),n),"justify"===this.options.overflow&&(i=c.alignedPosition(c.justifiedOptions(e,o,s,i),n))),s.crop&&(s=i.x-e.plotLeft,n=i.y-e.plotTop,t=e.isInsidePlot(s,n)&&e.isInsidePlot(s+o.width,n+o.height))),t?i:null}}),t.SVGRenderer.prototype.symbols.connector=function(t,i,o,e,n){var s=n&&n.anchorX;n=n&&n.anchorY;var a,r,l=o/2;return d(s)&&d(n)&&(a=[["M",s,n]],(r=i-n)<0&&(r=-e-r),r<o&&(l=s<t+o/2?r:o-r),i+e<n?a.push(["L",t+l,i+e]):n<i?a.push(["L",t+l,i]):s<t?a.push(["L",t,i+e/2]):t+o<s&&a.push(["L",t+o,i+e/2])),a||[]},c}),i(t,"annotations/controllable/ControllableImage.js",[t["annotations/controllable/ControllableLabel.js"],t["annotations/controllable/controllableMixin.js"],t["parts/Utilities.js"]],function(o,e,t){t=t.merge;function i(t,i,o){this.init(t,i,o),this.collection="shapes"}return i.attrsMap={width:"width",height:"height",zIndex:"zIndex"},t(!0,i.prototype,e,{type:"image",translate:e.translateShape,render:function(t){var i=this.attrsFromOptions(this.options),o=this.options;this.graphic=this.annotation.chart.renderer.image(o.src,0,-9e9,o.width,o.height).attr(i).add(t),this.graphic.width=o.width,this.graphic.height=o.height,e.render.call(this)},redraw:function(t){var i=this.anchor(this.points[0]);(i=o.prototype.position.call(this,i))?this.graphic[t?"animate":"attr"]({x:i.x,y:i.y}):this.graphic.attr({x:0,y:-9e9}),this.graphic.placed=!!i,e.redraw.call(this,t)}}),i}),i(t,"annotations/annotations.src.js",[t["parts/Chart.js"],t["annotations/controllable/controllableMixin.js"],t["annotations/controllable/ControllableRect.js"],t["annotations/controllable/ControllableCircle.js"],t["annotations/controllable/ControllablePath.js"],t["annotations/controllable/ControllableImage.js"],t["annotations/controllable/ControllableLabel.js"],t["annotations/ControlPoint.js"],t["annotations/eventEmitterMixin.js"],t["parts/Globals.js"],t["annotations/MockPoint.js"],t["parts/Pointer.js"],t["parts/Utilities.js"]],function(t,o,i,e,n,s,a,r,l,h,c,p,d){t=t.prototype;var u=d.addEvent,g=d.defined,y=d.destroyObjectProperties,f=d.erase,v=d.extend,m=d.find,x=d.fireEvent,b=d.merge,A=d.pick,k=d.splat;d=d.wrap;var w=(C.prototype.init=function(){this.linkPoints(),this.addControlPoints(),this.addShapes(),this.addLabels(),this.setLabelCollector()},C.prototype.getLabelsAndShapesOptions=function(e,t){var i={};return["labels","shapes"].forEach(function(o){e[o]&&(i[o]=k(t[o]).map(function(t,i){return b(e[o][i],t)}))}),i},C.prototype.addShapes=function(){(this.options.shapes||[]).forEach(function(t,i){t=this.initShape(t,i),b(!0,this.options.shapes[i],t.options)},this)},C.prototype.addLabels=function(){(this.options.labels||[]).forEach(function(t,i){t=this.initLabel(t,i),b(!0,this.options.labels[i],t.options)},this)},C.prototype.addClipPaths=function(){this.setClipAxes(),this.clipXAxis&&this.clipYAxis&&(this.clipRect=this.chart.renderer.clipRect(this.getClipBox()))},C.prototype.setClipAxes=function(){var o=this.chart.xAxis,e=this.chart.yAxis,t=(this.options.labels||[]).concat(this.options.shapes||[]).reduce(function(t,i){return[o[i&&i.point&&i.point.xAxis]||t[0],e[i&&i.point&&i.point.yAxis]||t[1]]},[]);this.clipXAxis=t[0],this.clipYAxis=t[1]},C.prototype.getClipBox=function(){if(this.clipXAxis&&this.clipYAxis)return{x:this.clipXAxis.left,y:this.clipYAxis.top,width:this.clipXAxis.width,height:this.clipYAxis.height}},C.prototype.setLabelCollector=function(){var t=this;t.labelCollector=function(){return t.labels.reduce(function(t,i){return i.options.allowOverlap||t.push(i.graphic),t},[])},t.chart.labelCollectors.push(t.labelCollector)},C.prototype.setOptions=function(t){this.options=b(this.defaultOptions,t)},C.prototype.redraw=function(t){this.linkPoints(),this.graphic||this.render(),this.clipRect&&this.clipRect.animate(this.getClipBox()),this.redrawItems(this.shapes,t),this.redrawItems(this.labels,t),o.redraw.call(this,t)},C.prototype.redrawItems=function(t,i){for(var o=t.length;o--;)this.redrawItem(t[o],i)},C.prototype.renderItems=function(t){for(var i=t.length;i--;)this.renderItem(t[i])},C.prototype.render=function(){var t=this.chart.renderer;this.graphic=t.g("annotation").attr({zIndex:this.options.zIndex,visibility:this.options.visible?"visible":"hidden"}).add(),this.shapesGroup=t.g("annotation-shapes").add(this.graphic).clip(this.chart.plotBoxClip),this.labelsGroup=t.g("annotation-labels").attr({translateX:0,translateY:0}).add(this.graphic),this.addClipPaths(),this.clipRect&&this.graphic.clip(this.clipRect),this.renderItems(this.shapes),this.renderItems(this.labels),this.addEvents(),o.render.call(this)},C.prototype.setVisibility=function(t){var i=this.options;t=A(t,!i.visible),this.graphic.attr("visibility",t?"visible":"hidden"),t||this.setControlPointsVisibility(!1),i.visible=t},C.prototype.setControlPointsVisibility=function(i){function t(t){t.setControlPointsVisibility(i)}o.setControlPointsVisibility.call(this,i),this.shapes.forEach(t),this.labels.forEach(t)},C.prototype.destroy=function(){function t(t){t.destroy()}var i=this.chart;this.labels.forEach(t),this.shapes.forEach(t),this.clipYAxis=this.clipXAxis=null,f(i.labelCollectors,this.labelCollector),l.destroy.call(this),o.destroy.call(this),y(this,i)},C.prototype.remove=function(){return this.chart.removeAnnotation(this)},C.prototype.update=function(t,i){var o=this.chart,e=this.getLabelsAndShapesOptions(this.userOptions,t),n=o.annotations.indexOf(this);(t=b(!0,this.userOptions,t)).labels=e.labels,t.shapes=e.shapes,this.destroy(),this.constructor(o,t),o.options.annotations[n]=t,this.isUpdating=!0,A(i,!0)&&o.redraw(),x(this,"afterUpdate"),this.isUpdating=!1},C.prototype.initShape=function(t,i){return t=b(this.options.shapeOptions,{controlPointOptions:this.options.controlPointOptions},t),(i=new C.shapesMap[t.type](this,t,i)).itemType="shape",this.shapes.push(i),i},C.prototype.initLabel=function(t,i){return t=b(this.options.labelOptions,{controlPointOptions:this.options.controlPointOptions},t),(i=new a(this,t,i)).itemType="label",this.labels.push(i),i},C.prototype.redrawItem=function(t,i){t.linkPoints(),t.shouldBeDrawn()?(t.graphic||this.renderItem(t),t.redraw(A(i,!0)&&t.graphic.placed),t.points.length&&this.adjustVisibility(t)):this.destroyItem(t)},C.prototype.adjustVisibility=function(t){var i=!1,o=t.graphic;t.points.forEach(function(t){!1!==t.series.visible&&!1!==t.visible&&(i=!0)}),i?"hidden"===o.visibility&&o.show():o.hide()},C.prototype.destroyItem=function(t){f(this[t.itemType+"s"],t),t.destroy()},C.prototype.renderItem=function(t){t.render("label"===t.itemType?this.labelsGroup:this.shapesGroup)},C.ControlPoint=r,C.MockPoint=c,C.shapesMap={rect:i,circle:e,path:n,image:s},C.types={},C);function C(t,i){this.annotation=void 0,this.coll="annotations",this.shapesGroup=this.labelsGroup=this.labelCollector=this.group=this.graphic=this.collection=void 0,this.chart=t,this.points=[],this.controlPoints=[],this.coll="annotations",this.labels=[],this.shapes=[],this.options=b(this.defaultOptions,i),this.userOptions=i,i=this.getLabelsAndShapesOptions(this.options,i),this.options.labels=i.labels,this.options.shapes=i.shapes,this.init(t,this.options)}return b(!0,w.prototype,o,l,b(w.prototype,{nonDOMEvents:["add","afterUpdate","drag","remove"],defaultOptions:{visible:!0,draggable:"xy",labelOptions:{align:"center",allowOverlap:!1,backgroundColor:"rgba(0, 0, 0, 0.75)",borderColor:"black",borderRadius:3,borderWidth:1,className:"",crop:!1,formatter:function(){return g(this.y)?this.y:"Annotation label"},overflow:"justify",padding:5,shadow:!1,shape:"callout",style:{fontSize:"11px",fontWeight:"normal",color:"contrast"},useHTML:!1,verticalAlign:"bottom",x:0,y:-16},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1,fill:"rgba(0, 0, 0, 0.75)",r:0,snap:2},controlPointOptions:{symbol:"circle",width:10,height:10,style:{stroke:"black","stroke-width":2,fill:"white"},visible:!1,events:{}},events:{},zIndex:6}})),h.extendAnnotation=function(t,i,o,e){i=i||w,b(!0,t.prototype,i.prototype,o),t.prototype.defaultOptions=b(t.prototype.defaultOptions,e||{})},v(t,{initAnnotation:function(t){return t=new(w.types[t.type]||w)(this,t),this.annotations.push(t),t},addAnnotation:function(t,i){return t=this.initAnnotation(t),this.options.annotations.push(t.options),A(i,!0)&&t.redraw(),t},removeAnnotation:function(i){var t=this.annotations,o="annotations"===i.coll?i:m(t,function(t){return t.options.id===i});o&&(x(o,"remove"),f(this.options.annotations,o.options),f(t,o),o.destroy())},drawAnnotations:function(){this.plotBoxClip.attr(this.plotBox),this.annotations.forEach(function(t){t.redraw()})}}),t.collectionsWithUpdate.push("annotations"),t.collectionsWithInit.annotations=[t.addAnnotation],t.callbacks.push(function(o){o.annotations=[],o.options.annotations||(o.options.annotations=[]),o.plotBoxClip=this.renderer.clipRect(this.plotBox),o.controlPointsGroup=o.renderer.g("control-points").attr({zIndex:99}).clip(o.plotBoxClip).add(),o.options.annotations.forEach(function(t,i){t=o.initAnnotation(t),o.options.annotations[i]=t.options}),o.drawAnnotations(),u(o,"redraw",o.drawAnnotations),u(o,"destroy",function(){o.plotBoxClip.destroy(),o.controlPointsGroup.destroy()})}),d(p.prototype,"onContainerMouseDown",function(t){this.chart.hasDraggedAnnotation||t.apply(this,Array.prototype.slice.call(arguments,1))}),h.Annotation=w}),i(t,"mixins/navigation.js",[],function(){return{initUpdate:function(t){t.navigation||(t.navigation={updates:[],update:function(i,o){this.updates.forEach(function(t){t.update.call(t.context,i,o)})}})},addUpdate:function(t,i){i.navigation||this.initUpdate(i),i.navigation.updates.push({update:t,context:i})}}}),i(t,"annotations/navigationBindings.js",[t["annotations/annotations.src.js"],t["mixins/navigation.js"],t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,o,n,i){function e(t){var n=t.prototype.defaultOptions.events&&t.prototype.defaultOptions.events.click;c(!0,t.prototype.defaultOptions.events,{click:function(t){var o=this,e=o.chart.navigationBindings,i=e.activeAnnotation;n&&n.call(o,t),i!==o?(e.deselectAnnotation(),(e.activeAnnotation=o).setControlPointsVisibility(!0),r(e,"showPopup",{annotation:o,formType:"annotation-toolbar",options:e.annotationToFields(o),onSubmit:function(t){var i={};"remove"===t.actionType?(e.activeAnnotation=!1,e.chart.removeAnnotation(o)):(e.fieldsToOptions(t.fields,i),e.deselectAnnotation(),t=i.typeOptions,"measure"===o.options.type&&(t.crosshairY.enabled=0!==t.crosshairY.strokeWidth,t.crosshairX.enabled=0!==t.crosshairX.strokeWidth),o.update(i))}})):(e.deselectAnnotation(),r(e,"closePopup")),t.activeAnnotation=!0}})}var s=i.addEvent,a=i.attr,p=i.format,r=i.fireEvent,d=i.isArray,l=i.isFunction,h=i.isNumber,u=i.isObject,c=i.merge,g=i.objectEach,y=i.pick;i=i.setOptions;var f=n.doc,v=n.win,m=(x.prototype.initEvents=function(){var e=this,i=e.chart,t=e.container,o=e.options;e.boundClassNames={},g(o.bindings||{},function(t){e.boundClassNames[t.className]=t}),[].forEach.call(t,function(o){e.eventsToUnbind.push(s(o,"click",function(t){var i=e.getButtonEvents(o,t);i&&e.bindingsButtonClick(i.button,i.events,t)}))}),g(o.events||{},function(t,i){l(t)&&e.eventsToUnbind.push(s(e,i,t))}),e.eventsToUnbind.push(s(i.container,"click",function(t){!i.cancelClick&&i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop)&&e.bindingsChartClick(this,t)})),e.eventsToUnbind.push(s(i.container,n.isTouchDevice?"touchmove":"mousemove",function(t){e.bindingsContainerMouseMove(this,t)}))},x.prototype.initUpdate=function(){var i=this;o.addUpdate(function(t){i.update(t)},this.chart)},x.prototype.bindingsButtonClick=function(t,i,o){var e=this.chart;this.selectedButtonElement&&(r(this,"deselectButton",{button:this.selectedButtonElement}),this.nextEvent&&(this.currentUserDetails&&"annotations"===this.currentUserDetails.coll&&e.removeAnnotation(this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1)),this.selectedButton=i,this.selectedButtonElement=t,r(this,"selectButton",{button:t}),i.init&&i.init.call(this,t,o),(i.start||i.steps)&&e.renderer.boxWrapper.addClass("highcharts-draw-mode")},x.prototype.bindingsChartClick=function(t,i){t=this.chart;var o,e=this.selectedButton;if(t=t.renderer.boxWrapper,o=this.activeAnnotation&&!i.activeAnnotation&&i.target.parentNode){t:{o=i.target;var n=v.Element.prototype,s=n.matches||n.msMatchesSelector||n.webkitMatchesSelector,a=null;if(n.closest)a=n.closest.call(o,".highcharts-popup");else do{if(s.call(o,".highcharts-popup"))break t;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType);o=a}o=!o}o&&(r(this,"closePopup"),this.deselectAnnotation()),e&&e.start&&(this.nextEvent?(this.nextEvent(i,this.currentUserDetails),this.steps&&(this.stepIndex++,e.steps[this.stepIndex]?this.mouseMoveEvent=this.nextEvent=e.steps[this.stepIndex]:(r(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),e.end&&e.end.call(this,i,this.currentUserDetails),this.mouseMoveEvent=this.nextEvent=!1,this.selectedButton=null))):(this.currentUserDetails=e.start.call(this,i),e.steps?(this.stepIndex=0,this.steps=!0,this.mouseMoveEvent=this.nextEvent=e.steps[this.stepIndex]):(r(this,"deselectButton",{button:this.selectedButtonElement}),t.removeClass("highcharts-draw-mode"),this.steps=!1,this.selectedButton=null,e.end&&e.end.call(this,i,this.currentUserDetails))))},x.prototype.bindingsContainerMouseMove=function(t,i){this.mouseMoveEvent&&this.mouseMoveEvent(i,this.currentUserDetails)},x.prototype.fieldsToOptions=function(t,o){return g(t,function(e,t){var i=parseFloat(e),n=t.split("."),s=o,a=n.length-1;!h(i)||e.match(/px/g)||t.match(/format/g)||(e=i),""!==e&&"undefined"!==e&&n.forEach(function(t,i){var o=y(n[i+1],"");a===i?s[t]=e:(s[t]||(s[t]=o.match(/\d/g)?[]:{}),s=s[t])})}),o},x.prototype.deselectAnnotation=function(){this.activeAnnotation&&(this.activeAnnotation.setControlPointsVisibility(!1),this.activeAnnotation=!1)},x.prototype.annotationToFields=function(i){function a(t,e,o,n){var s;o&&-1===h.indexOf(e)&&(0<=(o.indexOf&&o.indexOf(e))||o[e]||!0===o)&&(d(t)?(n[e]=[],t.forEach(function(t,o){u(t)?(n[e][o]={},g(t,function(t,i){a(t,i,r[e],n[e][o])})):a(t,0,r[e],n[e])})):u(t)?(s={},d(n)?(n.push(s),s[e]={},s=s[e]):n[e]=s,g(t,function(t,i){a(t,i,0===e?o:r[e],s)})):"format"===e?n[e]=[p(t,i.labels[0].points[0]).toString(),"text"]:d(n)?n.push([t,l(t)]):n[e]=[t,l(t)])}var e=i.options,n=x.annotationsEditable,r=n.nestedOptions,l=this.utils.getFieldType,s=y(e.type,e.shapes&&e.shapes[0]&&e.shapes[0].type,e.labels&&e.labels[0]&&e.labels[0].itemType,"label"),h=x.annotationsNonEditable[e.langKey]||[],c={langKey:e.langKey,type:s};return g(e,function(t,o){"typeOptions"===o?(c[o]={},g(e[o],function(t,i){a(t,i,r,c[o])})):a(t,o,n[s],c)}),c},x.prototype.getClickedClassNames=function(t,i){var o,e=i.target;for(i=[];e&&((o=a(e,"class"))&&(i=i.concat(o.split(" ").map(function(t){return[t,e]}))),(e=e.parentNode)!==t););return i},x.prototype.getButtonEvents=function(t,i){var o,e=this;return this.getClickedClassNames(t,i).forEach(function(t){e.boundClassNames[t[0]]&&!o&&(o={events:e.boundClassNames[t[0]],button:t[1]})}),o},x.prototype.update=function(t){this.options=c(!0,this.options,t),this.removeEvents(),this.initEvents()},x.prototype.removeEvents=function(){this.eventsToUnbind.forEach(function(t){t()})},x.prototype.destroy=function(){this.removeEvents()},x.annotationsEditable={nestedOptions:{labelOptions:["style","format","backgroundColor"],labels:["style"],label:["style"],style:["fontSize","color"],background:["fill","strokeWidth","stroke"],innerBackground:["fill","strokeWidth","stroke"],outerBackground:["fill","strokeWidth","stroke"],shapeOptions:["fill","strokeWidth","stroke"],shapes:["fill","strokeWidth","stroke"],line:["strokeWidth","stroke"],backgroundColors:[!0],connector:["fill","strokeWidth","stroke"],crosshairX:["strokeWidth","stroke"],crosshairY:["strokeWidth","stroke"]},circle:["shapes"],verticalLine:[],label:["labelOptions"],measure:["background","crosshairY","crosshairX"],fibonacci:[],tunnel:["background","line","height"],pitchfork:["innerBackground","outerBackground"],rect:["shapes"],crookedLine:[],basicAnnotation:[]},x.annotationsNonEditable={rectangle:["crosshairX","crosshairY","label"]},x);function x(t,i){this.selectedButton=this.boundClassNames=void 0,this.chart=t,this.options=i,this.eventsToUnbind=[],this.container=f.getElementsByClassName(this.options.bindingsClassName||"")}return m.prototype.utils={updateRectSize:function(t,i){var o=i.chart,e=i.options.typeOptions,n=o.pointer.getCoordinates(t);t=n.xAxis[0].value-e.point.x,e=e.point.y-n.yAxis[0].value,i.update({typeOptions:{background:{width:o.inverted?e:t,height:o.inverted?t:e}}})},getFieldType:function(t){return{string:"text",number:"number",boolean:"checkbox"}[typeof t]}},n.Chart.prototype.initNavigationBindings=function(){var t=this.options;t&&t.navigation&&t.navigation.bindings&&(this.navigationBindings=new m(this,t.navigation),this.navigationBindings.initEvents(),this.navigationBindings.initUpdate())},s(n.Chart,"load",function(){this.initNavigationBindings()}),s(n.Chart,"destroy",function(){this.navigationBindings&&this.navigationBindings.destroy()}),s(m,"deselectButton",function(){this.selectedButtonElement=null}),s(t,"remove",function(){this.chart.navigationBindings&&this.chart.navigationBindings.deselectAnnotation()}),n.Annotation&&(e(t),g(t.types,function(t){e(t)})),i({lang:{navigation:{popup:{simpleShapes:"Simple shapes",lines:"Lines",circle:"Circle",rectangle:"Rectangle",label:"Label",shapeOptions:"Shape options",typeOptions:"Details",fill:"Fill",format:"Text",strokeWidth:"Line width",stroke:"Line color",title:"Title",name:"Name",labelOptions:"Label options",labels:"Labels",backgroundColor:"Background color",backgroundColors:"Background colors",borderColor:"Border color",borderRadius:"Border radius",borderWidth:"Border width",style:"Style",padding:"Padding",fontSize:"Font size",color:"Color",height:"Height",shapes:"Shape options"}}},navigation:{bindingsClassName:"highcharts-bindings-container",bindings:{circleAnnotation:{className:"highcharts-circle-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(c({langKey:"circle",type:"basicAnnotation",shapes:[{type:"circle",point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},r:5}]},i.annotationsOptions,i.bindings.circleAnnotation.annotationsOptions))},steps:[function(t,i){var o=i.options.shapes[0].point,e=this.chart.xAxis[0].toPixels(o.x),o=this.chart.yAxis[0].toPixels(o.y),n=this.chart.inverted;i.update({shapes:[{r:Math.max(Math.sqrt(Math.pow(n?o-t.chartX:e-t.chartX,2)+Math.pow(n?e-t.chartY:o-t.chartY,2)),5)}]})}]},rectangleAnnotation:{className:"highcharts-rectangle-annotation",start:function(t){var i=this.chart.pointer.getCoordinates(t);t=this.chart.options.navigation;var o=i.xAxis[0].value,i=i.yAxis[0].value;return this.chart.addAnnotation(c({langKey:"rectangle",type:"basicAnnotation",shapes:[{type:"path",points:[{xAxis:0,yAxis:0,x:o,y:i},{xAxis:0,yAxis:0,x:o,y:i},{xAxis:0,yAxis:0,x:o,y:i},{xAxis:0,yAxis:0,x:o,y:i}]}]},t.annotationsOptions,t.bindings.rectangleAnnotation.annotationsOptions))},steps:[function(t,i){var o=i.options.shapes[0].points,e=this.chart.pointer.getCoordinates(t);t=e.xAxis[0].value,e=e.yAxis[0].value,o[1].x=t,o[2].x=t,o[2].y=e,o[3].y=e,i.update({shapes:[{points:o}]})}]},labelAnnotation:{className:"highcharts-label-annotation",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return this.chart.addAnnotation(c({langKey:"label",type:"basicAnnotation",labelOptions:{format:"{y:.2f}"},labels:[{point:{xAxis:0,yAxis:0,x:t.xAxis[0].value,y:t.yAxis[0].value},overflow:"none",crop:!0}]},i.annotationsOptions,i.bindings.labelAnnotation.annotationsOptions))}}},events:{},annotationsOptions:{}}}),m}),i(t,"modules/stock-tools-bindings.js",[t["parts/Globals.js"],t["annotations/navigationBindings.js"],t["parts/Utilities.js"]],function(a,t,i){var r=i.correctFloat,l=i.defined,o=i.extend,h=i.fireEvent,c=i.isNumber,e=i.merge,n=i.pick,s=i.setOptions,p=i.uniqueKey,d=t.prototype.utils;d.addFlagFromForm=function(a){return function(t){var o=this,i=o.chart,e=i.stockTools,n=d.getFieldType,s={type:"flags",onSeries:(t=d.attractToPoint(t,i)).series.id,shape:a,data:[{x:t.x,y:t.y}],point:{events:{click:function(){var i=this,t=i.options;h(o,"showPopup",{point:i,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[t.title,n(t.title)],name:[t.name,n(t.name)]},onSubmit:function(t){"remove"===t.actionType?i.remove():i.update(o.fieldsToOptions(t.fields,{}))}})}}}};e&&e.guiEnabled||i.addSeries(s),h(o,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",n("A")],name:["Flag A",n("Flag A")]},onSubmit:function(t){o.fieldsToOptions(t.fields,s.data[0]),i.addSeries(s)}})}},d.manageIndicators=function(t){var i,o=this.chart,e={linkedTo:t.linkedTo,type:t.type},n="ad atr cci cmf macd mfi roc rsi ao aroon aroonoscillator trix apo dpo ppo natr williamsr stochastic slowstochastic linearRegression linearRegressionSlope linearRegressionIntercept linearRegressionAngle".split(" ");"edit"===t.actionType?(this.fieldsToOptions(t.fields,e),(t=o.get(t.seriesId))&&t.update(e,!1)):"remove"===t.actionType?(t=o.get(t.seriesId))&&(i=t.yAxis,t.linkedSeries&&t.linkedSeries.forEach(function(t){t.remove(!1)}),t.remove(!1),0<=n.indexOf(t.type)&&(i.remove(!1),this.resizeYAxes())):(e.id=p(),this.fieldsToOptions(t.fields,e),0<=n.indexOf(t.type)?(i=o.addAxis({id:p(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),e.yAxis=i.options.id,this.resizeYAxes()):e.yAxis=o.get(t.linkedTo).options.yAxis,0<=["ad","cmf","mfi","vbp","vwap"].indexOf(t.type)&&(e.params.volumeSeriesID=o.series.filter(function(t){return"column"===t.options.type})[0].options.id),o.addSeries(e,!1)),h(this,"deselectButton",{button:this.selectedButtonElement}),o.redraw()},d.updateHeight=function(t,i){i.update({typeOptions:{height:this.chart.pointer.getCoordinates(t).yAxis[0].value-i.options.typeOptions.points[1].y}})},d.attractToPoint=function(t,i){var o=(t=i.pointer.getCoordinates(t)).xAxis[0].value;t=t.yAxis[0].value;var e,n=Number.MAX_VALUE;return i.series.forEach(function(t){t.points.forEach(function(t){t&&n>Math.abs(t.x-o)&&(n=Math.abs(t.x-o),e=t)})}),{x:e.x,y:e.y,below:t<e.y,series:e.series,xAxis:e.series.xAxis.index||0,yAxis:e.series.yAxis.index||0}},d.isNotNavigatorYAxis=function(t){return"highcharts-navigator-yaxis"!==t.userOptions.className},d.updateNthPoint=function(s){return function(t,i){var o=i.options.typeOptions,e=(t=this.chart.pointer.getCoordinates(t)).xAxis[0].value,n=t.yAxis[0].value;o.points.forEach(function(t,i){s<=i&&(t.x=e,t.y=n)}),i.update({typeOptions:{points:o.points}})}},o(t.prototype,{getYAxisPositions:function(t,o,e){function n(t){return l(t)&&!c(t)&&t.match("%")}var s=0;return(t=t.map(function(t){var i=n(t.options.height)?parseFloat(t.options.height)/100:t.height/o;return t=n(t.options.top)?parseFloat(t.options.top)/100:r(t.top-t.chart.plotTop)/o,c(i)||(i=e/100),s=r(s+i),{height:100*i,top:100*t}})).allAxesHeight=s,t},getYAxisResizers:function(o){var e=[];return o.forEach(function(t,i){t=o[i+1],e[i]=t?{enabled:!0,controlledAxis:{next:[n(t.options.id,t.options.index)]}}:{enabled:!1}}),e},resizeYAxes:function(t){t=t||20;var o=(e=this.chart).yAxis.filter(d.isNotNavigatorYAxis),i=o.length,e=this.getYAxisPositions(o,e.plotHeight,t),n=this.getYAxisResizers(o),s=e.allAxesHeight,a=t;1<s?(e=i<6?(e[0].height=r(e[0].height-a),this.recalculateYAxisPositions(e,a)):(t=100/i,this.recalculateYAxisPositions(e,t/(i-1),!0,-1)))[i-1]={top:r(100-t),height:t}:(a=100*r(1-s),e=i<5?(e[0].height=r(e[0].height+a),this.recalculateYAxisPositions(e,a)):this.recalculateYAxisPositions(e,a/i,!0,1)),e.forEach(function(t,i){o[i].update({height:t.height+"%",top:t.top+"%",resize:n[i]},!1)})},recalculateYAxisPositions:function(o,e,n,s){return o.forEach(function(t,i){i=o[i-1],t.top=i?r(i.height+i.top):0,n&&(t.height=r(t.height+s*e))}),o}}),s({navigation:{bindings:i={segment:{className:"highcharts-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"segment",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.segment.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowSegment.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"ray",type:"crookedLine",typeOptions:{type:"ray",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.ray.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowRay.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.infinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowInfinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=e({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.horizontalLine.annotationsOptions),this.chart.addAnnotation(t)}},verticalLine:{className:"highcharts-vertical-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=e({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.verticalLine.annotationsOptions),this.chart.addAnnotation(t)}},crooked3:{className:"highcharts-crooked3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"crooked3",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked3.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1),d.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"crookedLine",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked5.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1),d.updateNthPoint(2),d.updateNthPoint(3),d.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"elliott3",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott3.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1),d.updateNthPoint(2),d.updateNthPoint(3)]},elliott5:{className:"highcharts-elliott5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"elliott5",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott5.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1),d.updateNthPoint(2),d.updateNthPoint(3),d.updateNthPoint(4),d.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"measure",type:"measure",typeOptions:{selectType:"x",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureX.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"measure",type:"measure",typeOptions:{selectType:"y",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureY.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureXY.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"fibonacci",type:"fibonacci",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.fibonacci.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1),d.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"parallelChannel",type:"tunnel",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.parallelChannel.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1),d.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=e({langKey:"pitchfork",type:"pitchfork",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value,controlPoint:{style:{fill:"red"}}},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},i.annotationsOptions,i.bindings.pitchfork.annotationsOptions),this.chart.addAnnotation(t)},steps:[d.updateNthPoint(1),d.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(t){t=d.attractToPoint(t,this.chart);var i=this.chart.options.navigation,o=l(this.verticalCounter)?this.verticalCounter:0;t=e({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,text:o.toString()}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalCounter.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalLabel:{className:"highcharts-vertical-label",start:function(t){t=d.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=e({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalLabel.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(t){t=d.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=e({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,format:" "},connector:{fill:"none",stroke:t.below?"red":"green"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalArrow.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},flagCirclepin:{className:"highcharts-flag-circlepin",start:d.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:d.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:d.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:d.addFlagFromForm("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(t){this.chart.update({chart:{zoomType:"x"}}),h(this,"deselectButton",{button:t})}},zoomY:{className:"highcharts-zoom-y",init:function(t){this.chart.update({chart:{zoomType:"y"}}),h(this,"deselectButton",{button:t})}},zoomXY:{className:"highcharts-zoom-xy",init:function(t){this.chart.update({chart:{zoomType:"xy"}}),h(this,"deselectButton",{button:t})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(t){this.chart.series[0].update({type:"line",useOhlcData:!0}),h(this,"deselectButton",{button:t})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(t){this.chart.series[0].update({type:"ohlc"}),h(this,"deselectButton",{button:t})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(t){this.chart.series[0].update({type:"candlestick"}),h(this,"deselectButton",{button:t})}},fullScreen:{className:"highcharts-full-screen",init:function(t){this.chart.fullscreen.toggle(),h(this,"deselectButton",{button:t})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(t){var i=this.chart,o=i.series[0],e=(n=o.options).lastVisiblePrice&&n.lastVisiblePrice.enabled,n=n.lastPrice&&n.lastPrice.enabled,s=(i=i.stockTools).getIconsURL();i&&i.guiEnabled&&(t.firstChild.style["background-image"]=n?'url("'+s+'current-price-show.svg")':'url("'+s+'current-price-hide.svg")'),o.update({lastPrice:{enabled:!n,color:"red"},lastVisiblePrice:{enabled:!e,label:{enabled:!0}}}),h(this,"deselectButton",{button:t})}},indicators:{className:"highcharts-indicators",init:function(){var i=this;h(i,"showPopup",{formType:"indicators",options:{},onSubmit:function(t){i.utils.manageIndicators.call(i,t)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(t){var i=this.chart,o=i.stockTools,e=o.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(i.annotations||[]).forEach(function(t){t.setVisibility(!this.toggledAnnotations)},this),o&&o.guiEnabled&&(t.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+e+'annotations-hidden.svg")':'url("'+e+'annotations-visible.svg")'),h(this,"deselectButton",{button:t})}},saveChart:{className:"highcharts-save-chart",init:function(t){var i=this.chart,o=[],e=[],n=[],s=[];i.annotations.forEach(function(t,i){o[i]=t.userOptions}),i.series.forEach(function(t){t.is("sma")?e.push(t.userOptions):"flags"===t.type&&n.push(t.userOptions)}),i.yAxis.forEach(function(t){d.isNotNavigatorYAxis(t)&&s.push(t.options)}),a.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:o,indicators:e,flags:n,yAxes:s})),h(this,"deselectButton",{button:t})}}}}}),t.prototype.utils=e(d,t.prototype.utils)}),i(t,"modules/stock-tools-gui.js",[t["parts/Chart.js"],t["parts/Globals.js"],t["annotations/navigationBindings.js"],t["parts/Utilities.js"]],function(t,e,i,o){var p=o.addEvent,d=o.createElement,u=o.css,n=o.extend,s=o.fireEvent,g=o.getStyle,l=o.isArray,a=o.merge,r=o.pick;function h(t,i,o){this.wrapper=this.toolbar=this.submenu=this.showhideBtn=this.listWrapper=this.arrowWrapper=this.arrowUp=this.arrowDown=void 0,this.chart=o,this.options=t,this.lang=i,this.iconsURL=this.getIconsURL(),this.guiEnabled=t.enabled,this.visible=r(t.visible,!0),this.placed=r(t.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),s(this,"afterInit")}return(o=o.setOptions)({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",circle:"Circle",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel"}},navigation:{popup:{circle:"Circle",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background"}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:"indicators separator simpleShapes lines crookedLines measure advanced toggleAnnotations separator verticalLabels flags separator zoomChange fullScreen typeChange separator currentPriceIndicator saveChart".split(" "),definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","rectangle"],circle:{symbol:"circle.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:"segment arrowSegment ray arrowRay line arrowLine horizontalLine verticalLine".split(" "),segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","pitchfork","parallelChannel"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},parallelChannel:{symbol:"parallel-channel.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}),p(e.Chart,"afterGetContainer",function(){this.setStockTools()}),p(e.Chart,"getMargins",function(){var t=this.stockTools&&this.stockTools.listWrapper;(t=t&&(t.startWidth+g(t,"padding-left")+g(t,"padding-right")||t.offsetWidth))&&t<this.plotWidth&&(this.plotLeft+=t)}),p(e.Chart,"destroy",function(){this.stockTools&&this.stockTools.destroy()}),p(e.Chart,"redraw",function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()}),h.prototype.init=function(){var i,o=this,e=this.lang,t=this.options,n=this.toolbar,s=o.addSubmenu,a=t.definitions,r=n.childNodes;t.buttons.forEach(function(t){i=o.addButton(n,a,t,e),o.eventsToUnbind.push(p(i.buttonWrapper,"click",function(){o.eraseActiveButtons(r,i.buttonWrapper)})),l(a[t].items)&&s.call(o,i,a[t])})},h.prototype.addSubmenu=function(t,i){var o,e=this,n=t.submenuArrow,s=t.buttonWrapper,a=g(s,"width"),r=this.wrapper,l=this.listWrapper,h=this.toolbar.childNodes,c=0;this.submenu=o=d("ul",{className:"highcharts-submenu-wrapper"},null,s),this.addSubmenuItems(s,i),e.eventsToUnbind.push(p(n,"click",function(t){t.stopPropagation(),e.eraseActiveButtons(h,s),0<=s.className.indexOf("highcharts-current")?(l.style.width=l.startWidth+"px",s.classList.remove("highcharts-current"),o.style.display="none"):(o.style.display="block",c=o.offsetHeight-s.offsetHeight-3,o.offsetHeight+s.offsetTop>r.offsetHeight&&s.offsetTop>c||(c=0),u(o,{top:-c+"px",left:a+3+"px"}),s.className+=" highcharts-current",l.startWidth=r.offsetWidth,l.style.width=l.startWidth+g(l,"padding-left")+o.offsetWidth+3+"px")}))},h.prototype.addSubmenuItems=function(i,o){var e,n=this,s=this.submenu,a=this.lang,r=this.listWrapper;o.items.forEach(function(t){e=n.addButton(s,o,t,a),n.eventsToUnbind.push(p(e.mainButton,"click",function(){n.switchSymbol(this,i,!0),r.style.width=r.startWidth+"px",s.style.display="none"}))});var t=s.querySelectorAll("li > .highcharts-menu-item-btn")[0];n.switchSymbol(t,!1)},h.prototype.eraseActiveButtons=function(t,i,o){[].forEach.call(t,function(t){t!==i&&(t.classList.remove("highcharts-current"),t.classList.remove("highcharts-active"),0<(o=t.querySelectorAll(".highcharts-submenu-wrapper")).length&&(o[0].style.display="none"))})},h.prototype.addButton=function(t,i,o,e){void 0===e&&(e={});var n,s=(i=i[o]).items,a=i.className||"";return o=d("li",{className:r(h.prototype.classMapping[o],"")+" "+a,title:e[o]||o},null,t),t=d("span",{className:"highcharts-menu-item-btn"},null,o),s&&s.length?(n=d("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},null,o)).style["background-image"]="url("+this.iconsURL+"arrow-bottom.svg)":t.style["background-image"]="url("+this.iconsURL+i.symbol+")",{buttonWrapper:o,mainButton:t,submenuArrow:n}},h.prototype.addNavigation=function(){var t=this.wrapper;this.arrowWrapper=d("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=d("div",{className:"highcharts-arrow-up"},null,this.arrowWrapper),this.arrowUp.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=d("div",{className:"highcharts-arrow-down"},null,this.arrowWrapper),this.arrowDown.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",t.insertBefore(this.arrowWrapper,t.childNodes[0]),this.scrollButtons()},h.prototype.scrollButtons=function(){var t=0,i=this.wrapper,o=this.toolbar,e=.1*i.offsetHeight;this.eventsToUnbind.push(p(this.arrowUp,"click",function(){0<t&&(t-=e,o.style["margin-top"]=-t+"px")})),this.eventsToUnbind.push(p(this.arrowDown,"click",function(){i.offsetHeight+t<=o.offsetHeight+e&&(t+=e,o.style["margin-top"]=-t+"px")}))},h.prototype.createHTML=function(){var t=this.chart,i=this.options,o=t.container,t=t.options.navigation;this.wrapper=t=d("div",{className:"highcharts-stocktools-wrapper "+i.className+" "+(t&&t.bindingsClassName)}),o.parentNode.insertBefore(t,o),this.toolbar=o=d("ul",{className:"highcharts-stocktools-toolbar "+i.toolbarClassName}),this.listWrapper=i=d("div",{className:"highcharts-menu-wrapper"}),t.insertBefore(i,t.childNodes[0]),i.insertBefore(o,i.childNodes[0]),this.showHideToolbar(),this.addNavigation()},h.prototype.showHideNavigatorion=function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")},h.prototype.showHideToolbar=function(){var t,i=this.chart,o=this.wrapper,e=this.listWrapper,n=this.submenu,s=this.visible;this.showhideBtn=t=d("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},null,o),t.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",s?(o.style.height="100%",t.style.top=g(e,"padding-top")+"px",t.style.left=o.offsetWidth+g(e,"padding-left")+"px"):(n&&(n.style.display="none"),t.style.left="0px",this.visible=s=!1,e.classList.add("highcharts-hide"),t.classList.toggle("highcharts-arrow-right"),o.style.height=t.offsetHeight+"px"),this.eventsToUnbind.push(p(t,"click",function(){i.update({stockTools:{gui:{visible:!s,placed:!0}}})}))},h.prototype.switchSymbol=function(t,i){var o=t.parentNode,e=o.classList.value;(o=o.parentNode.parentNode).className="",e&&o.classList.add(e.trim()),o.querySelectorAll(".highcharts-menu-item-btn")[0].style["background-image"]=t.style["background-image"],i&&this.selectButton(o)},h.prototype.selectButton=function(t){0<=t.className.indexOf("highcharts-active")?t.classList.remove("highcharts-active"):t.classList.add("highcharts-active")},h.prototype.unselectAllButtons=function(i){var t=i.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(t,function(t){t!==i&&t.classList.remove("highcharts-active")})},h.prototype.update=function(t){a(!0,this.chart.options.stockTools,t),this.destroy(),this.chart.setStockTools(t),this.chart.navigationBindings&&this.chart.navigationBindings.update()},h.prototype.destroy=function(){var t=this.wrapper,i=t&&t.parentNode;this.eventsToUnbind.forEach(function(t){t()}),i&&i.removeChild(t),this.chart.isDirtyBox=!0,this.chart.redraw()},h.prototype.redraw=function(){this.showHideNavigatorion()},h.prototype.getIconsURL=function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/8.1.2/gfx/stock-icons/"},(o=h).prototype.classMapping={circle:"highcharts-circle-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeCandlestick:"highcharts-series-type-candlestick",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"},n(t.prototype,{setStockTools:function(t){var i=this.options,o=i.lang;t=a(i.stockTools&&i.stockTools.gui,t&&t.gui),this.stockTools=new e.Toolbar(t,o.stockTools&&o.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}}),p(i,"selectButton",function(t){var i=t.button,o=this.chart.stockTools;o&&o.guiEnabled&&(o.unselectAllButtons(t.button),0<=i.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(i=i.parentNode.parentNode),o.selectButton(i))}),p(i,"deselectButton",function(t){t=t.button;var i=this.chart.stockTools;i&&i.guiEnabled&&(0<=t.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(t=t.parentNode.parentNode),i.selectButton(t))}),e.Toolbar=o,e.Toolbar}),i(t,"masters/modules/stock-tools.src.js",[],function(){})});