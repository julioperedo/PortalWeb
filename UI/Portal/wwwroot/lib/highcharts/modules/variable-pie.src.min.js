!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/variable-pie",["highcharts"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){"use strict";e=e?e._modules:{};function t(e,t,i,a){e.hasOwnProperty(t)||(e[t]=a.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,module:e[t]}})))}t(e,"Series/VariablePie/VariablePieSeriesDefaults.js",[],function(){return{minPointSize:"10%",maxPointSize:"100%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}}}),t(e,"Series/VariablePie/VariablePieSeries.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Series/VariablePie/VariablePieSeriesDefaults.js"]],function(e,t,i){var a=e.seriesTypes["pie"];const{arrayMax:M,arrayMin:m,clamp:g,extend:n,fireEvent:P,merge:r,pick:z}=t;class s extends a{constructor(){super(...arguments),this.data=void 0,this.options=void 0,this.points=void 0,this.radii=void 0}calculateExtremes(){const e=this,t=e.chart,i=t.plotWidth,a=t.plotHeight,n=e.options,r=2*(n.slicedOffset||0),s=e.zData,o=Math.min(i,a)-r,l={},h=e.center||e.getCenter();var d,c;for(const f of["minPointSize","maxPointSize"]){var p=n[f],u=/%$/.test(p),p=parseInt(p,10);l[f]=u?o*p/100:2*p}e.minPxSize=h[3]+l.minPointSize,e.maxPxSize=g(h[2],h[3]+l.minPointSize,l.maxPointSize),s.length&&(d=z(n.zMin,m(s.filter(e.zValEval))),c=z(n.zMax,M(s.filter(e.zValEval))),this.getRadii(d,c,e.minPxSize,e.maxPxSize))}getRadii(t,i,a,n){const r=this.zData,s=[],e=this.options,o="radius"!==e.sizeBy,l=i-t;let h,d,c;for(let e=0;e<r.length;e++)d=this.zValEval(r[e])?r[e]:t,c=d<=t?a/2:i<=d?n/2:(h=0<l?(d-t)/l:.5,o&&(h=Math.sqrt(h)),Math.ceil(a+h*(n-a))/2),s.push(c);this.radii=s}redraw(){this.center=null,super.redraw()}getDataLabelPosition(e,t){var{center:i,options:a}=this,n=e.angle||0,r=this.radii[e.index],s=i[0]+Math.cos(n)*r,i=i[1]+Math.sin(n)*r,r=(a.slicedOffset||0)+(a.borderWidth||0),a=Math.min(r,t/5);return{distance:t,natural:{x:s+Math.cos(n)*t,y:i+Math.sin(n)*t},computed:{},alignment:e.half?"right":"left",connectorPosition:{breakAt:{x:s+Math.cos(n)*a,y:i+Math.sin(n)*a},touchingSliceAt:{x:s,y:i}}}}translate(t){this.generatePoints();var i=this,e=i.options,a=e.slicedOffset,n=e.startAngle||0,r=Math.PI/180*(n-90),n=Math.PI/180*(z(e.endAngle,n+360)-90),s=n-r,o=i.points,l=e.ignoreHiddenPoint;let h=0,d,c,p,u,f,M,m;i.startAngleRad=r,i.endAngleRad=n,i.calculateExtremes(),t||(i.center=t=i.getCenter());for(let e=0;e<o.length;e++)M=o[e],m=i.radii[e],d=r+h*s,l&&!M.visible||(h+=M.percentage/100),c=r+h*s,M.shapeType="arc",M.shapeArgs={x:t[0],y:t[1],r:m,innerR:t[3]/2,start:Math.round(1e3*d)/1e3,end:Math.round(1e3*c)/1e3},(p=(c+d)/2)>1.5*Math.PI?p-=2*Math.PI:p<-Math.PI/2&&(p+=2*Math.PI),M.slicedTranslation={translateX:Math.round(Math.cos(p)*a),translateY:Math.round(Math.sin(p)*a)},u=Math.cos(p)*t[2]/2,f=Math.sin(p)*t[2]/2,M.tooltipPos=[t[0]+.7*u,t[1]+.7*f],M.half=p<-Math.PI/2||p>Math.PI/2?1:0,M.angle=p;P(i,"afterTranslate")}zValEval(e){return"number"==typeof e&&!isNaN(e)||null}}return s.defaultOptions=r(a.defaultOptions,i),n(s.prototype,{pointArrayMap:["y","z"],parallelArrays:["x","y","z"]}),e.registerSeriesType("variablepie",s),s}),t(e,"masters/modules/variable-pie.src.js",[],function(){})});