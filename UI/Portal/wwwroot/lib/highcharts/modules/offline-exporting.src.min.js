!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,o,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Extensions/DownloadURL.js",[t["Core/Globals.js"]],function(t){const{isSafari:a,win:l,win:{document:s}}=t,i=l.URL||l.webkitURL||l;function c(t){t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(t&&3<t.length&&l.atob&&l.ArrayBuffer&&l.Uint8Array&&l.Blob&&i.createObjectURL){const e=l.atob(t[3]),o=new l.ArrayBuffer(e.length),n=new l.Uint8Array(o);for(let t=0;t<n.length;++t)n[t]=e.charCodeAt(t);return i.createObjectURL(new l.Blob([n],{type:t[1]}))}}return{dataURLtoBlob:c,downloadURL:function(t,e){const o=l.navigator,n=s.createElement("a");if("string"==typeof t||t instanceof String||!o.msSaveOrOpenBlob){t=""+t;var i=/Edge\/\d+/.test(o.userAgent),r=a&&"string"==typeof t&&0===t.indexOf("data:application/pdf");if((r||i||2e6<t.length)&&!(t=c(t)||""))throw new Error("Failed to convert to blob");if(void 0!==n.download)n.href=t,n.download=e,s.body.appendChild(n),n.click(),s.body.removeChild(n);else try{if(!l.open(t,"chart"))throw new Error("Failed to open window")}catch{l.location.href=t}}else o.msSaveOrOpenBlob(t,e)}}}),e(t,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.2.0/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}}),e(t,"Extensions/OfflineExporting/OfflineExporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Extensions/DownloadURL.js"],t["Extensions/Exporting/Exporting.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Extensions/OfflineExporting/OfflineExportingDefaults.js"],t["Core/Utilities.js"]],function(i,t,e,o,r,a,n,l,s){const c=e["defaultOptions"],y=o["downloadURL"],{win:x,doc:v}=a,w=n["ajax"],{addEvent:u,error:d,extend:f,fireEvent:h,merge:g}=s,p=(i.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),i.allowedTags.push("desc","clippath","g"),[]);var m,b;function E(t,e){const o=this,n=g(o.options.exporting,t),i=function(t){!1===n.fallbackToExportServer?n.error?n.error(n,t):d(28,!0):o.exportChart(n)};a.isMS&&o.styledMode&&!r.inlineAllowlist.length&&r.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),a.isMS&&("application/pdf"===n.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==n.type)||"application/pdf"===n.type&&[].some.call(o.container.getElementsByTagName("image"),function(t){const e=t.getAttribute("href");return""!==e&&"string"==typeof e&&0!==e.indexOf("data:")})?i(new Error("Image type not supported for this chart/browser.")):o.getSVGForLocalExport(n,e||{},i,function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==n.type&&(a.isMS||"application/pdf"===n.type)?i(new Error("Image type not supported for charts with embedded HTML")):b.downloadSVGLocal(t,f({filename:o.getFilename()},n),i,()=>h(o,"exportChartLocalSuccess"))})}function C(t,e){const o=v.getElementsByTagName("head")[0],n=v.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,n.onerror=function(){d("Error loading script "+t)},o.appendChild(n)}function L(e,t,o,n){const i=this,r=t=>i.sanitizeSVG(t,d),a=()=>{h&&p===g&&n(r(c.innerHTML))},l=(t,e,o)=>{++p,o.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),a()};let s,c,d,f,h,g=0,p=0;i.unbindGetSVG=u(i,"getSVG",t=>{d=t.chartCopy.options,c=t.chartCopy.container.cloneNode(!0),h=c&&c.getElementsByTagName("image")||[],g=h.length}),i.getSVGForExport(e,t);try{if(!h||!h.length)return void n(r(c.innerHTML));for(let t=0;t<h.length;t++)s=h[t],(f=s.getAttributeNS("http://www.w3.org/1999/xlink","href"))?b.imageToDataUrl(f,"image/png",{imageElement:s},e.scale,l,o,o,o):(p++,s.parentNode.removeChild(s),t--,a())}catch(t){o(t)}i.unbindGetSVG()}function S(n,i,r,a,l,t,s,e,c){let d=new x.Image,f;const o=()=>{setTimeout(function(){const t=v.createElement("canvas"),e=t.getContext&&t.getContext("2d");var o;try{if(e){t.height=d.height*a,t.width=d.width*a,e.drawImage(d,0,0,t.width,t.height);try{o=t.toDataURL(i),l(o,i,r,a)}catch(t){f(n,i,r,a)}}else s(n,i,r,a)}finally{c&&c(n,i,r,a)}},b.loadEventDeferDelay)},h=()=>{e(n,i,r,a),c&&c(n,i,r,a)};f=()=>{d=new x.Image,f=t,d.crossOrigin="Anonymous",d.onload=o,d.onerror=h,d.src=n},d.onload=o,d.onerror=h,d.src=n}function j(t){const e=x.navigator.userAgent;var o=-1<e.indexOf("WebKit")&&e.indexOf("Chrome")<0;try{if(!o&&-1===t.indexOf("<foreignObject"))return b.domurl.createObjectURL(new x.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function U(t,e,o,n){const i=(Number(t.getAttribute("width"))+2*e)*o,r=(Number(t.getAttribute("height"))+2*e)*o,a=new x.jspdf.jsPDF(i<r?"p":"l","pt",[i,r]);[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),function(t){t.parentNode.removeChild(t)});var l=t.querySelectorAll("linearGradient");for(let e=0;e<l.length;e++){const s=l[e],c=s.querySelectorAll("stop");let t=0;for(;t<c.length&&"0"===c[t].getAttribute("offset")&&"0"===c[t+1].getAttribute("offset");)c[t].remove(),t++}[].forEach.call(t.querySelectorAll("tspan"),t=>{"â€‹"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))}),a.svg(t,{x:0,y:0,width:i,height:r,removeInvalid:!0}).then(()=>n(a.output("datauristring")))}return(b=m=m||{}).CanVGRenderer={},b.domurl=x.URL||x.webkitURL||x,b.loadEventDeferDelay=a.isMS?150:0,b.compose=function(t){if(s.pushUnique(p,t)){const e=t.prototype;e.getSVGForLocalExport=L,e.exportChartLocal=E,g(!0,c.exporting,l)}return t},b.downloadSVGLocal=function(d,t,f,h){const g=v.createElement("div"),r=t.type||"image/png",p=(t.filename||"chart")+"."+("image/svg+xml"===r?"svg":r.split("/")[1]),u=t.scale||1;let e,o,a,l=t.libURL||c.exporting.libURL,s=!0,m=t.pdfFont;l="/"!==l.slice(-1)?l+"/":l;const n=()=>{i.setElementHTML(g,d);const t=g.getElementsByTagName("text");let e,o;[].forEach.call(t,function(i){for(["fontFamily","fontSize"].forEach(t=>{{var o=i,n=t;let e=o;for(;e&&e!==g;){if(e.style[n]){let t=e.style[n];"fontSize"===n&&/em$/.test(t)&&(t=Math.round(16*parseFloat(t))+"px"),o.style[n]=t;break}e=e.parentNode}return}}),i.style.fontFamily=m&&m.normal?"HighchartsFont":String(i.style.fontFamily&&i.style.fontFamily.split(" ").splice(-1)),e=i.getElementsByTagName("title"),[].forEach.call(e,function(t){i.removeChild(t)}),o=i.getElementsByClassName("highcharts-text-outline");0<o.length;)i.removeChild(o[0])});const n=g.querySelector("svg");if(n){var r=n;var a=()=>{U(n,0,u,t=>{try{y(t,p),h&&h()}catch(t){f(t)}})};const l=(t,e)=>{x.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])},s=(m&&!/[^\u0000-\u007F\u200B]+/.test(r.textContent||"")&&(m=void 0),["normal","italic","bold","bolditalic"]);let i;const c=()=>{const n=s.shift();if(!n)return a();var t=m&&m[n];t?w({url:t,responseType:"blob",success:(t,e)=>{const o=new FileReader;o.onloadend=function(){var t;"string"==typeof this.result&&(t=this.result.split(",")[1],l(n,t),"normal"===n&&(i=t)),c()},o.readAsDataURL(e.response)},error:c}):(i&&l(n,i),c())};c()}};if("image/svg+xml"===r)try{e=void 0!==x.MSBlobBuilder?((o=new x.MSBlobBuilder).append(d),o.getBlob("image/svg+xml")):j(d),y(e,p),h&&h()}catch(t){f(t)}else"application/pdf"===r?x.jspdf&&x.jspdf.jsPDF?n():(s=!0,C(l+"jspdf.js",function(){C(l+"svg2pdf.js",n)})):(e=j(d),a=function(){try{b.domurl.revokeObjectURL(e)}catch(t){}},S(e,r,{},u,function(t){try{y(t,p),h&&h()}catch(t){f(t)}},function(){function t(){const t=x.canvg.Canvg.fromString(o,d);t.start();try{y(x.navigator.msSaveOrOpenBlob?e.msToBlob():e.toDataURL(r),p),h&&h()}catch(t){f(t)}finally{a()}}const e=v.createElement("canvas"),o=e.getContext("2d"),n=d.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*u,i=d.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*u;e.width=n,e.height=i,x.canvg?t():(s=!0,C(l+"canvg.js",function(){t()}))},f,f,function(){s&&a()}))},b.getScript=C,b.imageToDataUrl=S,b.svgToDataUrl=j,b.svgToPdf=U,m}),e(t,"masters/modules/offline-exporting.src.js",[t["Core/Globals.js"],t["Extensions/DownloadURL.js"],t["Extensions/OfflineExporting/OfflineExporting.js"]],function(t,e,o){const n=t;n.dataURLtoBlob=e.dataURLtoBlob,n.downloadSVGLocal=o.downloadSVGLocal,n.downloadURL=e.downloadURL,o.compose(n.Chart)})});