!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){"use strict";t=t?t._modules:{};function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t,"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){const{doc:o,win:s}=t,i=e["css"],r=s.EventTarget&&new s.EventTarget||"none";function a(t){if("function"==typeof s.MouseEvent)return new s.MouseEvent(t.type,t);if(o.createEvent){const e=o.createEvent("MouseEvent");if(e.initMouseEvent)return e.initMouseEvent(t.type,t.bubbles,t.cancelable,t.view||s,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),e}return n(t.type)}function n(t,e,i){e=e||{x:0,y:0};if("function"==typeof s.MouseEvent)return new s.MouseEvent(t,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:i||r,view:s,detail:"click"===t?1:0,screenX:e.x,screenY:e.y,clientX:e.x,clientY:e.y});if(o.createEvent){const n=o.createEvent("MouseEvent");if(n.initMouseEvent)return n.initMouseEvent(t,!0,!0,s,"click"===t?1:0,e.x,e.y,e.x,e.y,!1,!1,!1,!1,0,null),n}return{type:t}}return{addClass:function(t,e){t.classList?t.classList.add(e):t.className.indexOf(e)<0&&(t.className+=" "+e)},cloneMouseEvent:a,cloneTouchEvent:function(t){var e=e=>{const i=[];for(let t=0;t<e.length;++t){var n=e.item(t);n&&i.push(n)}return i};if("function"==typeof s.TouchEvent){const n=new s.TouchEvent(t.type,{touches:e(t.touches),targetTouches:e(t.targetTouches),changedTouches:e(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed,detail:t.detail,view:t.view});return t.defaultPrevented&&n.preventDefault(),n}const i=a(t);return i.touches=t.touches,i.changedTouches=t.changedTouches,i.targetTouches=t.targetTouches,i},escapeStringForHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(t){return o.getElementById(t)},getFakeMouseEvent:n,getHeadingTagNameForElement:function(t){const i=t=>{t=parseInt(t.slice(1),10);return"h"+Math.min(6,t+1)},n=t=>/H[1-6]/.test(t),o=t=>{var e=(t=>{let e=t;for(;e=e.previousSibling;){var i=e.tagName||"";if(n(i))return i}return""})(t);if(e)return i(e);e=t.parentElement;if(!e)return"p";t=e.tagName;return n(t)?i(t):o(e)};return o(t)},removeChildNodes:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(e,"g"),"")},removeElement:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},reverseChildNodes:function(t){let e=t.childNodes.length;for(;e--;)t.appendChild(t.childNodes[e])},simulatedEventTarget:r,stripHTMLTagsFromString:function(t,e=!1){return"string"==typeof t?e?t.replace(/<\/?[^>]+(>|$)/g,""):t.replace(/<\/?(?!\s)[^>]+(>|$)/g,""):t},visuallyHideElement:function(t){i(t,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}}),e(t,"Accessibility/A11yI18n.js",[t["Core/Templating.js"],t["Core/Utilities.js"]],function(t,i){const a=t["format"],{getNestedProperty:x,pick:v}=i;var e;{t=e=e||{};const o=[];function s(t,e,i){const n=[];let o,s,r=0;for(;o=((t,e)=>{const i=t.slice(e||0),n=i.indexOf("{"),o=i.indexOf("}");if(-1<n&&n<o)return{statement:i.substring(n+1,o),begin:e+n+1,end:e+o}})(t,r),(s=t.substring(r,o&&o.begin-1)).length&&n.push({value:s,type:"constant"}),o&&n.push({value:o.statement,type:"statement"}),r=o?o.end+1:r+1,o;);return n.forEach(t=>{"statement"===t.type&&(t.value=function(i,n){var o=i.indexOf("#each("),e=i.indexOf("#plural("),s=i.indexOf("["),r=i.indexOf("]");let a,l;if(-1<o){const c=i.slice(o).indexOf(")")+o,h=i.substring(0,o),d=i.substring(c+1),u=i.substring(o+6,c),p=u.split(",");let t=Number(p[1]),e;if(l="",a=x(p[0],n)){e=(t=isNaN(t)?a.length:t)<0?a.length+t:Math.min(t,a.length);for(let t=0;t<e;++t)l+=h+a[t]+d}return l.length?l:""}if(-1<e){const t=i.slice(e).indexOf(")")+e,g=i.substring(e+8,t),m=g.split(","),b=Number(x(m[0],n));switch(b){case 0:l=v(m[4],m[1]);break;case 1:l=v(m[2],m[1]);break;case 2:l=v(m[3],m[1]);break;default:l=m[1]}return l?(o=l).trim&&o.trim()||o.replace(/^\s+|\s+$/g,""):""}if(-1<s){e=i.substring(0,s),o=Number(i.substring(s+1,r));let t;return a=x(e,n),!isNaN(o)&&a&&(o<0?void 0===(t=a[a.length+o])&&(t=a[0]):void 0===(t=a[o])&&(t=a[a.length-1])),void 0!==t?t:""}return"{"+i+"}"}(t.value,e))}),a(n.reduce((t,e)=>t+e.value,""),e,i)}function n(t,e){var i=t.split(".");let n=this.options.lang,o=0;for(;o<i.length;++o)n=n&&n[i[o]];return"string"==typeof n?s(n,e,this):""}t.compose=function(t){if(i.pushUnique(o,t)){const e=t.prototype;e.langFormat=n}return t},t.i18nFormat=s}return e}),e(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i){const s=t["doc"],n=e["stripHTMLTagsFromString"],{defined:r,find:a,fireEvent:l}=i;function o(t){if(t.points&&t.points.length)return(t=a(t.points,t=>!!t.graphic))&&t.graphic&&t.graphic.element}function c(t){var e=o(t);return e&&e.parentNode||t.graph&&t.graph.element||t.group&&t.group.element}return{fireEventOnWrappedOrUnwrappedElement:function t(e,i){var n=i.type,o=e.hcEvents;s.createEvent&&(e.dispatchEvent||e.fireEvent)?e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(n,i):o&&o[n]?l(e,n,i):e.element&&t(e.element,i)},getChartTitle:function(t){return n(t.options.title.text||t.langFormat("accessibility.defaultChartTitle",{chart:t}),t.renderer.forExport)},getAxisDescription:function(t){return t&&(t.options.accessibility?.description||t.axisTitle?.textStr||t.options.id||t.categories&&"categories"||t.dateTime&&"Time"||"values")},getAxisRangeDescription:function(t){var i=t.options||{};if(i.accessibility&&void 0!==i.accessibility.rangeDescription)return i.accessibility.rangeDescription;if(t.categories){i=t;const o=i.chart;if(i.dataMax&&i.dataMin)return o.langFormat("accessibility.axis.rangeCategories",{chart:o,axis:i,numCategories:i.dataMax-i.dataMin+1});return""}if(!t.dateTime||0!==t.min&&0!==t.dataMin){var e=t;function n(t){return e.dateTime?s.time.dateFormat(a,l[t]):l[t].toString()}const s=e.chart,r=s.options,a=r&&r.accessibility&&r.accessibility.screenReaderSection.axisRangeDateFormat||"",l={min:e.dataMin||e.min||0,max:e.dataMax||e.max||0};return s.langFormat("accessibility.axis.rangeFromTo",{chart:s,axis:e,rangeFrom:n("min"),rangeTo:n("max")})}{i=t;const c=i.chart,h={},d=i.dataMin||i.min||0,u=i.dataMax||i.max||0;let e="Seconds";h.Seconds=(u-d)/1e3,h.Minutes=h.Seconds/60,h.Hours=h.Minutes/60,h.Days=h.Hours/24,["Minutes","Hours","Days"].forEach(function(t){2<h[t]&&(e=t)});const p=h[e].toFixed("Seconds"!==e&&"Minutes"!==e?1:0);return c.langFormat("accessibility.axis.timeRange"+e,{chart:c,axis:i,range:p.replace(".0","")})}},getPointFromXY:function(t,e,i){let n=t.length,o;for(;n--;)if(o=a(t[n].points||[],function(t){return t.x===e&&t.y===i}))return o},getSeriesFirstPointElement:o,getSeriesFromName:function(t,e){return e?(t.series||[]).filter(function(t){return t.name===e}):t.series},getSeriesA11yElement:c,unhideChartElementFromAT:function t(e,i){i.setAttribute("aria-hidden",!1),i!==e.renderTo&&i.parentNode&&i.parentNode!==s.body&&(Array.prototype.forEach.call(i.parentNode.childNodes,function(t){t.hasAttribute("aria-hidden")||t.setAttribute("aria-hidden",!0)}),t(e,i.parentNode))},hideSeriesFromAT:function(t){const e=c(t);e&&e.setAttribute("aria-hidden",!0)},scrollAxisToPoint:function(t){const e=t.series.xAxis,i=t.series.yAxis,n=e&&e.scrollbar?e:i,o=n&&n.scrollbar;var s;o&&r(o.to)&&r(o.from)&&(s=o.to-o.from,t=function(t,e){if(!r(t.dataMin)||!r(t.dataMax))return 0;var i=t.toPixels(t.dataMin),n=t.toPixels(t.dataMax),o="xAxis"===t.coll?"x":"y";return(t.toPixels(e[o]||0)-i)/(n-i)}(n,t),o.updatePosition(t-s/2,t+s/2),l(o,"changed",{from:o.from,to:o.to,trigger:"scrollbar",DOMEvent:null}))}}}),e(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e){const i=t["doc"],n=e["removeElement"];return class{constructor(){this.elements=[]}createElement(){var t=i.createElement.apply(i,arguments);return this.elements.push(t),t}destroyCreatedElements(){this.elements.forEach(function(t){n(t)}),this.elements=[]}}}),e(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(e,t){const i=t["addEvent"];return class{constructor(){this.eventRemovers=[]}addEvent(){var t=i.apply(e,arguments);return this.eventRemovers.push(t),t}removeAddedEvents(){this.eventRemovers.forEach(t=>t()),this.eventRemovers=[]}}}),e(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,i,n,e,o){const s=t["fireEventOnWrappedOrUnwrappedElement"],r=e["getFakeMouseEvent"],a=o["extend"];class l{constructor(){this.chart=void 0,this.domElementProvider=void 0,this.eventProvider=void 0,this.keyCodes=void 0,this.proxyProvider=void 0}initBase(t,e){this.chart=t,this.eventProvider=new n,this.domElementProvider=new i,this.proxyProvider=e,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(t,e,i,n){return this.eventProvider.addEvent(t,e,i,n)}createElement(t,e){return this.domElementProvider.createElement(t,e)}fakeClickEvent(t){var e=r("click");s(t,e)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return a(l.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),l}),e(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],function(t){const o=t["find"];return class{constructor(t,e){this.chart=t,this.keyCodeMap=e.keyCodeMap||[],this.validate=e.validate,this.init=e.init,this.terminate=e.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(t){const e=t.which||t.keyCode;let i=this.response.noHandler;const n=o(this.keyCodeMap,function(t){return-1<t[0].indexOf(e)});return n?i=n[1].call(this,e,t):9===e&&(i=this.response[t.shiftKey?"prev":"next"]),i}}}),e(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,i,e,n,o){const{unhideChartElementFromAT:s,getChartTitle:r}=e,a=n["doc"],l=o["stripHTMLTagsFromString"];class c extends t{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const t=this.chart,e="highcharts-title-"+t.index,i=l(t.langFormat("accessibility.svgContainerTitle",{chartTitle:r(t)}));if(i.length){const n=this.svgTitleElement=this.svgTitleElement||a.createElementNS("http://www.w3.org/2000/svg","title");n.textContent=i,n.id=e,t.renderTo.insertBefore(n,t.renderTo.firstChild)}}setSVGContainerLabel(){const t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:r(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)}setGraphicContainerAttrs(){const t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:r(t)});e.length&&t.container.setAttribute("aria-label",e)}setRenderToAttrs(){const t=this.chart,e="disabled"!==t.options.accessibility.landmarkVerbosity,i=t.langFormat("accessibility.chartContainerLabel",{title:r(t),chart:t});i&&(t.renderTo.setAttribute("role",e?"region":"group"),t.renderTo.setAttribute("aria-label",i))}makeCreditsAccessible(){const t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:l(e.textStr,t.renderer.forExport)})),s(t,e.element))}getKeyboardNavigation(){const e=this.chart;return new i(e,{keyCodeMap:[],validate:function(){return!0},init:function(){const t=e.accessibility;t&&t.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}return c}),e(t,"Accessibility/FocusBorder.js",[t["Core/Utilities.js"]],function(o){const{addEvent:s,pick:w}=o;var t;{var e=t=t||{};const h=[],C=["x","y","transform","width","height","r","d","stroke-width"];function r(){const t=this.focusElement,e=this.options.accessibility.keyboardNavigation.focusBorder;t&&(t.removeFocusBorder(),e.enabled&&t.addFocusBorder(e.margin,{stroke:e.style.color,strokeWidth:e.style.lineWidth,r:e.style.borderRadius}))}function a(t,e){const i=this.options.accessibility.keyboardNavigation.focusBorder,n=e||t.element;n&&n.focus&&(n.hcEvents&&n.hcEvents.focusin||s(n,"focusin",function(){}),n.focus(),i.hideBrowserFocusOutline&&(n.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=t,this.renderFocusBorder()}function l(t,e){this.focusBorder&&this.removeFocusBorder();const i=this.getBBox(),n=w(t,3),o=this.parentGroup,s=this.scaleX||o&&o.scaleX,r=this.scaleY||o&&o.scaleY,a=s?!r:r,l=a?Math.abs(s||r||1):(Math.abs(s||1)+Math.abs(r||1))/2;i.x+=this.translateX||0,i.y+=this.translateY||0;let c=i.x-n,h=i.y-n,d=i.width+2*n,u=i.height+2*n;var p,g,m,b,x,v,f=!!this.text,y=("text"!==this.element.nodeName&&!f||(p=!!this.rotation,g=f?{x:p?1:0,y:0}:function(t){let e=0,i=0;return"middle"===t.attr("text-anchor")?e=i=.5:t.rotation?e=.25:i=.75,{x:e,y:i}}(this),m=+this.attr("x"),b=+this.attr("y"),isNaN(m)||(c=m-i.width*g.x-n),isNaN(b)||(h=b-i.height*g.y-n),f&&p&&(f=d,d=u,u=f,isNaN(m)||(c=m-i.height*g.x-n),isNaN(b)||(h=b-i.width*g.y-n))),this.focusBorder=this.renderer.rect(c,h,d,u,parseInt((e&&e.r||0).toString(),10)/l).addClass("highcharts-focus-border").attr({zIndex:99}).add(o),this.renderer.styledMode||this.focusBorder.attr({stroke:e&&e.stroke,"stroke-width":(e&&e.strokeWidth||0)/l}),v=[t,e],(x=this).focusBorderUpdateHooks||(x.focusBorderUpdateHooks={},C.forEach(t=>{t+="Setter";const e=x[t]||x._defaultSetter;x.focusBorderUpdateHooks[t]=e,x[t]=function(){var t=e.apply(x,arguments);return x.addFocusBorder.apply(x,v),t}})),this);if(!y.focusBorderDestroyHook){const A=y.destroy;y.destroy=function(){return y.focusBorder&&y.focusBorder.destroy&&y.focusBorder.destroy(),A.apply(y,arguments)},y.focusBorderDestroyHook=A}}function c(){var i,t;(i=this).focusBorderUpdateHooks&&(Object.keys(i.focusBorderUpdateHooks).forEach(t=>{var e=i.focusBorderUpdateHooks[t];e===i._defaultSetter?delete i[t]:i[t]=e}),delete i.focusBorderUpdateHooks),(t=this).focusBorderDestroyHook&&(t.destroy=t.focusBorderDestroyHook,delete t.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}t.compose=function(t,e){if(o.pushUnique(h,t)){const i=t.prototype;i.renderFocusBorder=r,i.setFocusToElement=a}if(o.pushUnique(h,e)){const n=e.prototype;n.addFocusBorder=l,n.removeFocusBorder=c}}}return t}),e(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(e,i,t,n,o){const s=t["doc"],{addClass:r,visuallyHideElement:a}=n,l=o["attr"];return class{constructor(t,e){this.chart=t,this.domElementProvider=new i,this.announceRegion=this.addAnnounceRegion(e)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(t){e.setElementHTML(this.announceRegion,t),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout(()=>{this.announceRegion.innerHTML=e.emptyHTML,delete this.clearAnnouncementRegionTimer},3e3)}addAnnounceRegion(t){const e=this.chart.announcerContainer||this.createAnnouncerContainer(),i=this.domElementProvider.createElement("div");return l(i,{"aria-hidden":!1,"aria-live":t,"aria-atomic":!0}),this.chart.styledMode?r(i,"highcharts-visually-hidden"):a(i),e.appendChild(i),i}createAnnouncerContainer(){const t=this.chart,e=s.createElement("div");return l(e,{"aria-hidden":!1,class:"highcharts-announcer-container"}),e.style.position="relative",t.renderTo.insertBefore(e,t.renderTo.firstChild),t.announcerContainer=e}}}),e(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],function(t){const{escapeStringForHTML:i,stripHTMLTagsFromString:n}=t;function o(t){const e=t.annotations||[];return e.reduce((t,e)=>t=e.options&&!1!==e.options.visible?t.concat(e.labels):t,[])}function a(t){return t.options&&t.options.accessibility&&t.options.accessibility.description||t.graphic&&t.graphic.text&&t.graphic.text.textStr||""}function s(t){var e=t.options&&t.options.accessibility&&t.options.accessibility.description;if(e)return e;const i=t.chart;e=a(t);const n=t.points;const o=n.filter(t=>!!t.graphic).map(t=>{var e=t.accessibility&&t.accessibility.valueDescription||((e=t).graphic&&e.graphic.element&&e.graphic.element.getAttribute("aria-label")||""),t=t&&t.series.name||"";return(t?t+", ":"")+"data point "+e}).filter(t=>!!t);var s=o.length,r="accessibility.screenReaderSection.annotations.description"+(1<s?"MultiplePoints":s?"SinglePoint":"NoPoints"),e={annotationText:e,annotation:t,numPoints:s,annotationPoint:o[0],additionalAnnotationPoints:o.slice(1)};return i.langFormat(r,e)}function r(e){const t=o(e);return t.map(t=>{t=i(n(s(t),e.renderer.forExport));return t?`<li>${t}</li>`:""})}return{getAnnotationsInfoHTML:function(t){var e=t.annotations;if(!e||!e.length)return"";const i=r(t);return`<ul style="list-style-type: none">${i.join(" ")}</ul>`},getAnnotationLabelDescription:s,getAnnotationListItems:r,getPointAnnotationTexts:function(e){const t=o(e.series.chart),i=t.filter(t=>-1<t.points.indexOf(e));return i.length?i.map(t=>""+a(t)):[]}}}),e(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(l,t,i,e,r,n,o,s,a,c){const h=e["getAnnotationsInfoHTML"],{getAxisDescription:d,getAxisRangeDescription:u,getChartTitle:p,unhideChartElementFromAT:g}=n,m=o["format"],b=s["doc"],{addClass:x,getElement:v,getHeadingTagNameForElement:f,stripHTMLTagsFromString:y,visuallyHideElement:A}=a,{attr:w,pick:C}=c;function E(t){return t.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}class T extends t{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){var t=this.chart;const e=this;this.initRegionsDefinitions(),this.addEvent(t,"aftergetTableAST",function(t){e.onDataTableCreated(t)}),this.addEvent(t,"afterViewData",function(t){t.wasHidden&&(e.dataTableDiv=t.element,setTimeout(function(){e.focusDataTable()},300))}),this.addEvent(t,"afterHideData",function(){e.viewDataTableButton&&e.viewDataTableButton.setAttribute("aria-expanded","false")}),this.announcer=new i(t,"assertive")}initRegionsDefinitions(){const i=this,n=this.chart.options.accessibility;this.screenReaderSections={before:{element:null,buildContent:function(t){const e=n.screenReaderSection.beforeChartFormatter;return e?e(t):i.defaultBeforeChartFormatter(t)},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.renderTo.firstChild)},afterInserted:function(){void 0!==i.sonifyButtonId&&i.initSonifyButton(i.sonifyButtonId),void 0!==i.dataTableButtonId&&i.initDataTableButton(i.dataTableButtonId)}},after:{element:null,buildContent:function(t){const e=n.screenReaderSection.afterChartFormatter;return e?e(t):i.defaultAfterChartFormatter()},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.container.nextSibling)},afterInserted:function(){i.chart.accessibility&&n.keyboardNavigation.enabled&&i.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const e=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach(function(t){e.updateScreenReaderSection(t)})}getLinkedDescriptionElement(){var t=this.chart.options.accessibility.linkedDescription;if(t){if("string"!=typeof t)return t;t=m(t,this.chart),t=b.querySelectorAll(t);return 1===t.length?t[0]:void 0}}setLinkedDescriptionAttrs(){const t=this.linkedDescriptionElement;t&&(t.setAttribute("aria-hidden","true"),x(t,"highcharts-linked-description"))}updateScreenReaderSection(t){var e=this.chart;const i=this.screenReaderSections[t];var n=i.buildContent(e);const o=i.element=i.element||this.createElement("div");var s=o.firstChild||this.createElement("div");n?(this.setScreenReaderSectionAttribs(o,t),r.setElementHTML(s,n),o.appendChild(s),i.insertIntoDOM(o,e),e.styledMode?x(s,"highcharts-visually-hidden"):A(s),g(e,s),i.afterInserted&&i.afterInserted()):(o.parentNode&&o.parentNode.removeChild(o),i.element=null)}setScreenReaderSectionAttribs(t,e){const i=this.chart,n=i.langFormat("accessibility.screenReaderSection."+e+"RegionLabel",{chart:i,chartTitle:p(i)}),o=`highcharts-screen-reader-region-${e}-`+i.index;w(t,{id:o,"aria-label":n||void 0}),t.style.position="relative",n&&t.setAttribute("role","all"===i.options.accessibility.landmarkVerbosity?"region":"group")}defaultBeforeChartFormatter(){const t=this.chart,e=t.options.accessibility.screenReaderSection.beforeChartFormat;if(!e)return"";var i=this.getAxesDescription(),n=t.sonify&&t.options.sonification&&t.options.sonification.enabled,o="highcharts-a11y-sonify-data-btn-"+t.index,s="hc-linkto-highcharts-data-table-"+t.index,r=h(t),a=t.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:t}),i={headingTagName:f(t.renderTo),chartTitle:p(t),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:i.xAxis,yAxisDescription:i.yAxis,playAsSoundButton:n?this.getSonifyButtonText(o):"",viewTableButton:t.getCSV?this.getDataTableButtonText(s):"",annotationsTitle:r?a:"",annotationsList:r},n=l.i18nFormat(e,i,t);return this.dataTableButtonId=s,this.sonifyButtonId=o,E(n)}defaultAfterChartFormatter(){var t=this.chart,e=t.options.accessibility.screenReaderSection.afterChartFormat;if(!e)return"";var i={endOfChartMarker:this.getEndOfChartMarkerText()};return E(l.i18nFormat(e,i,t))}getLinkedDescription(){var t=this.linkedDescriptionElement,t=t&&t.innerHTML||"";return y(t,this.chart.renderer.forExport)}getLongdescText(){var t=this.chart.options,e=t.caption,e=e&&e.text,i=this.getLinkedDescription();return t.accessibility.description||i||e||""}getTypeDescriptionText(){var t,e,i,n,o,s,r=this.chart;return r.types?r.options.accessibility.typeDescription||(t=(r=r).types,n=t[0],o=r.series&&r.series[0]||{},s=r.mapView&&r.mapView.geoMap&&r.mapView.geoMap.title,o={numSeries:r.series.length,numPoints:o.points&&o.points.length,chart:r,mapTitle:s},n?"map"===n||"tiledwebmap"===n?(s=r,(n=o).mapTitle?s.langFormat("accessibility.chartTypes.mapTypeDescription",n):s.langFormat("accessibility.chartTypes.unknownMap",n)):1<r.types.length?r.langFormat("accessibility.chartTypes.combinationChart",o):(s=r,n=o,t=(t=t)[0],e=s.langFormat("accessibility.seriesTypeDescriptions."+t,n),i=s.series&&s.series.length<2?"Single":"Multiple",(s.langFormat("accessibility.chartTypes."+t+i,n)||s.langFormat("accessibility.chartTypes.default"+i,n))+(e?" "+e:"")):r.langFormat("accessibility.chartTypes.emptyChart",o)):""}getDataTableButtonText(t){const e=this.chart,i=e.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:e,chartTitle:p(e)});return'<button id="'+t+'">'+i+"</button>"}getSonifyButtonText(t){const e=this.chart;return e.options.sonification&&!1===e.options.sonification.enabled?"":'<button id="'+t+'">'+e.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:e,chartTitle:p(e)})+"</button>"}getSubtitleText(){var t=this.chart.options.subtitle;return y(t&&t.text||"",this.chart.renderer.forExport)}getEndOfChartMarkerText(){const t=this.chart,e=t.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:t}),i="highcharts-end-of-chart-marker-"+t.index;return'<div id="'+i+'">'+e+"</div>"}onDataTableCreated(t){var e=this.chart;if(e.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const i=t.tree.attributes||{};i.tabindex=-1,i.summary=e.langFormat("accessibility.table.tableSummary",{chart:e}),t.tree.attributes=i}}focusDataTable(){const t=this.dataTableDiv,e=t&&t.getElementsByTagName("table")[0];e&&e.focus&&e.focus()}initSonifyButton(t){const e=this.sonifyButton=v(t),i=this.chart,n=t=>{e&&(e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label","")),t.preventDefault(),t.stopPropagation();t=i.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:i});this.announcer.announce(t),setTimeout(()=>{e&&(e.removeAttribute("aria-hidden"),e.removeAttribute("aria-label")),i.sonify&&i.sonify()},1e3)};e&&i&&(e.setAttribute("tabindex",-1),e.onclick=function(t){const e=i.options.accessibility&&i.options.accessibility.screenReaderSection.onPlayAsSoundClick;(e||n).call(this,t,i)})}initDataTableButton(t){const e=this.viewDataTableButton=v(t),i=this.chart,n=t.replace("hc-linkto-","");e&&(w(e,{tabindex:-1,"aria-expanded":!!v(n)}),e.onclick=i.options.accessibility.screenReaderSection.onViewDataTableClick||function(){i.viewData()})}getAxesDescription(){function t(t,e){return 1<(t=i[t]).length||t[0]&&C(t[0].options.accessibility&&t[0].options.accessibility.enabled,e)}const i=this.chart,e=!!i.types&&i.types.indexOf("map")<0&&i.types.indexOf("treemap")<0&&i.types.indexOf("tilemap")<0,n=!!i.hasCartesianSeries,o=t("xAxis",!i.angular&&n&&e),s=t("yAxis",n&&e),r={};return o&&(r.xAxis=this.getAxisDescriptionText("xAxis")),s&&(r.yAxis=this.getAxisDescriptionText("yAxis")),r}getAxisDescriptionText(t){const e=this.chart,i=e[t];return e.langFormat("accessibility.axis."+t+"Description"+(1<i.length?"Plural":"Singular"),{chart:e,names:i.map(function(t){return d(t)}),ranges:i.map(function(t){return u(t)}),numAxes:i.length})}destroy(){this.announcer&&this.announcer.destroy()}}return T}),e(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(i,n,t,e,o,s){const r=n["attr"],{getChartTitle:a,unhideChartElementFromAT:l}=o,c=s["getFakeMouseEvent"];function h(t){return t.exportSVGElements&&t.exportSVGElements[0]}class d extends t{init(){const t=this.chart,e=this;this.addEvent(t,"exportMenuShown",function(){e.onMenuShown()}),this.addEvent(t,"exportMenuHidden",function(){e.onMenuHidden()}),this.createProxyGroup()}onMenuHidden(){const t=this.chart.exportContextMenu;t&&t.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){var t=this.chart,e=t.exportContextMenu;e&&(this.addAccessibleContextMenuAttribs(),l(t,e)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(t){this.exportButtonProxy&&this.exportButtonProxy.innerElement.setAttribute("aria-expanded",t)}onChartRender(){const t=this.chart,e=t.focusElement,i=t.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&e&&e===t.exportingGroup&&(e.focusBorder?t.setFocusToElement(e,this.exportButtonProxy.innerElement):i&&i.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const t=this.chart,e=this.proxyProvider;var i,n,o=h(t);i=t,n=i.options.exporting,i=h(i),n&&!1!==n.enabled&&n.accessibility&&n.accessibility.enabled&&i&&i.element&&o&&(this.exportButtonProxy=e.addProxyElement("chartMenu",{click:o},"button",{"aria-label":t.langFormat("accessibility.exporting.menuButtonLabel",{chart:t,chartTitle:a(t)}),"aria-expanded":!1,title:t.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu")}addAccessibleContextMenuAttribs(){const t=this.chart,e=t.exportDivElements;var i;e&&e.length&&(e.forEach(t=>{t&&("LI"!==t.tagName||t.children&&t.children.length?t.setAttribute("aria-hidden","true"):t.setAttribute("tabindex",-1))}),(i=e[0]&&e[0].parentNode)&&r(i,{"aria-hidden":void 0,"aria-label":t.langFormat("accessibility.exporting.chartMenuLabel",{chart:t}),role:"list"}))}getKeyboardNavigation(){const t=this.keyCodes,i=this.chart,n=this;return new e(i,{keyCodeMap:[[[t.left,t.up],function(){return n.onKbdPrevious(this)}],[[t.right,t.down],function(){return n.onKbdNext(this)}],[[t.enter,t.space],function(){return n.onKbdClick(this)}]],validate:function(){return!!i.exporting&&!1!==i.options.exporting.enabled&&!1!==i.options.exporting.accessibility.enabled},init:function(){var t=n.exportButtonProxy,e=n.chart.exportingGroup;t&&e&&i.setFocusToElement(e,t.innerElement)},terminate:function(){i.hideExportMenu()}})}onKbdPrevious(t){const e=this.chart;var i=e.options.accessibility,n=t.response;let o=e.highlightedExportItemIx||0;for(;o--;)if(e.highlightExportItem(o))return n.success;return i.keyboardNavigation.wrapAround?(e.highlightLastExportItem(),n.success):n.prev}onKbdNext(t){const e=this.chart;var i=e.options.accessibility,n=t.response;for(let t=(e.highlightedExportItemIx||0)+1;t<e.exportDivElements.length;++t)if(e.highlightExportItem(t))return n.success;return i.keyboardNavigation.wrapAround?(e.highlightExportItem(0),n.success):n.next}onKbdClick(t){const e=this.chart;var i=e.exportDivElements[e.highlightedExportItemIx],n=h(e).element;return e.openMenu?this.fakeClickEvent(i):(this.fakeClickEvent(n),e.highlightExportItem(0)),t.response.success}}{o=d=d||{};const b=[];function u(){var t=h(this);if(t){const e=t.element;e.onclick&&e.onclick(c("click"))}}function p(){const t=this,e=t.exportDivElements;e&&t.exportContextMenu&&t.openMenu&&(e.forEach(t=>{t&&"highcharts-menu-item"===t.className&&t.onmouseout&&t.onmouseout(c("mouseout"))}),t.highlightedExportItemIx=0,t.exportContextMenu.hideMenu(),t.container.focus())}function g(t){const e=this.exportDivElements&&this.exportDivElements[t],i=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];var n;return!(!e||"LI"!==e.tagName||e.children&&e.children.length)&&(n=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus,e.focus&&n&&e.focus(),i&&i.onmouseout&&i.onmouseout(c("mouseout")),e.onmouseover&&e.onmouseover(c("mouseover")),this.highlightedExportItemIx=t,!0)}function m(){if(this.exportDivElements){let t=this.exportDivElements.length;for(;t--;)if(this.highlightExportItem(t))return!0}return!1}o.compose=function(t){if(n.pushUnique(b,t)){const e=i.prototype;e.hideExportMenu=p,e.highlightExportItem=g,e.highlightLastExportItem=m,e.showExportMenu=u}}}return d}),e(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(e,i,n,o,t){const{doc:s,win:a}=e,{addEvent:r,fireEvent:l}=n,{getElement:c,simulatedEventTarget:h}=t;class d{constructor(t,e){this.chart=void 0,this.components=void 0,this.currentModuleIx=NaN,this.eventProvider=void 0,this.exitAnchor=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(t,e)}init(e,t){const i=this.eventProvider=new o;this.chart=e,this.components=t,this.modules=[],this.currentModuleIx=0,this.update(),i.addEvent(this.tabindexContainer,"keydown",t=>this.onKeydown(t)),i.addEvent(this.tabindexContainer,"focus",t=>this.onFocus(t)),["mouseup","touchend"].forEach(t=>i.addEvent(s,t,t=>this.onMouseUp(t))),["mousedown","touchstart"].forEach(t=>i.addEvent(e.renderTo,t,()=>{this.isClickingChart=!0}))}update(t){const e=this.chart.options.accessibility,i=e&&e.keyboardNavigation,n=this.components;this.updateContainerTabindex(),i&&i.enabled&&t&&t.length?(this.modules=t.reduce(function(t,e){e=n[e].getKeyboardNavigation();return t.concat(e)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){var t="highcharts-end-of-chart-marker-"+this.chart.index,t=c(t);this.removeExitAnchor(),t?(this.makeElementAnExitAnchor(t),this.exitAnchor=t):this.createExitAnchor()}move(t){const e=this.modules&&this.modules[this.currentModuleIx],i=(e&&e.terminate&&e.terminate(t),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=t,this.modules&&this.modules[this.currentModuleIx]);if(i){if(i.validate&&!i.validate())return this.move(t);if(i.init)return i.init(t),!0}return this.currentModuleIx=0,this.exiting=!0,0<t?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(t){const e=this.chart,i=t.relatedTarget&&e.container.contains(t.relatedTarget),n=e.options.accessibility,o=n&&n.keyboardNavigation,s=o&&o.enabled;!s||this.exiting||this.tabbingInBackwards||this.isClickingChart||i||null!==(t=this.getFirstValidModuleIx())&&(this.currentModuleIx=t,this.modules[t].init(1)),this.exiting=!1}onMouseUp(t){if(delete this.isClickingChart,!this.keyboardReset&&t.relatedTarget!==h){const e=this.chart;if(!t.target||!e.container.contains(t.target)){const i=this.modules&&this.modules[this.currentModuleIx||0];i&&i.terminate&&i.terminate(),this.currentModuleIx=0}e.focusElement&&(e.focusElement.removeFocusBorder(),delete e.focusElement),this.keyboardReset=!0}}onKeydown(t){const e=t||a.event,i=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let n;const o=e.target;o&&"INPUT"===o.nodeName&&!o.classList.contains("highcharts-a11y-proxy-element")||(this.keyboardReset=!1,this.exiting=!1,i&&((t=i.run(e))===i.response.success?n=!0:t===i.response.prev?n=this.move(-1):t===i.response.next&&(n=this.move(1)),n&&(e.preventDefault(),e.stopPropagation())))}updateContainerTabindex(){const t=this.chart.options.accessibility,e=t&&t.keyboardNavigation,i=!(e&&!1===e.enabled),n=this.chart,o=n.container;let s;s=n.renderTo.hasAttribute("tabindex")?(o.removeAttribute("tabindex"),n.renderTo):o;var r=(this.tabindexContainer=s).getAttribute("tabindex");i&&!r?s.setAttribute("tabindex","0"):i||n.container.removeAttribute("tabindex")}createExitAnchor(){const t=this.chart,e=this.exitAnchor=s.createElement("div");t.renderTo.appendChild(e),this.makeElementAnExitAnchor(e)}makeElementAnExitAnchor(t){var e=this.tabindexContainer.getAttribute("tabindex")||0;t.setAttribute("class","highcharts-exit-anchor"),t.setAttribute("tabindex",e),t.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(t)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(t){const s=this.chart,r=this;this.eventProvider.addEvent(t,"focus",function(t){const e=t||a.event,i=e.relatedTarget&&s.container.contains(e.relatedTarget),n=!(i||r.exiting);if(s.focusElement&&delete s.focusElement,n){if(r.tabbingInBackwards=!0,r.tabindexContainer.focus(),delete r.tabbingInBackwards,e.preventDefault(),r.modules&&r.modules.length){r.currentModuleIx=r.modules.length-1;const o=r.modules[r.currentModuleIx];o&&o.validate&&!o.validate()?r.move(-1):o&&o.init(-1)}}else r.exiting=!1})}getFirstValidModuleIx(){var e=this.modules.length;for(let t=0;t<e;++t){const i=this.modules[t];if(!i.validate||i.validate())return t}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}{t=d=d||{};const g=[];function u(){const t=this;l(this,"dismissPopupContent",{},function(){t.tooltip&&t.tooltip.hide(0),t.hideExportMenu()})}function p(t){27===(t.which||t.keyCode)&&e.charts&&e.charts.forEach(t=>{t&&t.dismissPopupContent&&t.dismissPopupContent()})}t.compose=function(t){if(i.compose(t),n.pushUnique(g,t)){const e=t.prototype;e.dismissPopupContent=u}return n.pushUnique(g,s)&&r(s,"keydown",p),t}}return d}),e(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e,i,n,o,s,r,a){const l=t["animObject"],c=e["doc"],{addEvent:h,fireEvent:d,isNumber:u,pick:p,syncTimeout:g}=n,m=r["getChartTitle"],{stripHTMLTagsFromString:b,addClass:x,removeClass:v}=a;function f(t){var e=t.legend&&t.legend.allItems,i=t.options.legend.accessibility||{},t=t.colorAxis&&t.colorAxis.some(t=>!t.dataClasses||!t.dataClasses.length);return e&&e.length&&!t&&!1!==i.enabled}function y(t,e){var i=e.legendItem||{};e.setState(t?"hover":"",!0);for(const o of["group","label","symbol"]){var n=i[o],n=n&&n.element||n;n&&d(n,t?"mouseover":"mouseout")}}class A extends o{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const e=this;this.recreateProxies(),this.addEvent(i,"afterScroll",function(){this.chart===e.chart&&(e.proxyProvider.updateGroupProxyElementPositions("legend"),e.updateLegendItemProxyVisibility(),-1<e.highlightedLegendItemIx&&this.chart.highlightLegendItem(e.highlightedLegendItemIx))}),this.addEvent(i,"afterPositionItem",function(t){this.chart===e.chart&&this.chart.renderer&&e.updateProxyPositionForItem(t.item)}),this.addEvent(i,"afterRender",function(){this.chart===e.chart&&this.chart.renderer&&e.recreateProxies()&&g(()=>e.proxyProvider.updateGroupProxyElementPositions("legend"),l(p(this.chart.renderer.globalAnimation,!0)).duration)})}updateLegendItemProxyVisibility(){const s=this.chart,r=s.legend,t=r.allItems||[],a=r.currentPage||1,l=r.clipHeight||0;let c;t.forEach(e=>{if(e.a11yProxyElement){var i,n=r.pages&&r.pages.length;const o=e.a11yProxyElement.element;let t=!1;c=e.legendItem||{},n&&(e=c.pageIx||0,n=c.y||0,i=c.label?Math.round(c.label.getBBox().height):0,t=n+i-r.pages[e]>l||e!==a-1),t?s.styledMode?x(o,"highcharts-a11y-invisible"):o.style.visibility="hidden":(v(o,"highcharts-a11y-invisible"),o.style.visibility="")}})}onChartRender(){f(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(t){const e=this.chart;var i=e.legend,n=(i.currentPage||1)+t,t=i.pages||[];if(0<n&&n<=t.length){let t=0;for(const o of i.allItems)((o.legendItem||{}).pageIx||0)+1===n&&e.highlightLegendItem(t)&&(this.highlightedLegendItemIx=t),++t}}updateProxyPositionForItem(t){t.a11yProxyElement&&t.a11yProxyElement.refreshPosition()}recreateProxies(){var t=c.activeElement;const e=this.proxyGroup;t=t&&e&&e.contains(t);return this.removeProxies(),!!f(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),t&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){const t=this.chart;var e=b((t.legend&&t.legend.options.title&&t.legend.options.title.text||"").replace(/<br ?\/?>/g," "),t.renderer.forExport),e=t.langFormat("accessibility.legend.legendLabel"+(e?"":"NoTitle"),{chart:t,legendTitle:e,chartTitle:m(t)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":e})}addLegendProxyGroup(){var t="all"===this.chart.options.accessibility.landmarkVerbosity?"region":null;this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:t})}proxyLegendItems(){const e=this,t=(this.chart.legend||{}).allItems||[];let i;t.forEach(t=>{(i=t.legendItem||{}).label&&i.label.element&&e.proxyLegendItem(t)})}proxyLegendItem(t){var e,i,n=t.legendItem||{};n.label&&n.group&&(e=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:b(t.name,this.chart.renderer.forExport),item:t}),e={tabindex:-1,"aria-pressed":t.visible,"aria-label":e},i=n.group.div?n.label:n.group,t.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:n.label,visual:i.element},"button",e))}getKeyboardNavigation(){const e=this.keyCodes,i=this,t=this.chart;return new s(t,{keyCodeMap:[[[e.left,e.right,e.up,e.down],function(t){return i.onKbdArrowKey(this,t)}],[[e.enter,e.space],function(){return i.onKbdClick(this)}],[[e.pageDown,e.pageUp],function(t){t=t===e.pageDown?1:-1;return i.highlightAdjacentLegendPage(t),this.response.success}]],validate:function(){return i.shouldHaveLegendNavigation()},init:function(){t.highlightLegendItem(0),i.highlightedLegendItemIx=0},terminate:function(){i.highlightedLegendItemIx=-1,t.legend.allItems.forEach(t=>y(!1,t))}})}onKbdArrowKey(t,e){const i=this.keyCodes,n=t.response,o=this.chart,s=o.options.accessibility,r=o.legend.allItems.length,a=e===i.left||e===i.up?-1:1;return o.highlightLegendItem(this.highlightedLegendItemIx+a)?this.highlightedLegendItemIx+=a:1<r&&s.keyboardNavigation.wrapAround&&t.init(a),n.success}onKbdClick(t){const e=this.chart.legend.allItems[this.highlightedLegendItemIx];return e&&e.a11yProxyElement&&e.a11yProxyElement.click(),t.response.success}shouldHaveLegendNavigation(){if(!f(this.chart))return!1;var t=this.chart,e=(t.options.legend||{}).accessibility||{};return!!(t.legend.display&&e.keyboardNavigation&&e.keyboardNavigation.enabled)}destroy(){this.removeProxies()}}{t=A=A||{};const E=[];function w(t){var e=this.legend.allItems,i=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,n=e[t],o=n.legendItem||{};return!!n&&(u(i)&&e[i]&&y(!1,e[i]),e=this.legend,i=t,i=(e.allItems[i].legendItem||{}).pageIx,t=e.currentPage,void 0!==i&&i+1!==t&&e.scroll(1+i-t),e=o.label,i=n.a11yProxyElement&&n.a11yProxyElement.innerElement,e&&e.element&&i&&this.setFocusToElement(e,i),y(!0,n),!0)}function C(t){const e=this.chart,i=e.options.accessibility,n=t.item;i.enabled&&n&&n.a11yProxyElement&&n.a11yProxyElement.innerElement.setAttribute("aria-pressed",t.visible?"true":"false")}t.compose=function(t,e){if(n.pushUnique(E,t)){const i=t.prototype;i.highlightLegendItem=w}n.pushUnique(E,e)&&h(e,"afterColorizeItem",C)}}return A}),e(t,"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],function(t,e){const h=t["isTouchDevice"],{addEvent:i,correctFloat:l,defined:d,isNumber:c,pick:u}=e,n=[];function o(){this.navigatorAxis||(this.navigatorAxis=new r(this))}function s(t){const e=this,i=e.chart,n=i.options,o=n.navigator,s=e.navigatorAxis,r=i.zooming.pinchType,a=n.rangeSelector,l=i.zooming.type;var c;e.isXAxis&&(o&&o.enabled||a&&a.enabled)&&("y"===l?t.zoomed=!1:(!h&&"xy"===l||h&&"xy"===r)&&e.options.range&&(c=s.previousZoom,d(t.newMin)?s.previousZoom=[e.min,e.max]:c&&(t.newMin=c[0],t.newMax=c[1],s.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()}class r{static compose(t){e.pushUnique(n,t)&&(t.keepProps.push("navigatorAxis"),i(t,"init",o),i(t,"zoom",s))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,n){const o=this.axis,s=o.chart;let r=u(i,o.translate(t,!0,!o.horiz)),a=u(n,o.translate(e,!0,!o.horiz));t=s&&s.fixedRange,e=(o.pointRange||0)/2;return d(i)||(r=l(r+e)),d(n)||(a=l(a-e)),t&&o.dataMin&&o.dataMax&&(r=a>=o.dataMax?l(o.dataMax-t):r)<=o.dataMin&&(a=l(o.dataMin+t)),{min:r=c(r)&&c(a)?r:a=void 0,max:a}}}return class{static compose(t){e.pushUnique(n,t)&&(t.keepProps.push("navigatorAxis"),i(t,"init",o),i(t,"zoom",s))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,n){const o=this.axis,s=o.chart;let r=u(i,o.translate(t,!0,!o.horiz)),a=u(n,o.translate(e,!0,!o.horiz));return t=s&&s.fixedRange,e=(o.pointRange||0)/2,d(i)||(r=l(r+e)),d(n)||(a=l(a-e)),t&&o.dataMin&&o.dataMax&&(r=a>=o.dataMax?l(o.dataMax-t):r)<=o.dataMin&&(a=l(o.dataMin+t)),{min:r=c(r)&&c(a)?r:a=void 0,max:a}}}}),e(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],function(t,e){const i=t["parse"];t=e.seriesTypes;return{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:i("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===t.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),e(t,"Stock/Navigator/NavigatorSymbols.js",[],function(){return{"navigator-handle":function(t,e,i,n,o={}){var i=o.width?o.width/2:i,s=Math.round(i/3)+.5;return[["M",-i-1,.5],["L",i,.5],["L",i,(n=o.height||n)+.5],["L",-i-1,n+.5],["L",-i-1,.5],["M",-s,4],["L",-s,n-3],["M",s-1,4],["L",s-1,n-3]]}}}),e(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],function(t,e,s,r,a,i,l){const{defaultOptions:c,setOptions:h}=t,n=e["isTouchDevice"],d=i["getRendererType"],{addEvent:u,extend:p,merge:o,pick:g}=l,m=[];let b;function x(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function v(){const t=this.legend,e=this.navigator;let i,n,o;var s,r;e&&(i=t&&t.options,n=e.xAxis,o=e.yAxis,{scrollbarHeight:s,scrollButtonSize:r}=e,this.inverted?(e.left=e.opposite?this.chartWidth-s-e.height:this.spacing[3]+s,e.top=this.plotTop+r):(e.left=g(n.left,this.plotLeft+r),e.top=e.navigatorOptions.top||this.chartHeight-e.height-s-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(i&&"bottom"===i.verticalAlign&&"proximate"!==i.layout&&i.enabled&&!i.floating?t.legendHeight+g(i.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),n&&o&&(this.inverted?n.options.left=o.options.left=e.left:n.options.top=o.options.top=e.top,n.setAxisSize(),o.setAxisSize()))}function f(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new b(this),g(t.redraw,!0)&&this.redraw(t.animation))}function y(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new b(this))}function A(){var t=this.options,e=t.navigator,t=t.rangeSelector;if((e&&e.enabled||t&&t.enabled)&&(!n&&"x"===this.zooming.type||n&&"x"===this.zooming.pinchType))return!1}function w(t){const e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))}function C(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(o(!0,this.options.navigator,e),o(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}function E(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(t,e,i,n){if(s.compose(t),b=i,l.pushUnique(m,e)){const o=e.prototype;o.callbacks.push(w),u(e,"afterAddSeries",x),u(e,"afterSetChartSize",v),u(e,"afterUpdate",f),u(e,"beforeRender",y),u(e,"beforeShowResetZoom",A),u(e,"update",C)}l.pushUnique(m,n)&&u(n,"afterUpdate",E),l.pushUnique(m,d)&&p(d().prototype.symbols,a),l.pushUnique(m,h)&&p(c,{navigator:r})}}}),e(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],function(t){const{addEvent:n,defined:h,pick:o,pushUnique:s}=t;var e;{t=e=e||{};const c=[];let i;function d(t){var e=o(t.options&&t.options.min,t.min),i=o(t.options&&t.options.max,t.max);return{axisMin:e,axisMax:i,scrollMin:h(t.dataMin)?Math.min(e,t.min,t.dataMin,o(t.threshold,1/0)):e,scrollMax:h(t.dataMax)?Math.max(i,t.max,t.dataMax,o(t.threshold,-1/0)):i}}function r(){var t=this.scrollbar,e=t&&!t.options.opposite,e=this.horiz?2:e?3:1;t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=t.size+(t.options.margin||0))}function a(){const a=this;a.options&&a.options.scrollbar&&a.options.scrollbar.enabled&&(a.options.scrollbar.vertical=!a.horiz,a.options.startOnTick=a.options.endOnTick=!1,a.scrollbar=new i(a.chart.renderer,a.options.scrollbar,a.chart),n(a.scrollbar,"changed",function(t){var{axisMin:e,axisMax:i,scrollMin:n,scrollMax:o}=d(a),o=o-n;let s,r;h(e)&&h(i)&&(r=a.horiz&&!a.reversed||!a.horiz&&a.reversed?(s=n+o*this.to,n+o*this.from):(s=n+o*(1-this.from),n+o*(1-this.to)),this.shouldUpdateExtremes(t.DOMType)?(e="mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&void 0,a.setExtremes(r,s,!0,e,t)):this.setRange(this.from,this.to))}))}function l(){const e=this,{scrollMin:t,scrollMax:i}=d(e),n=e.scrollbar,o=e.axisTitleMargin+(e.titleOffset||0),s=e.chart.scrollbarsOffsets,r=e.options.margin||0;let a,l,c;if(n&&s){if(e.horiz)e.opposite||(s[1]+=o),n.position(e.left,e.top+e.height+2+s[1]-(e.opposite?r:0),e.width,e.height),e.opposite||(s[1]+=r),a=1;else{e.opposite&&(s[0]+=o);let t;t=n.options.opposite?e.left+e.width+2+s[0]-(e.opposite?0:r):e.opposite?0:r,n.position(t,e.top,e.width,e.height),e.opposite&&(s[0]+=r),a=0}s[a]+=n.size+(n.options.margin||0),isNaN(t)||isNaN(i)||!h(e.min)||!h(e.max)||e.min===e.max?n.setRange(0,1):(l=(e.min-t)/(i-t),c=(e.max-t)/(i-t),e.horiz&&!e.reversed||!e.horiz&&e.reversed?n.setRange(l,c):n.setRange(1-c,1-l))}}t.compose=function(t,e){s(c,e)&&(i=e),s(c,t)&&(n(t,"afterGetOffset",r),n(t,"afterInit",a),n(t,"afterRender",l))}}return e}),e(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],function(t){var{}=t;return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}}),e(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],function(t,l,e,o,i){const s=t["defaultOptions"],{addEvent:c,correctFloat:d,defined:u,destroyObjectProperties:n,fireEvent:r,merge:a,pick:h,removeEvent:p}=i;class g{static compose(t){e.compose(t,g)}static swapXY(t,e){return e&&t.forEach(e=>{var i,n=e.length;for(let t=0;t<n;t+=2)"number"==typeof(i=e[t+1])&&(e[t+1]=e[t+2],e[t+2]=i)}),t}constructor(t,e,i){this._events=[],this.chart=void 0,this.chartX=0,this.chartY=0,this.from=0,this.group=void 0,this.options=void 0,this.renderer=void 0,this.scrollbar=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.x=0,this.y=0,this.init(t,e,i)}addEvents(){var t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,n=this.track.element,o=this.mouseDownHandler.bind(this),s=this.mouseMoveHandler.bind(this),r=this.mouseUpHandler.bind(this);const a=[[e[t[0]].element,"click",this.buttonToMinClick.bind(this)],[e[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[n,"click",this.trackClick.bind(this)],[i,"mousedown",o],[i.ownerDocument,"mousemove",s],[i.ownerDocument,"mouseup",r]];l.hasTouch&&a.push([i,"touchstart",o],[i.ownerDocument,"touchmove",s],[i.ownerDocument,"touchend",r]),a.forEach(function(t){c.apply(null,t)}),this._events=a}buttonToMaxClick(t){var e=this,i=(e.to-e.from)*h(e.options.step,.2);e.updatePosition(e.from+i,e.to+i),r(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){var e=this,i=d(e.to-e.from)*h(e.options.step,.2);e.updatePosition(d(e.from-i),d(e.to-i)),r(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){var e=this,i=e.options,i=i.minWidth>e.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-e.x-e.xOffset)/(e.barWidth-i),chartY:(t.chartY-e.y-e.yOffset)/(e.barWidth-i)}}destroy(){const e=this,t=e.chart.scroller;e.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){e[t]&&e[t].destroy&&(e[t]=e[t].destroy())}),t&&e===t.scrollbar&&(t.scrollbar=null,n(t.scrollbarButtons))}drawScrollbarButton(t){const e=this,i=e.renderer,n=e.scrollbarButtons,o=e.options,s=e.size,r=i.g().add(e.group);if(n.push(r),o.buttonsEnabled){const a=i.rect().addClass("highcharts-scrollbar-button").add(r),l=(e.chart.styledMode||a.attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),a.attr(a.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:o.buttonBorderRadius},a.strokeWidth())),i.path(g.swapXY([["M",s/2+(t?-1:1),s/2-3],["L",s/2+(t?-1:1),s/2+3],["L",s/2+(t?2:-2),s/2]],o.vertical)).addClass("highcharts-scrollbar-arrow").add(n[t]));e.chart.styledMode||l.attr({fill:o.buttonArrowColor})}}init(t,e,i){var n=this;n.scrollbarButtons=[],n.renderer=t,n.userOptions=e,n.options=a(o,s.scrollbar,e),n.options.margin=h(n.options.margin,10),n.chart=i,n.size=h(n.options.size,n.options.height),e.enabled&&(n.render(),n.addEvents())}mouseDownHandler(t){var e=this,t=e.chart.pointer.normalize(t),t=e.cursorToScrollbarPosition(t);e.chartX=t.chartX,e.chartY=t.chartY,e.initPositions=[e.from,e.to],e.grabbedCenter=!0}mouseMoveHandler(t){var e=this,i=e.chart.pointer.normalize(t),n=e.options.vertical?"chartY":"chartX",o=e.initPositions||[];!e.grabbedCenter||t.touches&&0===t.touches[0][n]||(i=e.cursorToScrollbarPosition(i)[n]-e[n],e.hasDragged=!0,e.updatePosition(o[0]+i,o[1]+i),e.hasDragged&&r(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){var e=this;e.hasDragged&&r(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),e.grabbedCenter=e.hasDragged=e.chartX=e.chartY=null}position(t,e,i,n){var o=this,{buttonsEnabled:s,margin:r=0,vertical:a}=o.options,l=o.rendered?"animate":"attr";let c=n,h=0;o.group.show(),o.x=t,o.y=e+this.trackBorderWidth,o.width=i,o.height=n,o.xOffset=c,o.yOffset=h,a?(o.width=o.yOffset=i=h=o.size,o.xOffset=c=0,o.yOffset=h=s?o.size:0,o.barWidth=n-(s?2*i:0),o.x=t+=r):(o.height=n=o.size,o.xOffset=c=s?o.size:0,o.barWidth=i-(s?2*n:0),o.y=o.y+r),o.group[l]({translateX:t,translateY:o.y}),o.track[l]({width:i,height:n}),o.scrollbarButtons[1][l]({translateX:a?0:i-c,translateY:a?n-h:0})}removeEvents(){this._events.forEach(function(t){p.apply(null,t)}),this._events.length=0}render(){const t=this,e=t.renderer,i=t.options,n=t.size,o=t.chart.styledMode,s=e.g("scrollbar").attr({zIndex:i.zIndex}).hide().add();t.group=s,t.track=e.rect().addClass("highcharts-scrollbar-track").attr({r:i.trackBorderRadius||0,height:n,width:n}).add(s),o||t.track.attr({fill:i.trackBackgroundColor,stroke:i.trackBorderColor,"stroke-width":i.trackBorderWidth});var r=t.trackBorderWidth=t.track.strokeWidth();t.track.attr({x:-r%2/2,y:-r%2/2}),t.scrollbarGroup=e.g().add(s),t.scrollbar=e.rect().addClass("highcharts-scrollbar-thumb").attr({height:n-r,width:n-r,r:i.barBorderRadius||0}).add(t.scrollbarGroup),t.scrollbarRifles=e.path(g.swapXY([["M",-3,n/4],["L",-3,2*n/3],["M",0,n/4],["L",0,2*n/3],["M",3,n/4],["L",3,2*n/3]],i.vertical)).addClass("highcharts-scrollbar-rifles").add(t.scrollbarGroup),o||(t.scrollbar.attr({fill:i.barBackgroundColor,stroke:i.barBorderColor,"stroke-width":i.barBorderWidth}),t.scrollbarRifles.attr({stroke:i.rifleColor,"stroke-width":1})),t.scrollbarStrokeWidth=t.scrollbar.strokeWidth(),t.scrollbarGroup.translate(-t.scrollbarStrokeWidth%2/2,-t.scrollbarStrokeWidth%2/2),t.drawScrollbarButton(0),t.drawScrollbarButton(1)}setRange(i,n){var o=this,s=o.options,r=s.vertical,a=s.minWidth,l=o.barWidth,c=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(u(l)){var h=l*Math.min(n,1);let t,e;i=Math.max(i,0),t=Math.ceil(l*i),o.calculatedWidth=e=d(h-t),e<a&&(t=(l-a+e)*i,e=a);h=Math.floor(t+o.xOffset+o.yOffset),l=e/2-.5;o.from=i,o.to=n,r?(o.scrollbarGroup[c]({translateY:h}),o.scrollbar[c]({height:e}),o.scrollbarRifles[c]({translateY:l}),o.scrollbarTop=h,o.scrollbarLeft=0):(o.scrollbarGroup[c]({translateX:h}),o.scrollbar[c]({width:e}),o.scrollbarRifles[c]({translateX:l}),o.scrollbarLeft=h,o.scrollbarTop=0),e<=12?o.scrollbarRifles.hide():o.scrollbarRifles.show(),!1===s.showFull&&(i<=0&&1<=n?o.group.hide():o.group.show()),o.rendered=!0}}shouldUpdateExtremes(t){return h(this.options.liveRedraw,l.svg&&!l.isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!u(t)}trackClick(t){var e=this,i=e.chart.pointer.normalize(t),n=e.to-e.from,o=e.y+e.scrollbarTop,s=e.x+e.scrollbarLeft;e.options.vertical&&i.chartY>o||!e.options.vertical&&i.chartX>s?e.updatePosition(e.from+n,e.to+n):e.updatePosition(e.from-n,e.to-n),r(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,a(!0,this.options,t),this.chart)}updatePosition(t,e){1<e&&(t=d(1-d(e-t)),e=1),t<0&&(e=d(e-t),t=0),this.from=t,this.to=e}}return g.defaultOptions=o,s.scrollbar=a(!0,g.defaultOptions,s.scrollbar),g}),e(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],function(m,t,e,b,n,x,i){const g=t["defaultOptions"],{hasTouch:r,isTouchDevice:c}=e,{addEvent:v,clamp:C,correctFloat:E,defined:T,destroyObjectProperties:o,erase:s,extend:f,find:a,fireEvent:M,isArray:y,isNumber:S,merge:A,pick:k,removeEvent:w,splat:P}=i;function D(t,...e){e=[].filter.call(e,S);if(e.length)return Math[t].apply(0,e)}return class l{static compose(t,e,i){n.compose(t,e,l,i)}constructor(t){this.baseSeries=void 0,this.chart=void 0,this.handles=void 0,this.height=void 0,this.left=void 0,this.navigatorEnabled=void 0,this.navigatorGroup=void 0,this.navigatorOptions=void 0,this.navigatorSeries=void 0,this.navigatorSize=void 0,this.opposite=void 0,this.outline=void 0,this.range=void 0,this.rendered=void 0,this.scrollbarHeight=0,this.scrollButtonSize=void 0,this.shades=void 0,this.size=void 0,this.top=void 0,this.xAxis=void 0,this.yAxis=void 0,this.zoomedMax=void 0,this.zoomedMin=void 0,this.init(t)}drawHandle(t,e,i,n){var o=this,s=o.navigatorOptions.handles.height;o.handles[e][n](i?{translateX:Math.round(o.left+o.height/2),translateY:Math.round(o.top+parseInt(t,10)+.5-s)}:{translateX:Math.round(o.left+parseInt(t,10)),translateY:Math.round(o.top+o.height/2-s/2-1)})}drawOutline(t,e,i,n){var o=this,s=o.navigatorOptions.maskInside,r=(a=o.outline.strokeWidth())/2,a=a%2/2,l=o.scrollButtonSize,c=o.size,h=o.top,d=o.height,u=h-r,p=h+d;let g=o.left,m,b;i?(m=h+e+a,e=h+t+a,b=[["M",g+d,h-l-a],["L",g+d,m],["L",g,m],["M",g,e],["L",g+d,e],["L",g+d,h+c+l]],s&&b.push(["M",g+d,m-r],["L",g+d,e+r])):(t+=(g-=l)+l-a,e+=g+l-a,b=[["M",g,u],["L",t,u],["L",t,p],["M",e,p],["L",e,u],["L",g+c+2*l,h+r]],s&&b.push(["M",t-r,u],["L",e+r,u])),o.outline[n]({d:b})}drawMasks(t,e,i,n){var o=this,s=o.left,r=o.top,a=o.height;let l,c,h,d;l=i?(h=[s,s,s],d=[r,r+t,r+e],c=[a,a,a],[t,e-t,o.size-e]):(h=[s,s+t,s+e],d=[r,r,r],c=[t,e-t,o.size-e],[a,a,a]),o.shades.forEach((t,e)=>{t[n]({x:h[e],y:d[e],width:c[e],height:l[e]})})}renderElements(){const n=this,o=n.navigatorOptions,t=o.maskInside,s=n.chart,e=s.inverted,r=s.renderer,a={cursor:e?"ns-resize":"ew-resize"},l=n.navigatorGroup=r.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!t,t,!t].forEach((t,e)=>{const i=r.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(l);s.styledMode||(i.attr({fill:t?o.maskFill:"rgba(0,0,0,0)"}),1===e&&i.css(a)),n.shades[e]=i}),n.outline=r.path().addClass("highcharts-navigator-outline").add(l),s.styledMode||n.outline.attr({"stroke-width":o.outlineWidth,stroke:o.outlineColor}),o.handles&&o.handles.enabled){const i=o.handles,{height:c,width:h}=i;[0,1].forEach(t=>{n.handles[t]=r.symbol(i.symbols[t],-h/2-1,0,h,c,i),s.inverted&&n.handles[t].attr({rotation:90,rotationOriginX:Math.floor(-h/2),rotationOriginY:(c+h)/2}),n.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(l),s.styledMode||n.handles[t].attr({fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.lineWidth}).css(a)})}}update(t){(this.series||[]).forEach(t=>{t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy();var e=this.chart.options;A(!0,e.navigator,t),this.init(this.chart)}render(t,e,i,n){const o=this,s=o.chart,r=o.xAxis,a=r.pointRange||0,l=r.navigatorAxis.fake?s.xAxis[0]:r,c=o.navigatorEnabled,h=o.rendered,d=s.inverted,u=s.xAxis[0].minRange,p=s.xAxis[0].options.maxRange,g=o.scrollButtonSize;let m,b,x,v=o.scrollbarHeight,f,y;if(!this.hasDragged||T(i)){if(t=E(t-a/2),e=E(e+a/2),!S(t)||!S(e)){if(!h)return;i=0,n=k(r.width,l.width)}o.left=k(r.left,s.plotLeft+g+(d?s.plotWidth:0));var A=o.size=f=k(r.len,(d?s.plotHeight:s.plotWidth)-2*g),t=(m=d?v:f+2*g,i=k(i,r.toPixels(t,!0)),n=k(n,r.toPixels(e,!0)),S(i)&&Math.abs(i)!==1/0||(i=0,n=m),r.toValue(i,!0)),e=r.toValue(n,!0),w=((w=Math.abs(E(e-t)))<u?this.grabbedLeft?i=r.toPixels(e-u-a,!0):this.grabbedRight&&(n=r.toPixels(t+u+a,!0)):T(p)&&E(w-a)>p&&(this.grabbedLeft?i=r.toPixels(e-p-a,!0):this.grabbedRight&&(n=r.toPixels(t+p+a,!0))),o.zoomedMax=C(Math.max(i,n),0,A),o.zoomedMin=C(o.fixedWidth?o.zoomedMax-o.fixedWidth:Math.min(i,n),0,A),o.range=o.zoomedMax-o.zoomedMin,A=Math.round(o.zoomedMax),Math.round(o.zoomedMin));c&&(o.navigatorGroup.attr({visibility:"inherit"}),y=h&&!o.hasDragged?"animate":"attr",o.drawMasks(w,A,d,y),o.drawOutline(w,A,d,y),o.navigatorOptions.handles.enabled&&(o.drawHandle(w,0,d,y),o.drawHandle(A,1,d,y))),o.scrollbar&&(d?(x=o.top-g,b=o.left-v+(c||!l.opposite?0:(l.titleOffset||0)+l.axisTitleMargin),v=f+2*g):(x=o.top+(c?o.height:-v),b=o.left-g),o.scrollbar.position(b,x,m,v),o.scrollbar.setRange(o.zoomedMin/(f||1),o.zoomedMax/(f||1))),o.rendered=!0,M(this,"afterRender")}}addMouseEvents(){const e=this,t=e.chart,i=t.container;let n=[],o,s;e.mouseMoveHandler=o=function(t){e.onMouseMove(t)},e.mouseUpHandler=s=function(t){e.onMouseUp(t)},(n=e.getPartsEvents("mousedown")).push(v(t.renderTo,"mousemove",o),v(i.ownerDocument,"mouseup",s)),r&&(n.push(v(t.renderTo,"touchmove",o),v(i.ownerDocument,"touchend",s)),n.concat(e.getPartsEvents("touchstart"))),e.eventsToUnbind=n,e.series&&e.series[0]&&n.push(v(e.series[0].xAxis,"foundExtremes",function(){t.navigator.modifyNavigatorAxisExtremes()}))}getPartsEvents(n){const o=this,s=[];return["shades","handles"].forEach(function(i){o[i].forEach(function(t,e){s.push(v(t.element,n,function(t){o[i+"Mousedown"](t,e)}))})}),s}shadesMousedown(t,e){t=this.chart.pointer.normalize(t);const i=this,n=i.chart,o=i.xAxis,s=i.zoomedMin,r=i.size,a=i.range;let l=i.left,c=t.chartX,h,d,u,p;n.inverted&&(c=t.chartY,l=i.top),1===e?(i.grabbedCenter=c,i.fixedWidth=a,i.dragOffset=c-s):(p=c-l-a/2,0===e?p=Math.max(0,p):2===e&&p+a>=r&&(p=r-a,i.reversedExtremes?(p-=a,d=i.getUnionExtremes().dataMin):h=i.getUnionExtremes().dataMax),p!==s&&(i.fixedWidth=a,u=o.navigatorAxis.toFixedRange(p,p+a,d,h),T(u.min)&&n.xAxis[0].setExtremes(Math.min(u.min,u.max),Math.max(u.min,u.max),!0,null,{trigger:"navigator"})))}handlesMousedown(t,e){t=this.chart.pointer.normalize(t);const i=this,n=i.chart,o=n.xAxis[0],s=i.reversedExtremes;0===e?(i.grabbedLeft=!0,i.otherHandlePos=i.zoomedMax,i.fixedExtreme=s?o.min:o.max):(i.grabbedRight=!0,i.otherHandlePos=i.zoomedMin,i.fixedExtreme=s?o.max:o.min),n.fixedRange=null}onMouseMove(t){const e=this,i=e.chart,n=e.navigatorSize,o=e.range,s=e.dragOffset,r=i.inverted;let a=e.left,l;t.touches&&0===t.touches[0].pageX||(t=i.pointer.normalize(t),l=t.chartX,r&&(a=e.top,l=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,l-a,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,l-a)):e.grabbedCenter&&(e.hasDragged=!0,l<s?l=s:l>n+s-o&&(l=n+s-o),e.render(0,0,l-s,l-s+o)),e.hasDragged&&e.scrollbar&&k(e.scrollbar.options.liveRedraw,!c&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))}onMouseUp(t){const e=this,i=e.chart,n=e.xAxis,o=e.scrollbar,s=t.DOMEvent||t,r=i.inverted,a=e.rendered&&!e.hasDragged?"animate":"attr";let l,c,h,d,u,p;(!e.hasDragged||o&&o.hasDragged)&&"scrollbar"!==t.trigger||(h=e.getUnionExtremes(),e.zoomedMin===e.otherHandlePos?d=e.fixedExtreme:e.zoomedMax===e.otherHandlePos&&(u=e.fixedExtreme),e.zoomedMax===e.size&&(u=e.reversedExtremes?h.dataMin:h.dataMax),0===e.zoomedMin&&(d=e.reversedExtremes?h.dataMax:h.dataMin),p=n.navigatorAxis.toFixedRange(e.zoomedMin,e.zoomedMax,d,u),T(p.min)&&i.xAxis[0].setExtremes(Math.min(p.min,p.max),Math.max(p.min,p.max),!0,!e.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:s})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(e.grabbedLeft=e.grabbedRight=e.grabbedCenter=e.fixedWidth=e.fixedExtreme=e.otherHandlePos=e.hasDragged=e.dragOffset=null),e.navigatorEnabled&&S(e.zoomedMin)&&S(e.zoomedMax)&&(c=Math.round(e.zoomedMin),l=Math.round(e.zoomedMax),e.shades&&e.drawMasks(c,l,r,a),e.outline&&e.drawOutline(c,l,r,a),e.navigatorOptions.handles.enabled&&Object.keys(e.handles).length===e.handles.length&&(e.drawHandle(c,0,r,a),e.drawHandle(l,1,r,a)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){w(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&w(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(a){const t=a.options,e=t.navigator||{},i=e.enabled,n=t.scrollbar||{},o=n.enabled,s=i&&e.height||0,r=o&&n.height||0,l=n.buttonsEnabled&&r||0,c=(this.handles=[],this.shades=[],this.chart=a,this.setBaseSeries(),this.height=s,this.scrollbarHeight=r,this.scrollButtonSize=l,this.scrollbarEnabled=o,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=n,this.opposite=k(e.opposite,Boolean(!i&&a.inverted)),this),h=c.baseSeries,d=a.xAxis.length,u=a.yAxis.length,p=h&&h[0]&&h[0].xAxis||a.xAxis[0]||{options:{}};if(a.isDirtyBox=!0,c.navigatorEnabled?(c.xAxis=new m(a,A({breaks:p.options.breaks,ordinal:p.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",type:"datetime",index:d,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},a.inverted?{offsets:[l,0,-l,0],width:s}:{offsets:[0,-l,0,l],height:s}),"xAxis"),c.yAxis=new m(a,A(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:u,isInternal:!0,reversed:k(e.yAxis&&e.yAxis.reversed,a.yAxis[0]&&a.yAxis[0].reversed,!1),zoomEnabled:!1},a.inverted?{width:s}:{height:s}),"yAxis"),h||e.series.data?c.updateNavigatorSeries(!1):0===a.series.length&&(c.unbindRedraw=v(a,"beforeRedraw",function(){0<a.series.length&&!c.series&&(c.setBaseSeries(),c.unbindRedraw())})),c.reversedExtremes=a.inverted&&!c.xAxis.reversed||!a.inverted&&c.xAxis.reversed,c.renderElements(),c.addMouseEvents()):(c.xAxis={chart:a,navigatorAxis:{fake:!0},translate:function(t,e){const i=a.xAxis[0],n=i.getExtremes(),o=i.len-2*l,s=D("min",i.options.min,n.dataMin),r=D("max",i.options.max,n.dataMax)-s;return e?t*r/o+s:o*(t-s)/r},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},c.xAxis.navigatorAxis.axis=c.xAxis,c.xAxis.navigatorAxis.toFixedRange=b.prototype.toFixedRange.bind(c.xAxis.navigatorAxis)),a.options.scrollbar.enabled){const g=A(a.options.scrollbar,{vertical:a.inverted});!S(g.margin)&&c.navigatorEnabled&&(g.margin=a.inverted?-3:3),a.scrollbar=c.scrollbar=new x(a.renderer,g,a),v(c.scrollbar,"changed",function(t){var e=(i=c.size)*this.to,i=i*this.from;c.hasDragged=c.scrollbar.hasDragged,c.render(0,0,i,e),this.shouldUpdateExtremes(t.DOMType)&&setTimeout(function(){c.onMouseUp(t)})})}c.addBaseSeriesEvents(),c.addChartEvents()}getUnionExtremes(t){var e=this.chart.xAxis[0],i=this.xAxis,n=i.options,o=e.options;let s;return s=t&&null===e.dataMin?s:{dataMin:k(n&&n.min,D("min",o.min,e.dataMin,i.dataMin,i.min)),dataMax:k(n&&n.max,D("max",o.max,e.dataMax,i.dataMax,i.max))}}setBaseSeries(i,t){const e=this.chart,n=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?a(e.series,t=>!t.options.isInternal).index:0),(e.series||[]).forEach((t,e)=>{t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||n.push(t)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,t)}updateNavigatorSeries(t,o){const s=this,r=s.chart,a=s.baseSeries,l={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},c=s.series=(s.series||[]).filter(t=>{const e=t.baseSeries;return!(a.indexOf(e)<0&&(e&&(w(e,"updatedData",s.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))});let h,d,u=s.navigatorOptions.series,p;a&&a.length&&a.forEach(t=>{const e=t.navigatorSeries,i=f({color:t.color,visible:t.visible},y(u)?g.navigator.series:u);var n;e&&!1===s.navigatorOptions.adaptToUpdatedData||(l.name="Navigator "+a.length,h=t.options||{},p=h.navigatorOptions||{},i.dataLabels=P(i.dataLabels),(d=A(h,l,i,p)).pointRange=k(i.pointRange,p.pointRange,g.plotOptions[d.type||"line"].pointRange),n=p.data||i.data,s.hasNavigatorData=s.hasNavigatorData||!!n,d.data=n||h.data&&h.data.slice(0),e&&e.options?e.update(d,o):(t.navigatorSeries=r.initSeries(d),t.navigatorSeries.baseSeries=t,c.push(t.navigatorSeries)))}),(!u.data||a&&a.length)&&!y(u)||(s.hasNavigatorData=!1,(u=P(u)).forEach((t,e)=>{l.name="Navigator "+(c.length+1),(d=A(g.navigator.series,{color:r.series[e]&&!r.series[e].options.isInternal&&r.series[e].color||r.options.colors[e]||r.options.colors[0]},l,t)).data=t.data,d.data&&(s.hasNavigatorData=!0,c.push(r.initSeries(d)))})),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&t[0].eventsToUnbind.push(v(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),t.forEach(t=>{t.eventsToUnbind.push(v(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),t.eventsToUnbind.push(v(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&t.eventsToUnbind.push(v(t,"updatedData",this.updatedDataHandler)),t.eventsToUnbind.push(v(t,"remove",function(){this.navigatorSeries&&(s(e.series,this.navigatorSeries),T(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))})}getBaseSeriesMin(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)},t)}modifyNavigatorAxisExtremes(){const t=this.xAxis;var e;void 0===t.getExtremes||!(e=this.getUnionExtremes(!0))||e.dataMin===t.min&&e.dataMax===t.max||(t.min=e.dataMin,t.max=e.dataMax)}modifyBaseAxisExtremes(){const t=this,e=t.chart.navigator,i=t.getExtremes(),n=i.min,o=i.max,s=i.dataMin,r=i.dataMax,a=o-n,l=e.stickToMin,c=e.stickToMax,h=k(t.options.overscroll,0),d=e.series&&e.series[0],u=!!t.setExtremes,p=t.eventArgs&&"rangeSelectorButton"===t.eventArgs.trigger;let g,m;p||(l&&(m=s,g=m+a),c&&(g=r+h,l||(m=Math.max(s,g-a,e.getBaseSeriesMin(d&&d.xData?d.xData[0]:-Number.MAX_VALUE)))),u&&(l||c)&&S(m)&&(t.min=t.userMin=m,t.max=t.userMax=g)),e.stickToMin=e.stickToMax=null}updatedDataHandler(){const t=this.chart.navigator,e=this.navigatorSeries,i=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=k(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){var e=e.getBaseSeriesMin(t.xData[0]),i=(t=t.xAxis).max,n=t.min,t=t.options.range;let o=!0;return o=!(!S(i)||!S(n))&&(t&&0<i-e?i-e<t:n<=e)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(v(this.chart,"redraw",function(){const t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)}),v(this.chart,"getMargins",function(){let t=this,e=t.navigator,i=e.opposite?"plotTop":"marginBottom";t[i=t.inverted?e.opposite?"marginRight":"plotLeft":i]=(t[i]||0)+(e.navigatorEnabled||!t.inverted?e.height+e.scrollbarHeight:0)+e.navigatorOptions.margin}))}destroy(){this.removeEvents(),this.xAxis&&(s(this.chart.xAxis,this.xAxis),s(this.chart.axes,this.xAxis)),this.yAxis&&(s(this.chart.yAxis,this.yAxis),s(this.chart.axes,this.yAxis)),(this.series||[]).forEach(t=>{t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null}),[this.handles].forEach(t=>{o(t)})}}}),e(t,"Accessibility/Components/NavigatorComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Stock/Navigator/Navigator.js"],t["Core/Animation/AnimationUtilities.js"],t["Core/Templating.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(t,i,r,n,e,o,s,a,l){const c=e["animObject"],h=o["format"],{clamp:d,pick:u,syncTimeout:p}=s,g=a["getFakeMouseEvent"],{getAxisRangeDescription:m,fireEventOnWrappedOrUnwrappedElement:b}=l;class x extends t{constructor(){super(...arguments),this.announcer=void 0}init(){const t=this.chart,e=this;this.announcer=new i(t,"polite"),this.addEvent(n,"afterRender",function(){this.chart===e.chart&&this.chart.renderer&&p(()=>{e.proxyProvider.updateGroupProxyElementPositions("navigator"),e.updateHandleValues()},c(u(this.chart.renderer.globalAnimation,!0)).duration)})}onChartUpdate(){const n=this.chart,t=n.options;if(t.navigator.accessibility?.enabled){var e=t.accessibility.landmarkVerbosity,i=t.lang.accessibility?.navigator.groupLabel;this.proxyProvider.removeGroup("navigator"),this.proxyProvider.addGroup("navigator","div",{role:"all"===e?"region":"group","aria-label":h(i,{chart:n},n)});const o=t.lang.accessibility?.navigator.handleLabel;[0,1].forEach(t=>{var e=this.getHandleByIx(t);if(e){const i=this.proxyProvider.addProxyElement("navigator",{click:e},"input",{type:"range","aria-label":h(o,{handleIx:t,chart:n},n)});this[t?"maxHandleProxy":"minHandleProxy"]=i.innerElement,i.innerElement.style.pointerEvents="none",i.innerElement.oninput=()=>this.updateNavigator()}}),this.updateHandleValues()}else this.proxyProvider.removeGroup("navigator")}getNavigatorHandleNavigation(e){const i=this,n=this.chart,o=e?this.maxHandleProxy:this.minHandleProxy,s=this.keyCodes;return new r(n,{keyCodeMap:[[[s.left,s.right,s.up,s.down],function(t){return o&&(t=t===s.left||t===s.up?-1:1,o.value=""+d(parseFloat(o.value)+t,0,100),i.updateNavigator(()=>{var t=i.getHandleByIx(e);t&&n.setFocusToElement(t,o)})),this.response.success}]],init:()=>{n.setFocusToElement(this.getHandleByIx(e),o)},validate:()=>!!(this.getHandleByIx(e)&&o&&n.options.navigator.accessibility?.enabled)})}getKeyboardNavigation(){return[this.getNavigatorHandleNavigation(0),this.getNavigatorHandleNavigation(1)]}destroy(){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.proxyProvider.removeGroup("navigator"),this.announcer&&this.announcer.destroy()}updateHandleValues(){var t,e=this.chart.navigator;e&&this.minHandleProxy&&this.maxHandleProxy&&(t=e.size,this.minHandleProxy.value=""+Math.round(e.zoomedMin/t*100),this.maxHandleProxy.value=""+Math.round(e.zoomedMax/t*100))}getHandleByIx(t){var e=this.chart.navigator;return e&&e.handles&&e.handles[t]}updateNavigator(t){this.updateNavigatorThrottleTimer&&clearTimeout(this.updateNavigatorThrottleTimer),this.updateNavigatorThrottleTimer=setTimeout((t=>{const e=this.chart,n=e.navigator;if(n&&this.minHandleProxy&&this.maxHandleProxy){const o=e.pointer.getChartPosition(),s=parseFloat(this.minHandleProxy.value)/100*n.size,r=parseFloat(this.maxHandleProxy.value)/100*n.size;[[0,"mousedown",n.zoomedMin],[0,"mousemove",s],[0,"mouseup",s],[1,"mousedown",n.zoomedMax],[1,"mousemove",r],[1,"mouseup",r]].forEach(([t,e,i])=>{t=this.getHandleByIx(t)?.element;t&&b(t,g(e,{x:o.left+n.left+i,y:o.top+n.top},t))}),t&&t();var t=e.options.lang.accessibility?.navigator.changeAnnouncement,i=m(e.xAxis[0]);this.announcer.announce(h(t,{axisRangeDescription:i,chart:e},e))}}).bind(this,t),20)}}return x}),e(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Templating.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],function(t,e,i,n,o){const s=t["getPointAnnotationTexts"],{getAxisDescription:r,getSeriesFirstPointElement:p,getSeriesA11yElement:g,unhideChartElementFromAT:m}=e,{format:b,numberFormat:a}=i,{reverseChildNodes:x,stripHTMLTagsFromString:v}=n,{find:l,isNumber:c,isString:d,pick:f,defined:h}=o;function u(t){const e=t.series,i=function(t){const e=t.index;return t.series&&t.series.data&&h(e)&&l(t.series.data,function(t){return!!(t&&void 0!==t.index&&t.index>e&&t.graphic&&t.graphic.element)})||null}(t),n=i&&i.graphic,o=n?n.parentGroup:e.graph||e.group,s=i?{x:f(t.plotX,i.plotX,0),y:f(t.plotY,i.plotY,0)}:{x:f(t.plotX,0),y:f(t.plotY,0)},r=function(t,e){const i=t.series.chart.renderer,n=i.rect(e.x,e.y,1,1);return n.attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),n}(t,s);if(o&&o.element)return t.graphic=r,t.hasMockGraphic=!0,r.add(o),o.element.insertBefore(r.element,n?n.element:null),r.element}function y(t){var e=t.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==e&&t.points&&t.points.length>=+e)}function A(t,e){var t=t.series,i=t.chart,n=i.options.accessibility.point||{},o=t.options.accessibility&&t.options.accessibility.point||{},t=t.tooltipOptions||{},i=i.options.lang;return c(e)?a(e,o.valueDecimals||n.valueDecimals||t.valueDecimals||-1,i.decimalPoint,i.accessibility.thousandsSep||i.thousandsSep):e}function w(t,e){var i=t[e];return t.chart.langFormat("accessibility.series."+e+"Description",{name:r(i),series:t})}function C(t){var e=function(t){const e=t.series,i=e.chart,n=e.options.accessibility&&e.options.accessibility.point||{},o=i.options.accessibility.point||{},s=e.xAxis&&e.xAxis.dateTime;var r;if(s)return r=s.getXDateFormat(t.x||0,i.options.tooltip.dateTimeLabelFormats),r=n.dateFormatter&&n.dateFormatter(t)||o.dateFormatter&&o.dateFormatter(t)||n.dateFormat||o.dateFormat||r,i.time.dateFormat(r,t.x||0,void 0)}(t),i=(t.series.xAxis||{}).categories&&h(t.category)&&(""+t.category).replace("<br/>"," "),n=h(t.id)&&(""+t.id).indexOf("highcharts-")<0,o="x, "+t.x;return t.name||e||i||(n?t.id:o)}function E(n,t,e){const o=t||"",s=e||"",i=n.series.pointArrayMap;return i.reduce(function(t,e){e=e;var i,e=void 0!==(i=A(n,f(n[e],n.options[e])))?e+": "+o+i+s:i;return e?t+(t.length?", ":"")+e:t},"")}function T(t){var e=t.series,i=e.chart,n=e.options.accessibility,n=n&&n.point&&n.point.valueDescriptionFormat||i.options.accessibility.point.valueDescriptionFormat,e=f(e.xAxis&&e.xAxis.options.accessibility&&e.xAxis.options.accessibility.enabled,!i.angular&&"flowmap"!==e.type),o=e?C(t):"",o={point:t,index:h(t.index)?t.index+1:"",xDescription:o,value:function(t){const e=t.series,i=e.chart.options.accessibility.point||{},n=e.chart.options.accessibility&&e.chart.options.accessibility.point||{},o=e.tooltipOptions||{},s=n.valuePrefix||i.valuePrefix||o.valuePrefix||"",r=n.valueSuffix||i.valueSuffix||o.valueSuffix||"",a=void 0!==t.value?"value":"y",l=A(t,t[a]);return t.isNull?e.chart.langFormat("accessibility.series.nullPointValue",{point:t}):e.pointArrayMap?E(t,s,r):s+l+r}(t),separator:e?", ":""};return b(n,o,i)}function M(t){var e=t.series,i=1<e.chart.series.length||e.options.name,n=T(t),o=t.options&&t.options.accessibility&&t.options.accessibility.description,o=o?" "+o:"",i=i?" "+e.name+".":"",e=function(t){const e=t.series.chart;var i=s(t);return i.length?e.langFormat("accessibility.series.pointAnnotationsDescription",{point:t,annotations:i}):""}(t),e=e?" "+e:"";return t.accessibility=t.accessibility||{},(t.accessibility.valueDescription=n)+o+i+e}function S(l){i=l.options.accessibility||{};const c=!y(l)&&!i.exposeAsGroupOnly,t=(e=(i=l).chart.options.accessibility.keyboardNavigation.seriesNavigation,!(!i.points||!(i.points.length<+e.pointNavigationEnabledThreshold||!1===e.pointNavigationEnabledThreshold))),h=l.chart.options.accessibility.point.describeNull;var e,i;(c||t)&&l.points.forEach(t=>{const e=t.graphic&&t.graphic.element||function(t){const e=t.series,i=e&&e.chart,n=e&&e.is("sunburst"),o=t.isNull,s=i&&i.options.accessibility.point.describeNull;return o&&!n&&s}(t)&&u(t),i=t.options&&t.options.accessibility&&!1===t.options.accessibility.enabled;if(e)if(t.isNull&&!h)e.setAttribute("aria-hidden",!0);else if(e.setAttribute("tabindex","-1"),l.chart.styledMode||(e.style.outline="none"),c&&!i){var n=e;const o=t.series,s=o.options.accessibility?.point||{},r=o.chart.options.accessibility.point||{},a=v(d(s.descriptionFormat)&&b(s.descriptionFormat,t,o.chart)||s.descriptionFormatter?.(t)||d(r.descriptionFormat)&&b(r.descriptionFormat,t,o.chart)||r.descriptionFormatter?.(t)||M(t),o.chart.renderer.forExport);n.setAttribute("role","img"),n.setAttribute("aria-label",a)}else e.setAttribute("aria-hidden",!0)})}function k(e){function t(t){return i[t]&&1<i[t].length&&e[t]}const i=e.chart,n=i.types||[],o=(g=((p=e).options.accessibility||{}).description)&&p.chart.langFormat("accessibility.series.description",{description:g,series:p})||"",s=e.index+1,r=w(e,"xAxis"),a=w(e,"yAxis"),l={seriesNumber:s,series:e,chart:i},c=1<n.length?"Combination":"",h=i.langFormat("accessibility.series.summary."+e.type+c,l)||i.langFormat("accessibility.series.summary.default"+c,l),d=(t("yAxis")?" "+a+".":"")+(t("xAxis")?" "+r+".":""),u=f(e.options.accessibility&&e.options.accessibility.descriptionFormat,i.options.accessibility.series.descriptionFormat,"");var p,g;return b(u,{seriesDescription:h,authorDescription:o?" "+o:"",axisDescription:d,series:e,chart:i,seriesNumber:s},void 0)}return{defaultPointDescriptionFormatter:M,defaultSeriesDescriptionFormatter:k,describeSeries:function(t){const e=t.chart,i=p(t),n=g(t),o=e.is3d&&e.is3d();if(n)if(n.lastChild!==i||o||x(n),S(t),m(e,n),r=(s=t).chart,a=(a=r.options.chart).options3d&&a.options3d.enabled,l=1<r.series.length,r=r.options.accessibility.series.describeSingleSeries,c=(s.options.accessibility||{}).exposeAsGroupOnly,a&&l||!(l||r||c||y(s)))n.removeAttribute("aria-label");else{a=t;l=n;const h=a.options.accessibility||{},d=a.chart.options.accessibility,u=d.landmarkVerbosity;h.exposeAsGroupOnly?l.setAttribute("role","img"):"all"===u?l.setAttribute("role","region"):l.setAttribute("role","group"),l.setAttribute("tabindex","-1"),a.chart.styledMode||(l.style.outline="none"),l.setAttribute("aria-label",v(d.series.descriptionFormatter&&d.series.descriptionFormatter(a)||k(a),a.chart.renderer.forExport))}var s,r,a,l,c}}}),e(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(r,e,i,t,n,o){const{addEvent:s,defined:a}=e,l=t["getChartTitle"],{defaultPointDescriptionFormatter:c,defaultSeriesDescriptionFormatter:h}=o;function d(t){return t.options.accessibility.announceNewData.enabled}class u{constructor(t){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=t}init(){var t=this.chart,e=t.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new i(t,e),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const e=this,t=this.chart,i=this.eventProvider;i.addEvent(t,"afterApplyDrilldown",function(){e.lastAnnouncementTime=0}),i.addEvent(t,"afterAddSeries",function(t){e.onSeriesAdded(t.series)}),i.addEvent(t,"redraw",function(){e.announceDirtyData()})}onSeriesAdded(t){d(this.chart)&&(this.dirty.hasDirty=!0,this.dirty.allSeries[t.name+t.index]=t,this.dirty.newSeries=a(this.dirty.newSeries)?void 0:t)}announceDirtyData(){const t=this.chart,e=this;if(t.options.accessibility.announceNewData&&this.dirty.hasDirty){let t=this.dirty.newPoint;t=t&&(i=t,1===(n=i.series.data.filter(t=>i.x===t.x&&i.y===t.y)).length?n[0]:i),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(t=>e.dirty.allSeries[t]),this.dirty.newSeries,t),this.dirty={allSeries:{}}}var i,n}queueAnnouncement(t,e,i){var n,o,s=this.chart.options.accessibility.announceNewData;s.enabled&&(o=(n=+new Date)-this.lastAnnouncementTime,s=Math.max(0,s.minAnnounceInterval-o),o=function(t,e){const i=(t||[]).concat(e||[]).reduce((t,e)=>(t[e.name+e.index]=e,t),{});return Object.keys(i).map(t=>i[t])}(this.queuedAnnouncement&&this.queuedAnnouncement.series,t),(t=this.buildAnnouncementMessage(o,e,i))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:n,message:t,series:o},this.queuedAnnouncementTimer=setTimeout(()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)},s)))}buildAnnouncementMessage(t,e,i){const n=this.chart,o=n.options.accessibility.announceNewData;if(o.announcementFormatter){t=o.announcementFormatter(t,e,i);if(!1!==t)return t.length?t:null}var t=r.charts&&1<r.charts.length?"Multiple":"Single",t=e?"newSeriesAnnounce"+t:i?"newPointAnnounce"+t:"newDataAnnounce",s=l(n);return n.langFormat("accessibility.announceNewData."+t,{chartTitle:s,seriesDesc:e?h(e):null,pointDesc:i?c(i):null,point:i,series:e})}}function p(t){const e=this.chart,i=this.newDataAnnouncer;i&&i.chart===e&&d(e)&&(i.dirty.newPoint=a(i.dirty.newPoint)?void 0:t.point)}function g(){const t=this.chart,e=this.newDataAnnouncer;e&&e.chart===t&&d(t)&&(e.dirty.hasDirty=!0,e.dirty.allSeries[this.name+this.index]=this)}var m;return(m=u=u||{}).composedMembers=[],m.compose=function(t){e.pushUnique(m.composedMembers,t)&&(s(t,"addPoint",p),s(t,"updatedData",g))},u}),e(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],function(t,e,a,i,n){const l=t["doc"],{attr:o,css:s,merge:r}=e,c=i["fireEventOnWrappedOrUnwrappedElement"],{cloneMouseEvent:h,cloneTouchEvent:d,getFakeMouseEvent:u,removeElement:p}=n;return class{constructor(t,e,i="button",n,o){this.chart=t,this.target=e,this.eventProvider=new a;const s=this.innerElement=l.createElement(i),r=this.element=n?l.createElement(n):s;t.styledMode||this.hideElementVisually(s),n&&("li"!==n||t.styledMode||(r.style.listStyle="none"),r.appendChild(s),this.element=r),this.updateTarget(e,o)}click(){const t=this.getTargetPosition();t.x+=t.width/2,t.y+=t.height/2;var e=u("click",t);c(this.target.click,e)}updateTarget(t,e){this.target=t,this.updateCSSClassName();const i=e||{};Object.keys(i).forEach(t=>{null===i[t]&&delete i[t]});e=this.getTargetAttr(t.click,"aria-label");o(this.innerElement,r(e?{"aria-label":e}:{},i)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToElement(this.innerElement,t.click),this.refreshPosition()}refreshPosition(){var t=this.getTargetPosition();s(this.innerElement,{width:(t.width||1)+"px",height:(t.height||1)+"px",left:(Math.round(t.x)||0)+"px",top:(Math.round(t.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),p(this.element)}updateCSSClassName(){var t=t=>-1<t.indexOf("highcharts-no-tooltip"),e=this.chart.legend,e=e.group&&e.group.div,e=t(e&&e.className||""),t=t(this.getTargetAttr(this.target.click,"class")||"");this.innerElement.className=e||t?"highcharts-a11y-proxy-element highcharts-no-tooltip":"highcharts-a11y-proxy-element"}addProxyEventsToElement(e,n){["click","touchstart","touchend","touchcancel","touchmove","mouseover","mouseenter","mouseleave","mouseout"].forEach(t=>{const i=0===t.indexOf("touch");this.eventProvider.addEvent(e,t,t=>{var e=(i?d:h)(t);n&&c(n,e),t.stopPropagation(),i||t.preventDefault()},{passive:!1})})}hideElementVisually(t){s(t,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var t,e=this.target.click,e=e.element||e;const i=this.target.visual||e;return this.chart.renderTo&&i&&i.getBoundingClientRect?(e=i.getBoundingClientRect(),t=this.chart.pointer.getChartPosition(),{x:(e.left-t.left)/t.scaleX,y:(e.top-t.top)/t.scaleY,width:e.right/t.scaleX-e.left/t.scaleX,height:e.bottom/t.scaleY-e.top/t.scaleY}):{x:0,y:0,width:1,height:1}}getTargetAttr(t,e){return(t.element||t).getAttribute(e)}}}),e(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],function(t,e,i,n,o,s){const r=t["doc"],{attr:a,css:l}=e,c=i["unhideChartElementFromAT"],{removeElement:h,removeChildNodes:d}=o;return class{constructor(t){this.chart=t,this.domElementProvider=new n,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(t,e,i="button",n){const o=this.groups[t];if(!o)throw new Error("ProxyProvider.addProxyElement: Invalid group key "+t);t="ul"===o.type||"ol"===o.type?"li":void 0,e=new s(this.chart,e,i,t,n);return o.proxyContainerElement.appendChild(e.element),o.proxyElements.push(e),e}addGroup(t,e="div",i){var n=this.groups[t];if(n)return n.groupElement;const o=this.domElementProvider.createElement(e);let s;return i&&i.role&&"div"!==e?(s=this.domElementProvider.createElement("div")).appendChild(o):s=o,s.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+t.replace(/\W/g,"-"),this.groups[t]={proxyContainerElement:o,groupElement:s,type:e,proxyElements:[]},a(s,i||{}),"ul"===e&&o.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(s),this.updateGroupOrder(this.groupOrder),s}updateGroupAttrs(t,e){var i=this.groups[t];if(!i)throw new Error("ProxyProvider.updateGroupAttrs: Invalid group key "+t);a(i.groupElement,e)}updateGroupOrder(t){if(this.groupOrder=t.slice(),!this.isDOMOrderGroupOrder()){var e=t.indexOf("series");const n=-1<e?t.slice(0,e):t,o=-1<e?t.slice(e+1):[],i=r.activeElement;["before","after"].forEach(t=>{const e=this["before"===t?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"],i="before"===t?n:o;d(e),i.forEach(t=>{t=this.groups[t];t&&e.appendChild(t.groupElement)})}),(this.beforeChartProxyPosContainer.contains(i)||this.afterChartProxyPosContainer.contains(i))&&i&&i.focus&&i.focus()}}clearGroup(t){var e=this.groups[t];if(!e)throw new Error("ProxyProvider.clearGroup: Invalid group key "+t);d(e.proxyContainerElement)}removeGroup(t){var e=this.groups[t];e&&(h(e.groupElement),delete this.groups[t])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(t){const e=this.groups[t];e&&e.proxyElements.forEach(t=>t.refreshPosition())}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(t){const e=this.domElementProvider.createElement("div");return e.setAttribute("aria-hidden","false"),e.className="highcharts-a11y-proxy-container"+(t?"-"+t:""),l(e,{top:"0",left:"0"}),this.chart.styledMode||(e.style.whiteSpace="nowrap",e.style.position="absolute"),e}getCurrentGroupOrderInDOM(){const o=t=>{var e=Object.keys(this.groups);let i=e.length;for(;i--;){var n=e[i],o=this.groups[n];if(o&&t===o.groupElement)return n}};var t=t=>{const e=[];var i=t.children;for(let t=0;t<i.length;++t){var n=o(i[t]);n&&e.push(n)}return e};const e=t(this.beforeChartProxyPosContainer);t=t(this.afterChartProxyPosContainer);return e.push("series"),e.concat(t)}isDOMOrderGroupOrder(){var t=this.getCurrentGroupOrderInDOM(),e=this.groupOrder.filter(t=>"series"===t||!!this.groups[t]);let i=t.length;if(i!==e.length)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0}updatePosContainerPositions(){const t=this.chart;var e;t.renderer.forExport||(e=t.renderer.box,t.container.insertBefore(this.afterChartProxyPosContainer,e.nextSibling),t.container.insertBefore(this.beforeChartProxyPosContainer,e),c(this.chart,this.afterChartProxyPosContainer),c(this.chart,this.beforeChartProxyPosContainer))}}}),e(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}}),e(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],function(t,o,s){const{defaultOptions:r,setOptions:a}=t,{addEvent:l,defined:c,extend:h,find:d,isNumber:u,merge:p,pick:g}=s,m=[],b=[];let x;function v(){function t(t,e){var i="year"===s?"FullYear":"Month";const n=new r.Date(t);var o=r.get(i,n);return r.set(i,n,o+e),o===r.get(i,n)&&r.set("Date",n,0),n.getTime()-t}const e=this.range,s=e.type,i=this.max,r=this.chart.time;let n,o;u(e)?(n=i-e,o=e):e&&(n=i+t(i,-(e.count||1)),this.chart&&(this.chart.fixedRange=i-n));var a=g(this.dataMin,Number.MIN_VALUE);return(n=u(n)?n:a)<=a&&(n=a,void 0===o&&(o=t(n,e.count)),this.newMax=Math.min(n+o,g(this.dataMax,Number.MAX_VALUE))),u(i)?!u(e)&&e&&e._offsetMin&&(n+=e._offsetMin):n=void 0,n}function f(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new x(this))}function y(){const t=this.axes,e=this.rangeSelector;var i;e&&(u(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach(t=>{t.updateNames(),t.setScale()}),this.getAxisMargins(),e.render(),i=e.options.verticalAlign,e.options.floating||("bottom"===i?this.extraBottomMargin=!0:"middle"!==i&&(this.extraTopMargin=!0)))}function A(e){let t,i,n,o;const s=e.rangeSelector,r=()=>{s&&(t=e.xAxis[0].getExtremes(),i=e.legend,o=s&&s.options.verticalAlign,u(t.min)&&s.render(t.min,t.max),i.display&&"top"===o&&o===i.options.verticalAlign&&(n=p(e.spacingBox),"vertical"===i.options.layout?n.y=e.plotTop:n.y+=s.getHeight(),i.group.placed=!1,i.align(n)))};s&&(d(m,t=>t[0]===e)||m.push([e,[l(e.xAxis[0],"afterSetExtremes",function(t){s&&s.render(t.min,t.max)}),l(e,"redraw",r)]]),r())}function w(){for(let t=0,e=m.length;t<e;++t){const i=m[t];if(i[0]===this)return i[1].forEach(t=>t()),void m.splice(t,1)}}function C(){const t=this.rangeSelector;var e;t&&(e=t.getHeight(),this.extraTopMargin&&(this.plotTop+=e),this.extraBottomMargin&&(this.marginBottom+=e))}function E(){const t=this.rangeSelector;var e;t&&!t.options.floating&&(t.render(),"bottom"===(e=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0))}function T(t){var t=t.options.rangeSelector,e=this.extraBottomMargin,i=this.extraTopMargin;let n=this.rangeSelector;t&&t.enabled&&!c(n)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=n=new x(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,n&&(A(this),t=t&&t.verticalAlign||n.options&&n.options.verticalAlign,n.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)),this.extraBottomMargin===e&&this.extraTopMargin===i||(this.isDirtyBox=!0))}return{compose:function(t,e,i){if(x=i,s.pushUnique(b,t)&&(t.prototype.minFromRange=v),s.pushUnique(b,e)){l(e,"afterGetContainer",f),l(e,"beforeRender",y),l(e,"destroy",w),l(e,"getMargins",C),l(e,"render",E),l(e,"update",T);const n=e.prototype;n.callbacks.push(A)}s.pushUnique(b,a)&&(h(r,{rangeSelector:o.rangeSelector}),h(r.lang,o.lang))}}}),e(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],function(A,t,b,i,n,e){const x=t["defaultOptions"],{addEvent:w,createElement:v,css:f,defined:C,destroyObjectProperties:o,discardElement:s,extend:y,fireEvent:E,isNumber:k,merge:T,objectEach:r,pad:a,pick:M,pInt:l,splat:S}=e;class c{static compose(t,e){i.compose(t,e,c)}constructor(t){this.buttons=void 0,this.buttonOptions=c.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}clickButton(t,e){const i=this,n=i.chart,o=i.buttonOptions[t],s=n.xAxis[0],r=n.scroller&&n.scroller.getUnionExtremes()||s||{},a=o.type,l=o.dataGrouping;let c=r.dataMin,h=r.dataMax,d,u=s&&Math.round(Math.min(s.max,M(h,s.max))),p,g=o._range,m,b,x,v,f,y=!0;if(null!==c&&null!==h){if(n.fixedRange=g,i.setSelected(t),l&&(this.forcedDataGrouping=!0,A.prototype.setDataGrouping.call(s||{chart:this.chart},l,!1),this.frozenStates=o.preserveDataGrouping),"month"===a||"year"===a)s?(v={range:o,max:u,chart:n,dataMin:c,dataMax:h},d=s.minFromRange.call(v),k(v.newMax)&&(u=v.newMax),y=!1):g=o;else if(g)d=Math.max(u-g,c),u=Math.min(d+g,h),y=!1;else if("ytd"===a){if(!s)return void(i.deferredYTDClick=t);void 0!==h&&void 0!==c||(c=Number.MAX_VALUE,h=Number.MIN_VALUE,n.series.forEach(t=>{t=t.xData;t&&(c=Math.min(t[0],c),h=Math.max(t[t.length-1],h))}),e=!1),f=i.getYTDExtremes(h,c,n.time.useUTC),d=m=f.min,u=f.max}else"all"===a&&s&&(n.navigator&&n.navigator.baseSeries[0]&&(n.navigator.baseSeries[0].xAxis.options.range=void 0),d=c,u=h);y&&o._offsetMin&&C(d)&&(d+=o._offsetMin),o._offsetMax&&C(u)&&(u+=o._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=t+1),s?s.setExtremes(d,u,M(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:o}):(p=S(n.options.xAxis)[0],x=p.range,p.range=g,b=p.min,p.min=m,w(n,"load",function(){p.range=x,p.min=b})),E(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&E(t,"blur"),e&&e.blur&&E(e,"blur")}const i=this,n=e.options.rangeSelector,o=n.buttons||i.defaultButtons.slice(),s=n.selected;i.chart=e,i.options=n,i.buttons=[],i.buttonOptions=o,this.eventsToUnbind=[],this.eventsToUnbind.push(w(e.container,"mousedown",t)),this.eventsToUnbind.push(w(e,"resize",t)),o.forEach(i.computeButtonRange),void 0!==s&&o[s]&&this.clickButton(s,!1),this.eventsToUnbind.push(w(e,"load",function(){e.xAxis&&e.xAxis[0]&&w(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})}))}updateButtonStates(){const m=this,t=this.chart,b=this.dropdown,x=t.xAxis[0],v=Math.round(x.max-x.min),f=!x.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||x,y=e.dataMin,A=e.dataMax,i=m.getYTDExtremes(A,y,t.time.useUTC),w=i.min,C=i.max,E=m.selected,T=m.options.allButtonsEnabled,M=m.buttons;let S=k(E);m.buttonOptions.forEach((t,e)=>{const i=t._range,n=t.type,o=t.count||1,s=M[e],r=t._offsetMax-t._offsetMin,a=e===E,l=i>A-y,c=i<x.minRange;let h=0,d=!1,u=!1,p=i===v;("month"===n||"year"===n)&&v+36e5>=864e5*{month:28,year:365}[n]*o-r&&v-36e5<=864e5*{month:31,year:366}[n]*o+r?p=!0:"ytd"===n?(p=C-w+r===v,d=!a):"all"===n&&(p=x.max-x.min>=A-y,u=!a&&S&&p);var t=!T&&(l||c||u||f),g=a&&p||p&&!S&&!d||a&&m.frozenStates;t?h=3:g&&(S=!0,h=2),s.state!==h&&(s.setState(h),b&&(b.options[e+1].disabled=t,2===h&&(b.selectedIndex=e+1)),0===h&&E===e&&m.setSelected())})}computeButtonRange(t){var e=t.type,i=t.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[e]?t._range=n[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=M(t.offsetMin,0),t._offsetMax=M(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){t="min"===t?this.minInput:this.maxInput;const e=this.chart.options.rangeSelector;var i=this.chart.time;return t?("text"===t.type&&e.inputDateParser||this.defaultInputDateParser)(t.value,i.useUTC,i):0}setInputValue(e,i){const n=this.options,o=this.chart.time,s="min"===e?this.minInput:this.maxInput,r="min"===e?this.minDateBox:this.maxDateBox;if(s){var e=s.getAttribute("data-hc-time");let t=C(e)?Number(e):void 0;C(i)&&(e=t,C(e)&&s.setAttribute("data-hc-time-previous",e),s.setAttribute("data-hc-time",i),t=i),s.value=o.dateFormat(this.inputTypeFormats[s.type]||n.inputEditDateFormat,t),r&&r.attr({text:o.dateFormat(n.inputDateFormat,t)})}}setInputExtremes(t,e,i){const n="min"===t?this.minInput:this.maxInput;if(n){t=this.inputTypeFormats[n.type];const o=this.chart.time;t&&(e=o.dateFormat(t,e),n.min!==e&&(n.min=e),e=o.dateFormat(t,i),n.max!==e&&(n.max=e))}}showInput(t){var e,i,n,o,s,r,a="min"===t?this.minDateBox:this.maxDateBox,t="min"===t?this.minInput:this.maxInput;t&&a&&this.inputGroup&&(e="text"===t.type,{translateX:i=0,translateY:n=0}=this.inputGroup,{x:a=0,width:o=0,height:s=0}=a,r=this.options["inputBoxWidth"],f(t,{width:e?o+(r?-2:20)+"px":"auto",height:s-2+"px",border:"2px solid silver"}),e&&r?f(t,{left:i+a+"px",top:n+"px"}):f(t,{left:Math.min(Math.round(a+i-(t.offsetWidth-o)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:n-(t.offsetHeight-s)/2+"px"}))}hideInput(t){t="min"===t?this.minInput:this.maxInput;t&&f(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,i){var n;let o=t.split("/").join("-").split(" ").join("T"),s=(-1===o.indexOf("T")&&(o+="T00:00"),e?o+="Z":!b.isSafari||6<(n=o).length&&(n.lastIndexOf("-")===n.length-6||n.lastIndexOf("+")===n.length-6)||(n=new Date(o).getTimezoneOffset()/60,o+=n<=0?`+${a(-n)}:00`:`-${a(n)}:00`),Date.parse(o));return k(s)||(n=t.split("-"),s=Date.UTC(l(n[0]),l(n[1])-1,l(n[2]))),i&&e&&k(s)&&(s+=i.getTimezoneOffset(s)),s}drawInput(a){const{chart:l,div:t,inputGroup:e}=this,c=this,i=l.renderer.style||{},n=l.renderer,o=l.options.rangeSelector,s=x.lang,h="min"===a;function r(){const{maxInput:t,minInput:e}=c,i=l.xAxis[0],n=l.scroller&&l.scroller.getUnionExtremes()||i,o=n.dataMin,s=n.dataMax;let r=c.getInputValue(a);r!==Number(g.getAttribute("data-hc-time-previous"))&&k(r)&&(g.setAttribute("data-hc-time-previous",r),h&&t&&k(o)?r>Number(t.getAttribute("data-hc-time"))?r=void 0:r<o&&(r=o):e&&k(s)&&(r<Number(e.getAttribute("data-hc-time"))?r=void 0:r>s&&(r=s)),void 0!==r&&i.setExtremes(h?r:i.min,h?i.max:r,void 0,void 0,{trigger:"rangeSelectorInput"}))}var d=s[h?"rangeSelectorFrom":"rangeSelectorTo"]||"";const u=n.label(d,0).addClass("highcharts-range-label").attr({padding:d?2:0,height:d?o.inputBoxHeight:0}).add(e),p=n.label("",0).addClass("highcharts-range-input").attr({padding:2,width:o.inputBoxWidth,height:o.inputBoxHeight,"text-align":"center"}).on("click",function(){c.showInput(a),c[a+"Input"].focus()}),g=(l.styledMode||p.attr({stroke:o.inputBoxBorderColor,"stroke-width":1}),p.add(e),v("input",{name:a,className:"highcharts-range-selector"},void 0,t));g.setAttribute("type",function(e){if(-1!==e.indexOf("%L"))return"text";var t=["a","A","d","e","w","b","B","m","o","y","Y"].some(t=>-1!==e.indexOf("%"+t)),i=["H","k","I","l","M","S"].some(t=>-1!==e.indexOf("%"+t));return t&&i?"datetime-local":t?"date":i?"time":"text"}(o.inputDateFormat||"%e %b %Y")),l.styledMode||(u.css(T(i,o.labelStyle)),p.css(T({color:"#333333"},i,o.inputStyle)),f(g,y({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:"-9999em"},o.inputStyle))),g.onfocus=()=>{c.showInput(a)};let m=!(g.onblur=()=>{g===b.doc.activeElement&&r(),c.hideInput(a),c.setInputValue(a),g.blur()});return g.onchange=()=>{m||(r(),c.hideInput(a),g.blur())},g.onkeypress=t=>{13===t.keyCode&&r()},g.onkeydown=t=>{m=!0,38!==t.keyCode&&40!==t.keyCode||r()},g.onkeyup=()=>{m=!1},{dateBox:p,input:g,label:u}}getPosition(){var t=this.chart,e=t.options.rangeSelector,t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:t+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e,i){const n=this.chart.time,o=new n.Date(t),s=n.get("FullYear",o),r=i?n.Date.UTC(s,0,1):+new n.Date(s,0,1),a=Math.max(e,r),l=o.getTime();return{max:Math.min(t||l,l),min:a}}render(t,e){const i=this.chart,n=i.renderer,o=i.container,s=i.options,r=s.rangeSelector,a=M(s.chart.style&&s.chart.style.zIndex,0)+1,l=r.inputEnabled,c=this.rendered;if(!1!==r.enabled){if(c||(this.group=n.g("range-selector-group").attr({zIndex:7}).add(),this.div=v("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),o.parentNode&&o.parentNode.insertBefore(this.div,o),l&&(this.inputGroup=n.g("input-group").add(this.group),h=this.drawInput("min"),this.minDateBox=h.dateBox,this.minLabel=h.label,this.minInput=h.input,h=this.drawInput("max"),this.maxDateBox=h.dateBox,this.maxLabel=h.label,this.maxInput=h.input)),l){this.setInputValue("min",t),this.setInputValue("max",e);var h=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{};if(C(h.dataMin)&&C(h.dataMax)&&(t=i.xAxis[0].minRange||0,this.setInputExtremes("min",h.dataMin,Math.min(h.dataMax,this.getInputValue("max"))-t),this.setInputExtremes("max",Math.max(h.dataMin,this.getInputValue("min"))+t,h.dataMax)),this.inputGroup){let i=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(t=>{var e;t&&(e=t.getBBox()["width"],e&&(t.attr({x:i}),i+=e+r.inputSpacing))})}}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:s,chart:t,options:e}=this;var i=x.lang;const r=t.renderer,a=T(e.buttonTheme),l=a&&a.states,c=a.width||28,h=(delete a.width,delete a.states,this.buttonGroup=r.g("range-selector-buttons").add(this.group),this.dropdown=v("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div));w(h,"touchstart",()=>{h.style.fontSize="16px"}),[[b.isMS?"mouseover":"mouseenter"],[b.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(([e,i])=>{w(h,e,()=>{var t=s[this.currentButtonIndex()];t&&E(t.element,i||e)})}),this.zoomText=r.label(i&&i.rangeSelectorZoom||"",0).attr({padding:e.buttonTheme.padding,height:e.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(e.labelStyle),a["stroke-width"]=M(a["stroke-width"],0)),v("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,h),this.buttonOptions.forEach((n,o)=>{v("option",{textContent:n.title||n.text},void 0,h),s[o]=r.button(n.text,0,0,t=>{const e=n.events&&n.events.click;let i;!1!==(i=e?e.call(n,t):i)&&this.clickButton(o),this.isActive=!0},a,l&&l.hover,l&&l.select,l&&l.disabled).attr({"text-align":"center",width:c}).add(this.buttonGroup),n.title&&s[o].attr("title",n.title)})}alignElements(){const{buttonGroup:o,buttons:s,chart:r,group:a,inputGroup:l,options:c,zoomText:h}=this;var d=r.options;const i=d.exporting&&!1!==d.exporting.enabled&&d.navigation&&d.navigation.buttonOptions,{buttonPosition:u,inputPosition:p,verticalAlign:g}=c;d=(t,e)=>i&&this.titleCollision(r)&&"top"===g&&"right"===e.align&&e.y-t.getBBox().height-12<(i.y||0)+(i.height||0)+r.spacing[0]?-40:0;let m=r.plotLeft;if(a&&u&&p){let t=u.x-r.spacing[3];if(o){if(this.positionButtons(),!this.initialButtonGroupWidth){let i=0;h&&(i+=h.getBBox().width+5),s.forEach((t,e)=>{i+=t.width||0,e!==s.length-1&&(i+=c.buttonSpacing)}),this.initialButtonGroupWidth=i}m-=r.spacing[3],this.updateButtonStates();var b=d(o,u);this.alignButtonGroup(b),a.placed=o.placed=r.hasLoaded}let e=0;l&&(e=d(l,p),"left"===p.align?t=m:"right"===p.align&&(t=-Math.max(r.axisOffset[1],-e)),l.align({y:p.y,width:l.getBBox().width,align:p.align,x:p.x+t-2},!0,r.spacingBox),l.placed=r.hasLoaded),this.handleCollision(e),a.align({verticalAlign:g},!0,r.spacingBox);b=a.alignAttr.translateY;let i=a.getBBox().height+20,n=0;"bottom"===g&&(d=(d=r.legend&&r.legend.options)&&"bottom"===d.verticalAlign&&d.enabled&&!d.floating?r.legend.legendHeight+M(d.margin,10):0,i=i+d-20,n=b-i-(c.floating?0:c.y)-(r.titleOffset?r.titleOffset[2]:0)-10),"top"===g?(c.floating&&(n=0),r.titleOffset&&r.titleOffset[0]&&(n=r.titleOffset[0]),n+=r.margin[0]-r.spacing[0]||0):"middle"===g&&(p.y===u.y?n=b:(p.y||u.y)&&(p.y<0||u.y<0?n-=Math.min(p.y,u.y):n=b-i)),a.translate(c.x,c.y+Math.floor(n));const{minInput:x,maxInput:v,dropdown:f}=this;c.inputEnabled&&x&&v&&(x.style.marginTop=a.translateY+"px",v.style.marginTop=a.translateY+"px"),f&&(f.style.marginTop=a.translateY+"px")}}alignButtonGroup(t,e){const{chart:i,options:n,buttonGroup:o}=this;var s=n["buttonPosition"],r=i.plotLeft-i.spacing[3];let a=s.x-i.spacing[3];"right"===s.align?a+=t-r:"center"===s.align&&(a-=r/2),o&&o.align({y:s.y,width:M(e,this.initialButtonGroupWidth),align:s.align,x:a},!0,i.spacingBox)}positionButtons(){const{buttons:i,chart:t,options:n,zoomText:e}=this;var o=t.hasLoaded?"animate":"attr",s=n["buttonPosition"],r=t.plotLeft;let a=r;e&&"hidden"!==e.visibility&&(e[o]({x:M(r+s.x,r)}),a+=s.x+e.getBBox().width+5);for(let t=0,e=this.buttonOptions.length;t<e;++t)"hidden"!==i[t].visibility?(i[t][o]({x:a}),a+=(i[t].width||0)+n.buttonSpacing):i[t][o]({x:r})}handleCollision(o){const{chart:t,buttonGroup:s,inputGroup:r}=this,{buttonPosition:a,dropdown:e,inputPosition:l}=this.options;var i=()=>{let e=0;return this.buttons.forEach(t=>{t=t.getBBox();t.width>e&&(e=t.width)}),e},n=t=>{var e,i,n;return!(!r||!s)&&(e=r.alignAttr.translateX+r.alignOptions.x-o+r.getBBox().x+2,i=r.alignOptions.width,e<(n=s.alignAttr.translateX+s.getBBox().x)+t&&n<e+i&&a.y<l.y+r.getBBox().height)},c=()=>{r&&s&&r.attr({translateX:r.alignAttr.translateX+(t.axisOffset[1]>=-o?0:-o),translateY:r.alignAttr.translateY+s.getBBox().height+10})};if(s){if("always"===e)return this.collapseButtons(o),void(n(i())&&c());"never"===e&&this.expandButtons()}r&&s?l.align===a.align||n(this.initialButtonGroupWidth+20)?"responsive"===e?(this.collapseButtons(o),n(i())&&c()):c():"responsive"===e&&this.expandButtons():s&&"responsive"===e&&(this.initialButtonGroupWidth>t.plotWidth?this.collapseButtons(o):this.expandButtons())}collapseButtons(t){const{buttons:n,buttonOptions:e,chart:i,dropdown:o,options:s,zoomText:r}=this,a=i.userOptions.rangeSelector&&i.userOptions.rangeSelector.buttonTheme||{},l=t=>({text:t?t+" ▾":"▾",width:"auto",paddingLeft:M(s.buttonTheme.paddingLeft,a.padding,8),paddingRight:M(s.buttonTheme.paddingRight,a.padding,8)});r&&r.hide();let c=!1;e.forEach((t,e)=>{const i=n[e];2!==i.state?i.hide():(i.show(),i.attr(l(t.text)),c=!0)}),c||(o&&(o.selectedIndex=0),n[0].show(),n[0].attr(l(this.zoomText&&this.zoomText.textStr)));var h=s.buttonPosition["align"];this.positionButtons(),"right"!==h&&"center"!==h||this.alignButtonGroup(t,n[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:n,buttonOptions:t,options:o,zoomText:e}=this;this.hideDropdown(),e&&e.show(),t.forEach((t,e)=>{const i=n[e];i.show(),i.attr({text:t.text,width:o.buttonTheme.width||28,paddingLeft:M(o.buttonTheme.paddingLeft,"unset"),paddingRight:M(o.buttonTheme.paddingRight,"unset")}),i.state<2&&i.setState(0)}),this.positionButtons()}currentButtonIndex(){var t=this["dropdown"];return t&&0<t.selectedIndex?t.selectedIndex-1:0}showDropdown(){const{buttonGroup:t,buttons:e,chart:i,dropdown:n}=this;var o,s,r;t&&n&&({translateX:o=0,translateY:s=0}=t,r=e[this.currentButtonIndex()].getBBox(),f(n,{left:i.plotLeft+o+"px",top:s+.5+"px",width:r.width+"px",height:r.height+"px"}),this.hasVisibleDropdown=!0)}hideDropdown(){var t=this["dropdown"];t&&(f(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){const t=this.options,e=this.group,i=t.inputPosition,n=t.buttonPosition,o=t.y,s=n.y,r=i.y;let a=0;if(t.height)return t.height;this.alignElements(),a=e?e.getBBox(!0).height+13+o:0;var l=Math.min(r,s);return(r<0&&s<0||0<r&&0<s)&&(a+=Math.abs(l)),a}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t){var e=this.chart;T(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()}destroy(){const i=this,t=i.minInput,e=i.maxInput;i.eventsToUnbind&&(i.eventsToUnbind.forEach(t=>t()),i.eventsToUnbind=void 0),o(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),r(i,function(t,e){t&&"chart"!==e&&(t instanceof n?t.destroy():t instanceof window.HTMLElement&&s(t)),t!==c.prototype[e]&&(i[e]=null)},this)}}return y(c.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),c}),e(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(n,t,e,i,o,s){const{unhideChartElementFromAT:r,getAxisRangeDescription:a}=e,{addEvent:c,attr:l}=s;class h extends t{constructor(){super(...arguments),this.announcer=void 0}init(){var t=this.chart;this.announcer=new i(t,"polite")}onChartUpdate(){const i=this.chart,n=this,o=i.rangeSelector;o&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),o.buttons&&o.buttons.length&&o.buttons.forEach(t=>{n.setRangeButtonAttrs(t)}),o.maxInput&&o.minInput&&["minInput","maxInput"].forEach(function(t,e){t=o[t];t&&(r(i,t),n.setRangeInputAttrs(t,"accessibility.rangeSelector."+(e?"max":"min")+"InputLabel"))}))}updateSelectorVisibility(){const e=this.chart;var t=e.rangeSelector,i=t&&t.dropdown;const n=t&&t.buttons||[],o=t=>t.setAttribute("aria-hidden",!0);t&&t.hasVisibleDropdown&&i?(r(e,i),n.forEach(t=>o(t.element))):(i&&o(i),n.forEach(t=>r(e,t.element)))}setDropdownAttrs(){const t=this.chart,e=t.rangeSelector&&t.rangeSelector.dropdown;var i;e&&(i=t.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:t.options.lang.rangeSelectorZoom}),e.setAttribute("aria-label",i),e.setAttribute("tabindex",-1))}setRangeButtonAttrs(t){l(t.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(t,e){const i=this.chart;l(t,{tabindex:-1,"aria-label":i.langFormat(e,{chart:i})})}onButtonNavKbdArrowKey(t,e){const i=t.response,n=this.keyCodes,o=this.chart,s=o.options.accessibility.keyboardNavigation.wrapAround,r=e===n.left||e===n.up?-1:1,a=o.highlightRangeSelectorButton(o.highlightedRangeSelectorItemIx+r);return a?i.success:s?(t.init(r),i.success):i[0<r?"next":"prev"]}onButtonNavKbdClick(t){var t=t.response,e=this.chart;return 3===e.oldRangeSelectorItemState||this.fakeClickEvent(e.rangeSelector.buttons[e.highlightedRangeSelectorItemIx].element),t.success}onAfterBtnClick(){const t=this.chart;var e=a(t.xAxis[0]),e=t.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:t,axisRangeDescription:e});e&&this.announcer.announce(e)}onInputKbdMove(t){const e=this.chart;var i=e.rangeSelector,n=e.highlightedInputRangeIx=(e.highlightedInputRangeIx||0)+t,o=1<n||n<0;if(o){if(e.accessibility)return e.accessibility.keyboardNavigation.exiting=!0,e.accessibility.keyboardNavigation.tabindexContainer.focus(),e.accessibility.keyboardNavigation.move(t)}else i&&(o=i[n?"maxDateBox":"minDateBox"],t=i[n?"maxInput":"minInput"],o&&t&&e.setFocusToElement(o,t));return!0}onInputNavInit(t){const e=this,i=this.chart;var t=0<t?0:1,n=i.rangeSelector,o=n&&n[t?"maxDateBox":"minDateBox"],s=n&&n.minInput,n=n&&n.maxInput,r=t?n:s;if(i.highlightedInputRangeIx=t,o&&s&&n){i.setFocusToElement(o,r),this.removeInputKeydownHandler&&this.removeInputKeydownHandler();t=t=>{(t.which||t.keyCode)===this.keyCodes.tab&&e.onInputKbdMove(t.shiftKey?-1:1)&&(t.preventDefault(),t.stopPropagation())};const a=c(s,"keydown",t),l=c(n,"keydown",t);this.removeInputKeydownHandler=()=>{a(),l()}}}onInputNavTerminate(){const t=this.chart.rangeSelector||{};t.maxInput&&t.hideInput("max"),t.minInput&&t.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const n=this.chart;var t=n.rangeSelector,e=t&&t.dropdown;t&&e&&(n.setFocusToElement(t.buttonGroup,e),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=c(e,"keydown",t=>{const e=(t.which||t.keyCode)===this.keyCodes.tab,i=n.accessibility;e&&(t.preventDefault(),t.stopPropagation(),i&&(i.keyboardNavigation.tabindexContainer.focus(),i.keyboardNavigation.move(t.shiftKey?-1:1)))}))}getRangeSelectorButtonNavigation(){const i=this.chart;var t=this.keyCodes;const n=this;return new o(i,{keyCodeMap:[[[t.left,t.right,t.up,t.down],function(t){return n.onButtonNavKbdArrowKey(this,t)}],[[t.enter,t.space],function(){return n.onButtonNavKbdClick(this)}]],validate:function(){return!!(i.rangeSelector&&i.rangeSelector.buttons&&i.rangeSelector.buttons.length)},init:function(t){var e=i.rangeSelector;e&&e.hasVisibleDropdown?n.initDropdownNav():e&&(e=e.buttons.length-1,i.highlightRangeSelectorButton(0<t?0:e))},terminate:function(){n.removeDropdownKeydownHandler&&(n.removeDropdownKeydownHandler(),delete n.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const e=this.chart,i=this;return new o(e,{keyCodeMap:[],validate:function(){return t=e,Boolean(t.rangeSelector&&t.rangeSelector.inputGroup&&"hidden"!==t.rangeSelector.inputGroup.element.style.visibility&&!1!==t.options.rangeSelector.inputEnabled&&t.rangeSelector.minInput&&t.rangeSelector.maxInput);var t},init:function(t){i.onInputNavInit(t)},terminate:function(){i.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}{e=h=h||{};const p=[];function d(t){const e=this.rangeSelector&&this.rangeSelector.buttons||[];var i=this.highlightedRangeSelectorItemIx,n=this.rangeSelector&&this.rangeSelector.selected;return void 0!==i&&e[i]&&i!==n&&e[i].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=t,!!e[t]&&(this.setFocusToElement(e[t].box,e[t].element),t!==n&&(this.oldRangeSelectorItemState=e[t].state,e[t].setState(1)),!0)}function u(){const t=this.chart.accessibility;if(t&&t.components.rangeSelector)return t.components.rangeSelector.onAfterBtnClick()}e.compose=function(t,e){if(s.pushUnique(p,t)){const i=t.prototype;i.highlightRangeSelectorButton=d}s.pushUnique(p,e)&&c(n,"afterBtnClick",u)}}return h}),e(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],function(e){const{addEvent:i,merge:s}=e;var t;{var n=t=t||{};const u=[];function r(t){s(!0,t,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function a(t){return t.marker.states&&t.marker.states.normal&&t.marker.states.normal.opacity}function l(t){let e=t.points.length;for(;e--;){const o=t.points[e];var i=o.options,n=o.hasForcedA11yMarker;delete o.hasForcedA11yMarker,i.marker&&(n=n&&0===a(i),i.marker.enabled&&!n?(n=i,s(!0,n.marker,{states:{normal:{opacity:a(n)||1}}}),o.hasForcedA11yMarker=!1):!1===i.marker.enabled&&(r(i),o.hasForcedA11yMarker=!0))}}function c(t){return t._hasPointMarkers&&t.points&&t.points.length}function o(){var t=this;t.chart.styledMode&&(t.markerGroup&&t.markerGroup[t.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),c(t)&&t.points.forEach(t=>{t.graphic&&(t.graphic[t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),t.graphic[!1===t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))}))}function h(t){this.resetA11yMarkerOptions=s(t.options.marker||{},this.userOptions.marker||{})}function d(){var t,e,i,n=this,o=n.options;e=(e=(t=n).chart).options.accessibility.enabled,i=!1!==(t.options.accessibility&&t.options.accessibility.enabled),e&&i&&function(t){var e=t.chart.options.accessibility;return t.points.length<e.series.pointDescriptionEnabledThreshold||!1===e.series.pointDescriptionEnabledThreshold}(t)?(o.marker&&!1===o.marker.enabled&&(n.a11yMarkersForced=!0,r(n.options)),c(n)&&l(n)):n.a11yMarkersForced&&(delete n.a11yMarkersForced,(i=(e=n).resetA11yMarkerOptions)&&(t=i.states&&i.states.normal&&i.states.normal.opacity,e.userOptions&&e.userOptions.marker&&(e.userOptions.marker.enabled=!0),e.update({marker:{enabled:i.enabled,states:{normal:{opacity:t}}}})),delete n.resetA11yMarkerOptions)}t.compose=function(t){e.pushUnique(u,t)&&(i(t,"afterSetOptions",h),i(t,"render",d),i(t,"afterRender",o))}}return t}),e(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],function(e,n,t,i,r,o,s,a){const l=t["seriesTypes"],c=i["doc"],{defined:h,fireEvent:d}=r,{getPointFromXY:u,getSeriesFromName:p,scrollAxisToPoint:g}=a;function m(t){var e=t.index,i=t.series.points;let n=i.length;if(i[e]===t)return e;for(;n--;)if(i[n]===t)return n}function b(t){var e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation,i=t.options.accessibility||{},n=i.keyboardNavigation;return n&&!1===n.enabled||!1===i.enabled||!1===t.options.enableMouseTracking||!t.visible||e.pointNavigationEnabledThreshold&&+e.pointNavigationEnabledThreshold<=t.points.length}function x(t){var e=t.series.chart.options.accessibility,i=t.options.accessibility&&!1===t.options.accessibility.enabled;return t.isNull&&e.keyboardNavigation.seriesNavigation.skipNullPoints||!1===t.visible||!1===t.isInside||i||b(t.series)}function v(t){var e=t.series||[],i=e.length;for(let t=0;t<i;++t)if(!b(e[t])){var n=function(t){var e=t.points||[],i=e.length;for(let t=0;t<i;++t)if(!x(e[t]))return e[t];return null}(e[t]);if(n)return n}return null}function f(t){let e=t.series.length,i=!1;for(;e--&&(t.highlightedPoint=t.series[e].points[t.series[e].points.length-1],!(i=t.series[e].highlightNextValidPoint())););return i}function y(t){delete t.highlightedPoint;const e=v(t);return e&&e.highlight()}class A{constructor(t,e){this.keyCodes=e,this.chart=t}init(){const i=this,o=this.chart,t=this.eventProvider=new s;t.addEvent(n,"destroy",function(){return i.onSeriesDestroy(this)}),t.addEvent(o,"afterApplyDrilldown",function(){{var t;const e=v(this);return void(e&&e.highlight(!1))}}),t.addEvent(o,"drilldown",function(t){var t=t.point,e=t.series;i.lastDrilledDownPoint={x:t.x,y:t.y,seriesName:e?e.name:""}}),t.addEvent(o,"drillupall",function(){setTimeout(function(){i.onDrillupAll()},10)}),t.addEvent(e,"afterSetState",function(){const t=this.graphic&&this.graphic.element,e=c.activeElement,i=e&&e.getAttribute("class");var n=i&&-1<i.indexOf("highcharts-a11y-proxy-element");o.highlightedPoint===this&&e!==t&&!n&&t&&t.focus&&t.focus()})}onDrillupAll(){const t=this.lastDrilledDownPoint,e=this.chart,i=t&&p(e,t.seriesName);let n;n=(n=t&&i&&h(t.x)&&h(t.y)?u(i,t.x,t.y):n)||v(e),e.container&&e.container.focus(),n&&n.highlight&&n.highlight(!1)}getKeyboardNavigationHandler(){const e=this,i=this.keyCodes,n=this.chart,t=n.inverted;return new o(n,{keyCodeMap:[[t?[i.up,i.down]:[i.left,i.right],function(t){return e.onKbdSideways(this,t)}],[t?[i.left,i.right]:[i.up,i.down],function(t){return e.onKbdVertical(this,t)}],[[i.enter,i.space],function(t,e){const i=n.highlightedPoint;return i&&(e.point=i,d(i.series,"click",e),i.firePointEvent("click")),this.response.success}],[[i.home],function(){return y(n),this.response.success}],[[i.end],function(){return f(n),this.response.success}],[[i.pageDown,i.pageUp],function(t){return n.highlightAdjacentSeries(t===i.pageDown),this.response.success}]],init:function(){return e.onHandlerInit(this)},validate:function(){return!!v(n)},terminate:function(){return e.onHandlerTerminate()}})}onKbdSideways(t,e){var i=this.keyCodes,e=e===i.right||e===i.down;return this.attemptHighlightAdjacentPoint(t,e)}onHandlerInit(t){const e=this.chart,i=e.options.accessibility.keyboardNavigation;return i.seriesNavigation.rememberPointFocus&&e.highlightedPoint?e.highlightedPoint.highlight():y(e),t.response.success}onKbdVertical(t,e){const i=this.chart,n=this.keyCodes,o=e===n.down||e===n.right,s=i.options.accessibility.keyboardNavigation.seriesNavigation;if(s.mode&&"serialize"===s.mode)return this.attemptHighlightAdjacentPoint(t,o);e=i.highlightedPoint&&i.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries";return i[e](o),t.response.success}onHandlerTerminate(){const t=this.chart,e=t.options.accessibility.keyboardNavigation,i=(t.tooltip&&t.tooltip.hide(0),t.highlightedPoint&&t.highlightedPoint.series);i&&i.onMouseOut&&i.onMouseOut(),t.highlightedPoint&&t.highlightedPoint.onMouseOut&&t.highlightedPoint.onMouseOut(),e.seriesNavigation.rememberPointFocus||delete t.highlightedPoint}attemptHighlightAdjacentPoint(t,e){const i=this.chart,n=i.options.accessibility.keyboardNavigation.wrapAround,o=i.highlightAdjacentPoint(e);return o||n&&(e?y:f)(i)?t.response.success:t.response[e?"next":"prev"]}onSeriesDestroy(t){const e=this.chart,i=e.highlightedPoint&&e.highlightedPoint.series===t;i&&(delete e.highlightedPoint,e.focusElement&&e.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}{t=A=A||{};const S=[];function w(t){var e=this,i=e.series,n=e.highlightedPoint,o=n&&m(n)||0,s=n&&n.series.points||[],r=e.series&&e.series[e.series.length-1],r=r&&r.points&&r.points[r.points.length-1];let a,l;if(!i[0]||!i[0].points)return!1;if(n){if(a=i[n.series.index+(t?1:-1)],!(l=!(l=s[o+(t?1:-1)])&&a?a.points[t?0:a.points.length-1]:l))return!1}else l=t?i[0].points[0]:r;return x(l)?(b(a=l.series)?e.highlightedPoint=t?a.points[a.points.length-1]:a.points[0]:e.highlightedPoint=l,e.highlightAdjacentPoint(t)):l.highlight()}function C(o){const s=this.highlightedPoint;let r=1/0,a;return!(!h(s.plotX)||!h(s.plotY))&&(this.series.forEach(n=>{b(n)||n.points.forEach(e=>{if(h(e.plotY)&&h(e.plotX)&&e!==s){let t=e.plotY-s.plotY;var i=Math.abs(e.plotX-s.plotX),i=Math.abs(t)*Math.abs(t)+i*i*4;n.yAxis&&n.yAxis.reversed&&(t*=-1),t<=0&&o||0<=t&&!o||i<5||x(e)||i<r&&(r=i,a=e)}})}),!!a&&a.highlight())}function E(t){const e=this,i=e.highlightedPoint,n=e.series&&e.series[e.series.length-1],o=n&&n.points&&n.points[n.points.length-1];let s,r,a;return e.highlightedPoint?!!(s=e.series[i.series.index+(t?-1:1)])&&(!!(r=function(t,e,i,n){let o=1/0,s,r,a,l=e.points.length;var c=t=>!(h(t.plotX)&&h(t.plotY));if(!c(t)){for(;l--;)s=e.points[l],c(s)||(a=(t.plotX-s.plotX)*(t.plotX-s.plotX)*(i||1)+(t.plotY-s.plotY)*(t.plotY-s.plotY)*(n||1))<o&&(o=a,r=l);return h(r)?e.points[r]:void 0}}(i,s,4))&&(b(s)?(r.highlight(),(a=e.highlightAdjacentSeries(t))?a:(i.highlight(),!1)):(r.highlight(),r.series.highlightNextValidPoint()))):(s=t?e.series&&e.series[0]:n,!!(r=t?s&&s.points&&s.points[0]:o)&&r.highlight())}function T(t=!0){const e=this.series.chart,i=e.tooltip?.label?.element;!this.isNull&&t?this.onMouseOver():e.tooltip&&e.tooltip.hide(0),g(this),this.graphic&&(e.setFocusToElement(this.graphic),!t&&e.focusElement&&e.focusElement.removeFocusBorder()),e.highlightedPoint=this;var n,t=i?.getBoundingClientRect().top;return i&&t&&t<0&&(n=window.scrollY,window.scrollTo({behavior:"smooth",top:n+t})),this}function M(){const t=this.chart.highlightedPoint,e=(t&&t.series)===this?m(t):0,i=this.points,n=i.length;if(i&&n){for(let t=e;t<n;++t)if(!x(i[t]))return i[t].highlight();for(let t=e;0<=t;--t)if(!x(i[t]))return i[t].highlight()}return!1}t.compose=function(t,e,i){if(r.pushUnique(S,t)){const n=t.prototype;n.highlightAdjacentPoint=w,n.highlightAdjacentPointVertical=C,n.highlightAdjacentSeries=E}if(r.pushUnique(S,e)){const o=e.prototype;o.highlight=T}if(r.pushUnique(S,i)){const s=i.prototype;s.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(t=>{l[t]&&(l[t].prototype.keyboardMoveVertical=!1)}),s.highlightNextValidPoint=M}}}return A}),e(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],function(t,e,n,o,i,s){const r=e["hideSeriesFromAT"],a=i["describeSeries"];class l extends t{static compose(t,e,i){o.compose(i),n.compose(i),s.compose(t,e,i)}init(){this.newDataAnnouncer=new o(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new s(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const t=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",function(){this.chart===t.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(t){t.labelBySeries&&t.labelBySeries.attr("aria-hidden",!0)})})}onChartRender(){const t=this.chart;t.series.forEach(function(t){(!1!==(t.options.accessibility&&t.options.accessibility.enabled)&&t.visible?a:r)(t)})}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}return l}),e(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],function(t,e,i,r,n){const o=e["unhideChartElementFromAT"],d=i["getFakeMouseEvent"],{attr:s,pick:a}=n;class l extends t{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const e=this,i=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(t=>{e.addEvent(i,t,function(){e.updateProxyOverlays()})})}onChartUpdate(){const i=this.chart,n=this;i.mapNavigation&&i.mapNavigation.navButtons.forEach((t,e)=>{o(i,t.element),n.setMapNavButtonAttrs(t.element,"accessibility.zoom.mapZoom"+(e?"Out":"In"))})}setMapNavButtonAttrs(t,e){const i=this.chart,n=i.langFormat(e,{chart:i});s(t,{tabindex:-1,role:"button","aria-label":n})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const t=this.chart;var e;this.proxyProvider.clearGroup("zoom"),t.resetZoomButton&&this.createZoomProxyButton(t.resetZoomButton,"resetZoomProxyButton",t.langFormat("accessibility.zoom.resetZoomButton",{chart:t})),t.drillUpButton&&t.breadcrumbs&&t.breadcrumbs.list&&(e=t.breadcrumbs.list[t.breadcrumbs.list.length-1],this.createZoomProxyButton(t.drillUpButton,"drillUpProxyButton",t.langFormat("accessibility.drillUpButton",{chart:t,buttonText:t.breadcrumbs.getButtonText(e)})))}createZoomProxyButton(t,e,i){this[e]=this.proxyProvider.addProxyElement("zoom",{click:t},"button",{"aria-label":i,tabindex:-1})}getMapZoomNavigation(){const t=this.keyCodes,e=this.chart,i=this;return new r(e,{keyCodeMap:[[[t.up,t.down,t.left,t.right],function(t){return i.onMapKbdArrow(this,t)}],[[t.tab],function(t,e){return i.onMapKbdTab(this,e)}],[[t.space,t.enter],function(){return i.onMapKbdClick(this)}]],validate:function(){return!!((t=e).mapView&&t.mapNavigation&&t.mapNavigation.navButtons.length);var t},init:function(t){return i.onMapNavInit(t)}})}onMapKbdArrow(t,e){const i=this.chart,n=this.keyCodes,o=i.container,s=e===n.up||e===n.down,r=e===n.left||e===n.up?1:-1,a=(s?i.plotHeight:i.plotWidth)/10*r,l=10*Math.random(),c={x:o.offsetLeft+i.plotLeft+i.plotWidth/2+l,y:o.offsetTop+i.plotTop+i.plotHeight/2+l},h=s?{x:c.x,y:c.y+a}:{x:c.x+a,y:c.y};return[d("mousedown",c),d("mousemove",h),d("mouseup",h)].forEach(t=>o.dispatchEvent(t)),t.response.success}onMapKbdTab(t,e){const i=this.chart;var t=t.response,e=e.shiftKey,n=e&&!this.focusedMapNavButtonIx||!e&&this.focusedMapNavButtonIx;if(i.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),n)return i.mapView&&i.mapView.zoomBy(),t[e?"prev":"next"];this.focusedMapNavButtonIx+=e?-1:1;const o=i.mapNavigation.navButtons[this.focusedMapNavButtonIx];return i.setFocusToElement(o.box,o.element),o.setState(2),t.success}onMapKbdClick(t){var e=this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element;return this.fakeClickEvent(e),t.response.success}onMapNavInit(t){const e=this.chart,i=e.mapNavigation.navButtons[0],n=e.mapNavigation.navButtons[1],o=0<t?i:n;e.setFocusToElement(o.box,o.element),o.setState(2),this.focusedMapNavButtonIx=0<t?0:1}simpleButtonNavigation(t,e,i){const n=this.keyCodes,o=this,s=this.chart;return new r(s,{keyCodeMap:[[[n.tab,n.up,n.down,n.left,n.right],function(t,e){e=t===n.tab&&e.shiftKey||t===n.left||t===n.up;return this.response[e?"prev":"next"]}],[[n.space,n.enter],function(){var t=i(this,s);return a(t,this.response.success)}]],validate:function(){return s[t]&&s[t].box&&o[e].innerElement},init:function(){s.setFocusToElement(s[t].box,o[e].innerElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(t,e){e.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(t,e){return e.drillUp(),t.response.prev}),this.getMapZoomNavigation()]}}return l}),e(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],function(t){const{doc:i,isMS:n,win:o}=t;return{isHighContrastModeActive:function(){var t=/(Edg)/.test(o.navigator.userAgent);if(o.matchMedia&&t)return o.matchMedia("(-ms-high-contrast: active)").matches;if(n&&o.getComputedStyle){const e=i.createElement("div");e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",i.body.appendChild(e);t=(e.currentStyle||o.getComputedStyle(e)).backgroundImage;return i.body.removeChild(e),"none"===t}return o.matchMedia&&o.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(t){t.highContrastModeActive=!0;const i=t.options.accessibility.highContrastTheme;t.update(i,!1),t.series.forEach(function(t){const e=i.plotOptions[t.type]||{};t.update({color:e.color||"windowText",colors:[e.color||"windowText"],borderColor:e.borderColor||"window"}),t.points.forEach(function(t){t.options&&t.options.color&&t.update({color:e.color||"windowText",borderColor:e.borderColor||"window"},!1)})}),t.redraw()}}}),e(t,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}}),e(t,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","navigator","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}},navigator:{accessibility:{enabled:!0}}}}),e(t,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{#each additionalAnnotationPoints}, also related to {this}{/each}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},navigator:{handleLabel:"{#eq handleIx 0}Start, percent{else}End, percent{/eq}",groupLabel:"Axis zoom",changeAnnouncement:"{axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#eq numPoints 1}point{else}points{/eq}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#eq numPoints 1}bar{else}bars{/eq}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#eq numPoints 1}slice{else}slices{/eq}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#eq numPoints 1}point{else}points{/eq}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#eq numPoints 1}box{else}boxes{/eq}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#eq numPoints 1}bubbles{else}bubble{/eq}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each names}{#unless @first},{/unless}{#if @last} and{/if} {this}{/each}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#eq series.points.length 1}bar{else}bars{/eq}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#eq series.points.length 1}slice{else}slices{/eq}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#eq series.points.length 1}point{else}points{/eq}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#eq series.points.length 1}box{else}boxes{/eq}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#eq series.points.length 1}area{else}areas{/eq}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#eq series.points.length 1}point{else}points{/eq}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#eq series.points.length 1}bubble{else}bubbles{/eq}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{#each annotations}Annotation: {this}{/each}"}}}}),e(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],function(t){const{error:l,pick:r}=t;function c(t,e,i){let n=t,o,s=0;for(;s<e.length-1;++s)o=e[s],n=n[o]=r(n[o],{});n[e[e.length-1]]=i}function a(i,n,o,s){function t(t,e){return e.reduce(function(t,e){return t[e]},t)}const r=t(i.options,n),a=t(i.options,o);Object.keys(s).forEach(function(t){var e=r[t];void 0!==e&&(c(a,s[t],e),l(32,!1,i,{[n.join(".")+"."+t]:o.join(".")+"."+s[t].join(".")}))})}return function(t){{var e=t;const o=e.options.chart,s=e.options.accessibility||{};["description","typeDescription"].forEach(function(t){o[t]&&(s[t]=o[t],l(32,!1,e,{["chart."+t]:"use accessibility."+t}))})}var i;if((i=t).axes.forEach(function(t){const e=t.options;e&&e.description&&(e.accessibility=e.accessibility||{},e.accessibility.description=e.description,l(32,!1,i,{"axis.description":"use axis.accessibility.description"}))}),t.series){var n=t;const r={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};n.series.forEach(function(i){Object.keys(r).forEach(function(t){let e=i.options[t];void 0!==(e="accessibility.pointDescriptionFormatter"===t?i.options.accessibility&&i.options.accessibility.pointDescriptionFormatter:e)&&(c(i.options,r[t],"skipKeyboardNavigation"===t?!e:e),l(32,!1,n,{["series."+t]:"series."+r[t].join(".")}))})})}a(t,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),a(t,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),a(t,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}}),e(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/NavigatorComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],function(t,e,a,i,l,o,c,s,h,d,u,r,p,n,g,m,b,x,v,f,y,A){t=t.defaultOptions;const w=e["doc"],{addEvent:C,extend:E,fireEvent:T,merge:M}=a,S=i["removeElement"];class k{constructor(t){this.chart=void 0,this.components=void 0,this.keyboardNavigation=void 0,this.proxyProvider=void 0,this.init(t)}init(t){if(this.chart=t,!w.addEventListener)return this.zombie=!0,this.components={},void t.renderTo.setAttribute("aria-hidden",!0);A(t),this.proxyProvider=new n(this.chart),this.initComponents(),this.keyboardNavigation=new h(t,this.components)}initComponents(){const e=this.chart,i=this.proxyProvider;var t=e.options.accessibility;this.components={container:new o,infoRegions:new s,legend:new d,chartMenu:new u,rangeSelector:new g,series:new m,zoom:new b,navigator:new r},t.customComponents&&E(this.components,t.customComponents);const n=this.components;this.getComponentOrder().forEach(function(t){n[t].initBase(e,i),n[t].init()})}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);var t=Object.keys(this.components).filter(t=>"series"!==t);return["series"].concat(t)}update(){const e=this.components,i=this.chart,t=i.options.accessibility;T(i,"beforeA11yUpdate"),i.types=this.getChartTypes();var n=t.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(n),this.getComponentOrder().forEach(function(t){e[t].onChartUpdate(),T(i,"afterA11yComponentUpdate",{name:t,component:e[t]})}),this.keyboardNavigation.update(n),!i.highContrastModeActive&&x.isHighContrastModeActive()&&x.setHighContrastTheme(i),T(i,"afterA11yUpdate",{accessibility:this})}destroy(){const t=this.chart||{},e=this.components;Object.keys(e).forEach(function(t){e[t].destroy(),e[t].destroyBase()}),this.proxyProvider&&this.proxyProvider.destroy(),t.announcerContainer&&S(t.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),t.renderTo&&t.renderTo.setAttribute("aria-hidden",!0),t.focusElement&&t.focusElement.removeFocusBorder()}getChartTypes(){const e={};return this.chart.series.forEach(function(t){e[t.type]=1}),Object.keys(e)}}{var P=k=k||{};const F=[];function D(){this.accessibility&&this.accessibility.destroy()}function B(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const e=this.accessibility;e&&!e.zombie&&(e.proxyProvider.updateProxyElementPositions(),e.getComponentOrder().forEach(function(t){e.components[t].onChartRender()}))}function N(t){const e=t.options.accessibility;e&&(e.customComponents&&(this.options.accessibility.customComponents=e.customComponents,delete e.customComponents),M(!0,this.options.accessibility,e),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function I(){let t=this.accessibility;var e=this.options.accessibility;e&&e.enabled?t&&!t.zombie?t.update():(this.accessibility=t=new P(this),t&&!t.zombie&&t.update()):t?(t.destroy&&t.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function j(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}P.i18nFormat=l.i18nFormat,P.compose=function(e,t,i,n,o,s){if(h.compose(e),p.compose(n),d.compose(e,t),u.compose(e),m.compose(e,i,n),l.compose(e),c.compose(e,o),s&&g.compose(e,s),a.pushUnique(F,e)){const r=e.prototype;r.updateA11yEnabled=I,C(e,"destroy",D),C(e,"render",B),C(e,"update",N),["addSeries","init"].forEach(t=>{C(e,t,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(t=>{C(e,t,function(){const t=this.accessibility;t&&!t.zombie&&t.update()})})}a.pushUnique(F,i)&&C(i,"update",j),a.pushUnique(F,n)&&["update","updatedData","remove"].forEach(t=>{C(n,t,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})})}}return M(!0,t,f,{accessibility:{highContrastTheme:v},lang:y}),k}),e(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(t,e,i,n,o,s,r){const a=t;a.i18nFormat=e.i18nFormat,a.A11yChartUtilities=n,a.A11yHTMLUtilities=o,a.AccessibilityComponent=i,a.KeyboardNavigationHandler=s,a.SeriesAccessibilityDescriber=r,e.compose(a.Chart,a.Legend,a.Point,a.Series,a.SVGElement,a.RangeSelector)})});